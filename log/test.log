MongoDB logging. Please note that logging negatively impacts performance and should be disabled for high-performance production apps.
MONGODB admin['$cmd'].find({:ismaster=>1})
MONGODB admin['$cmd'].find({:ismaster=>1})
MONGODB admin['$cmd'].find({:buildinfo=>1})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816022c2281890000001'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:08 UTC, "updated_at"=>2012-12-11 00:42:08 UTC, "password_salt"=>"$2a$10$i6I9yIgBp8I1tGeb76UYM.", "password_hash"=>"$2a$10$i6I9yIgBp8I1tGeb76UYM.mZa2TNV2gfGx6bRrHapkLYwOu1mQpPu"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816722c2281890000002'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:15 UTC, "secret"=>"1d3c8d38236dcc81b047c5858dc0e0eb9887ac223a77e6d1dcd7b3f43c4f4c52", "updated_at"=>2012-12-11 00:42:15 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6816722c2281890000003'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:42:15 UTC, "token"=>"6735a488a88cebdd7825408ee8ad79fea0316a630c364f095bd4d6217bfef20b", "refresh_token"=>"b83dba5b0b2533b45f8e1850f9a5f5413ab05cee83eec67e73363fdc7e06810b", "expire_at"=>2012-12-11 01:12:15 UTC, "updated_at"=>2012-12-11 00:42:15 UTC}])
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6816722c2281890000004'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:15 UTC, "updated_at"=>2012-12-11 00:42:15 UTC}])


Started GET "/accesses" for 127.0.0.1 at 2012-12-10 19:42:15 -0500
  Processing by AccessesController#index as HTML
Redirected to http://www.example.com/log_in
Completed 302 Found in 0ms


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:15 -0500
  Processing by SessionsController#new as HTML
Rendered sessions/new.html.erb within layouts/application (9.8ms)
Completed 200 OK in 42ms (Views: 41.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816022c2281890000001')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816722c2281890000005'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:15 UTC, "updated_at"=>2012-12-11 00:42:15 UTC, "password_salt"=>"$2a$10$wpu5jQ94/ejfbO2XeKb1r.", "password_hash"=>"$2a$10$wpu5jQ94/ejfbO2XeKb1r.HNuPYvtc4eKDoG5q4gBAUi/EiTS0C9K"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816722c2281890000006'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:15 UTC, "secret"=>"d2399f6581914d649ec6af6e7faf0cf3594f06a318a0cc4cb8030afa7a6ad63f", "updated_at"=>2012-12-11 00:42:15 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6816722c2281890000007'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:42:15 UTC, "token"=>"6dbdd54a945055f118be874e0b1559d7607d5162276753c168d37432e8909d19", "refresh_token"=>"68e5ef1786b282a7ba6e064789d4f30468cdfc24532d7edf5a3ca43dc8668c5c", "expire_at"=>2012-12-11 01:12:15 UTC, "updated_at"=>2012-12-11 00:42:15 UTC}])
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6816722c2281890000008'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:15 UTC, "updated_at"=>2012-12-11 00:42:15 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:15 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 8ms (Views: 7.8ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:16 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/accesses
Completed 302 Found in 93ms


Started GET "/accesses" for 127.0.0.1 at 2012-12-10 19:42:16 -0500
  Processing by AccessesController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816722c2281890000005')})
MONGODB oauth_test['oauth_accesses'].find({:resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
Completed 200 OK in 19ms (Views: 17.6ms)


Started GET "/accesses" for 127.0.0.1 at 2012-12-10 19:42:16 -0500
  Processing by AccessesController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816722c2281890000005')})
MONGODB oauth_test['oauth_accesses'].find({:resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
Completed 200 OK in 8ms (Views: 6.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816722c2281890000005')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816822c2281890000009'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:16 UTC, "updated_at"=>2012-12-11 00:42:16 UTC, "password_salt"=>"$2a$10$h/QkDm90me1/Yrn75i2RV.", "password_hash"=>"$2a$10$h/QkDm90me1/Yrn75i2RV.w/gzjZY2xrRDNIA84Itp2T.K4X4bSD."}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816822c228189000000a'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:16 UTC, "secret"=>"01fed296c38e12636f9837b71f1cb960403ff5940de4243067f0662a491477f4", "updated_at"=>2012-12-11 00:42:16 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6816822c228189000000b'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:42:16 UTC, "token"=>"65ebc34fc067e4fa03a41ff039442b39cf235c39bd6d984a45a214815b5bde7b", "refresh_token"=>"b221dcdc1f0e7c785dc438dd63b882fb21cf6b4d83f2e17dccb72ce42a59f188", "expire_at"=>2012-12-11 01:12:16 UTC, "updated_at"=>2012-12-11 00:42:16 UTC}])
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6816822c228189000000c'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:16 UTC, "updated_at"=>2012-12-11 00:42:16 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:16 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:16 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6816822c2281890000009
Completed 302 Found in 88ms


Started GET "/users/50c6816822c2281890000009" for 127.0.0.1 at 2012-12-10 19:42:16 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6816822c2281890000009"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816822c2281890000009')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816822c2281890000009')})
Completed 200 OK in 358ms (Views: 14.6ms)


Started GET "/accesses" for 127.0.0.1 at 2012-12-10 19:42:17 -0500
  Processing by AccessesController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816822c2281890000009')})
MONGODB oauth_test['oauth_accesses'].find({:resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
Completed 200 OK in 8ms (Views: 6.8ms)


Started PUT "/accesses/50c6816722c2281890000004/block" for 127.0.0.1 at 2012-12-10 19:42:17 -0500
  Processing by AccessesController#block as HTML
  Parameters: {"id"=>"50c6816722c2281890000004"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816822c2281890000009')})
MONGODB oauth_test['oauth_accesses'].find({:resource_owner_uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816722c2281890000004')})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6816722c2281890000004')}, {"$set"=>{"blocked"=>2012-12-11 00:42:17 UTC, "updated_at"=>2012-12-11 00:42:17 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6816722c2281890000003')}, {"$set"=>{"blocked"=>2012-12-11 00:42:17 UTC, "updated_at"=>2012-12-11 00:42:17 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6816722c2281890000007')}, {"$set"=>{"blocked"=>2012-12-11 00:42:17 UTC, "updated_at"=>2012-12-11 00:42:17 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6816822c228189000000b')}, {"$set"=>{"blocked"=>2012-12-11 00:42:17 UTC, "updated_at"=>2012-12-11 00:42:17 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
Redirected to http://www.example.com/accesses
Completed 302 Found in 125ms


Started GET "/accesses" for 127.0.0.1 at 2012-12-10 19:42:17 -0500
  Processing by AccessesController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816822c2281890000009')})
MONGODB oauth_test['oauth_accesses'].find({:resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
Completed 200 OK in 8ms (Views: 6.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816822c2281890000009')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816922c228189000000d'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:17 UTC, "updated_at"=>2012-12-11 00:42:17 UTC, "password_salt"=>"$2a$10$qlgztCPoejY0O0xxYrbetu", "password_hash"=>"$2a$10$qlgztCPoejY0O0xxYrbetuYm.a5K4TDDLWlZs0ggT0iu7f66EiAs."}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816922c228189000000e'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:17 UTC, "secret"=>"6d9126b60ce0fe9c5f746f729fa4a3b5dabbee63d420513d981e73ba5420f71f", "updated_at"=>2012-12-11 00:42:17 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6816922c228189000000f'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:42:17 UTC, "token"=>"f37880d20ffe4df29ab3538f8df05105752a42338535242db77609527af69f8d", "refresh_token"=>"8ee0d88950a03f700c97b49338f4eae9b80a31815729342b0a7bdc4f8e82274f", "expire_at"=>2012-12-11 01:12:17 UTC, "updated_at"=>2012-12-11 00:42:17 UTC}])
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6816922c2281890000010'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:17 UTC, "updated_at"=>2012-12-11 00:42:17 UTC}])


Started GET "/accesses/50c6816922c2281890000010" for 127.0.0.1 at 2012-12-10 19:42:17 -0500
  Processing by AccessesController#show as HTML
  Parameters: {"id"=>"50c6816922c2281890000010"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816822c2281890000009')})
Redirected to http://www.example.com/log_in
Completed 302 Found in 1ms


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:17 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816922c228189000000d')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816922c2281890000011'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:17 UTC, "updated_at"=>2012-12-11 00:42:17 UTC, "password_salt"=>"$2a$10$E1FcE4UARR0ewlJF80qm5O", "password_hash"=>"$2a$10$E1FcE4UARR0ewlJF80qm5Oz0XyNJ6L2yTXJuk4IG7.MlyLJW.S09e"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816922c2281890000012'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:17 UTC, "secret"=>"a93e02ed452faed04deb8c70d33960fed80088929960b928ea92a338002d2d67", "updated_at"=>2012-12-11 00:42:17 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6816922c2281890000013'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:42:17 UTC, "token"=>"e9bf4bd69bf3c2517d27d86b69a7a16f2a90b3b0eb48938284f167e438076e2f", "refresh_token"=>"5cef7603e8a44438ab2d6a74f87d603a58258591a47947fe2d17f73bfb134c60", "expire_at"=>2012-12-11 01:12:17 UTC, "updated_at"=>2012-12-11 00:42:17 UTC}])
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6816922c2281890000014'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:17 UTC, "updated_at"=>2012-12-11 00:42:17 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:17 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:17 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/accesses/50c6816922c2281890000010
Completed 302 Found in 267ms


Started GET "/accesses/50c6816922c2281890000010" for 127.0.0.1 at 2012-12-10 19:42:17 -0500
  Processing by AccessesController#show as HTML
  Parameters: {"id"=>"50c6816922c2281890000010"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816922c2281890000011')})
MONGODB oauth_test['oauth_accesses'].find({:resource_owner_uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816922c2281890000010')})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6816922c2281890000010')}, {"$push"=>{"oauth_daily_requests"=>{"times"=>0, "_id"=>BSON::ObjectId('50c6816922c2281890000015'), "created_at"=>2012-12-11 00:42:17 UTC}}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6816922c2281890000010'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6816922c2281890000015')}, {"$set"=>{"oauth_daily_requests.0.day"=>"10", "oauth_daily_requests.0.month"=>"12", "oauth_daily_requests.0.year"=>"2012", "oauth_daily_requests.0.time_id"=>"20121210"}})
Completed 200 OK in 35ms (Views: 33.2ms)
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6816922c2281890000016'), "resource_owner_uri"=>"http://www.iana.org/domains/example/users/another", "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "created_at"=>2012-12-11 00:42:17 UTC, "updated_at"=>2012-12-11 00:42:17 UTC}])


Started GET "/accesses/50c6816922c2281890000014" for 127.0.0.1 at 2012-12-10 19:42:17 -0500
  Processing by AccessesController#show as HTML
  Parameters: {"id"=>"50c6816922c2281890000014"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816922c2281890000011')})
MONGODB oauth_test['oauth_accesses'].find({:resource_owner_uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816922c2281890000014')})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6816922c2281890000014')}, {"$push"=>{"oauth_daily_requests"=>{"times"=>0, "_id"=>BSON::ObjectId('50c6816922c2281890000017'), "created_at"=>2012-12-11 00:42:17 UTC}}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6816922c2281890000014'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6816922c2281890000017')}, {"$set"=>{"oauth_daily_requests.0.day"=>"10", "oauth_daily_requests.0.month"=>"12", "oauth_daily_requests.0.year"=>"2012", "oauth_daily_requests.0.time_id"=>"20121210"}})
Completed 200 OK in 13ms (Views: 6.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816922c2281890000011')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816922c2281890000018'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:17 UTC, "updated_at"=>2012-12-11 00:42:17 UTC, "password_salt"=>"$2a$10$KaRmtaX2Gw7l4XPqon97au", "password_hash"=>"$2a$10$KaRmtaX2Gw7l4XPqon97aufje7HGWv2/lMwmKZT6/UStAeLdQ1EEK"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816922c2281890000019'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:17 UTC, "secret"=>"76fd4be378d718a298db99d1293dc30dea8ab939aca881936b1ba5de935a5e0e", "updated_at"=>2012-12-11 00:42:17 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6816922c228189000001a'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:42:17 UTC, "token"=>"de23267d481130865d66b635bbb084e45df072ddb9a6887316e59a3488f24963", "refresh_token"=>"ad0f0ab1ec6ec705e002a5eea81e2b38c96633665ebffb40048fd7b69422b3a2", "expire_at"=>2012-12-11 01:12:17 UTC, "updated_at"=>2012-12-11 00:42:17 UTC}])
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6816922c228189000001b'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:17 UTC, "updated_at"=>2012-12-11 00:42:17 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:17 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:17 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6816922c2281890000018
Completed 302 Found in 324ms


Started GET "/users/50c6816922c2281890000018" for 127.0.0.1 at 2012-12-10 19:42:18 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6816922c2281890000018"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816922c2281890000018')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816922c2281890000018')})
Completed 200 OK in 6ms (Views: 3.9ms)
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6816a22c228189000001c'), "resource_owner_uri"=>"http://www.iana.org/domains/example/users/another", "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "created_at"=>2012-12-11 00:42:18 UTC, "updated_at"=>2012-12-11 00:42:18 UTC}])
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6816922c228189000001b')})


Started GET "/accesses/50c6816922c228189000001b" for 127.0.0.1 at 2012-12-10 19:42:18 -0500
  Processing by AccessesController#show as HTML
  Parameters: {"id"=>"50c6816922c228189000001b"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816922c2281890000018')})
MONGODB oauth_test['oauth_accesses'].find({:resource_owner_uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816922c228189000001b')})
Redirected to http://www.example.com/
Completed 302 Found in 2ms


Started GET "/" for 127.0.0.1 at 2012-12-10 19:42:18 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816922c2281890000018')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816a22c228189000001d'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:18 UTC, "updated_at"=>2012-12-11 00:42:18 UTC, "password_salt"=>"$2a$10$vQNyjRqNhwVPLlegrf67He", "password_hash"=>"$2a$10$vQNyjRqNhwVPLlegrf67HeG8afldl8jH0EYnA9RmKPbPuTeHut72m"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816a22c228189000001e'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:18 UTC, "secret"=>"083a8d4a00469e296eb34479c467b9d5199b723d90191579c15227705f4a0cee", "updated_at"=>2012-12-11 00:42:18 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6816a22c228189000001f'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:42:18 UTC, "token"=>"1ee92946254ca135455440f8c3bf1ecef760e99b5e3280ef77f67d8fef5eb341", "refresh_token"=>"d7ca7666749d10a54e4ac19d7075266df48941380c2fe79eef00e314d93d7a2e", "expire_at"=>2012-12-11 01:12:18 UTC, "updated_at"=>2012-12-11 00:42:18 UTC}])
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6816a22c2281890000020'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:18 UTC, "updated_at"=>2012-12-11 00:42:18 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:18 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:18 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6816a22c228189000001d
Completed 302 Found in 83ms


Started GET "/users/50c6816a22c228189000001d" for 127.0.0.1 at 2012-12-10 19:42:18 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6816a22c228189000001d"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816a22c228189000001d')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816a22c228189000001d')})
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6816a22c2281890000021'), "resource_owner_uri"=>"http://www.iana.org/domains/example/users/another", "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "created_at"=>2012-12-11 00:42:18 UTC, "updated_at"=>2012-12-11 00:42:18 UTC}])


Started GET "/accesses/50c6816a22c2281890000021" for 127.0.0.1 at 2012-12-10 19:42:18 -0500
  Processing by AccessesController#show as HTML
  Parameters: {"id"=>"50c6816a22c2281890000021"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816a22c228189000001d')})
MONGODB oauth_test['oauth_accesses'].find({:resource_owner_uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816a22c2281890000021')})
Redirected to http://www.example.com/
Completed 302 Found in 3ms


Started GET "/" for 127.0.0.1 at 2012-12-10 19:42:18 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816a22c228189000001d')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816a22c2281890000022'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:18 UTC, "updated_at"=>2012-12-11 00:42:18 UTC, "password_salt"=>"$2a$10$yPGO7gyZ.7eCArpj0o8Mou", "password_hash"=>"$2a$10$yPGO7gyZ.7eCArpj0o8Mouujym5EFfqA7JoLT.TyH6V6WbE0cwp1m"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816a22c2281890000023'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:18 UTC, "secret"=>"da496665df17424bd1c4210817de8631e66fa2b33a0d8d0c87fa03cb4d63129d", "updated_at"=>2012-12-11 00:42:18 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6816a22c2281890000024'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:42:18 UTC, "token"=>"2bbcc0d1fd8120373eee016af3360006139087349a454ab75ae9546fca7c53a6", "refresh_token"=>"23ee268418cae5e8ca7cfce3f9674c7417bf2b485d96ab683bdfcf3ed94cdcc2", "expire_at"=>2012-12-11 01:12:18 UTC, "updated_at"=>2012-12-11 00:42:18 UTC}])
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6816a22c2281890000025'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:18 UTC, "updated_at"=>2012-12-11 00:42:18 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:18 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:18 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6816a22c2281890000022
Completed 302 Found in 83ms


Started GET "/users/50c6816a22c2281890000022" for 127.0.0.1 at 2012-12-10 19:42:18 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6816a22c2281890000022"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816a22c2281890000022')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816a22c2281890000022')})
Completed 200 OK in 5ms (Views: 3.9ms)
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6816a22c2281890000026'), "resource_owner_uri"=>"http://www.iana.org/domains/example/users/another", "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "created_at"=>2012-12-11 00:42:18 UTC, "updated_at"=>2012-12-11 00:42:18 UTC}])


Started GET "/accesses/0" for 127.0.0.1 at 2012-12-10 19:42:18 -0500
  Processing by AccessesController#show as HTML
  Parameters: {"id"=>"0"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816a22c2281890000022')})
Completed   in 14ms
Redirected to http://www.example.com/


Started GET "/" for 127.0.0.1 at 2012-12-10 19:42:18 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816a22c2281890000022')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6816722c2281890000003')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6816722c2281890000007')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6816822c228189000000b')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6816922c228189000000f')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6816922c2281890000013')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6816922c228189000001a')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6816a22c228189000001f')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6816a22c2281890000024')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816722c2281890000002')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816722c2281890000006')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816822c228189000000a')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816922c228189000000e')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816922c2281890000012')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816922c2281890000019')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816a22c228189000001e')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816a22c2281890000023')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816a22c2281890000027'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:18 UTC, "updated_at"=>2012-12-11 00:42:18 UTC, "password_salt"=>"$2a$10$PE2avy32J1Erg49R0/ckBe", "password_hash"=>"$2a$10$PE2avy32J1Erg49R0/ckBefclCC1K/26xRn1dpsTHwfLfi8qLbSxS"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816a22c2281890000028'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:18 UTC, "updated_at"=>2012-12-11 00:42:18 UTC, "password_salt"=>"$2a$10$Oa7bEPWppRyOOPipPQpXhO", "password_hash"=>"$2a$10$Oa7bEPWppRyOOPipPQpXhO3svhX2JuY0bReuTbLoy3L03imM41UZa"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6816a22c2281890000029'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:18 UTC, "updated_at"=>2012-12-11 00:42:18 UTC, "password_salt"=>"$2a$10$bn48GuO6mIAbn8LtE3zVPe", "password_hash"=>"$2a$10$bn48GuO6mIAbn8LtE3zVPe6lxq/y534I89221vkzDNngaWcpz92KW"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816b22c228189000002a'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:19 UTC, "secret"=>"fae84ba764751d0ebaad3a76ec5f44e7d762e5d6ce16b2970baee7f77ed4e939", "updated_at"=>2012-12-11 00:42:19 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816b22c228189000002b'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:19 UTC, "secret"=>"a3c5a9c2eae3100540117fc627fb45c1fa4798c4243c82e33a5117058689ce14", "updated_at"=>2012-12-11 00:42:19 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6816b22c228189000002c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:19 UTC, "updated_at"=>2012-12-11 00:42:19 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6816b22c228189000002d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:19 UTC, "updated_at"=>2012-12-11 00:42:19 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816b22c228189000002e'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 00:42:19 UTC, "secret"=>"ef39e3b9945189a67ff7f9e80d9d336bf65a39fcbd2658ef0ef9e6faafbf96f5", "updated_at"=>2012-12-11 00:42:19 UTC}])


Started GET "/clients" for 127.0.0.1 at 2012-12-10 19:42:19 -0500
  Processing by ClientsController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816a22c2281890000022')})
Redirected to http://www.example.com/log_in
Completed 302 Found in 2ms


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:19 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816a22c2281890000027')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816a22c2281890000028')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816a22c2281890000029')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816b22c228189000002a')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816b22c228189000002b')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816b22c228189000002e')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816b22c228189000002c')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816b22c228189000002d')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816b22c228189000002f'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:19 UTC, "updated_at"=>2012-12-11 00:42:19 UTC, "password_salt"=>"$2a$10$APBH1Cq4USM5ddNBxw9/NO", "password_hash"=>"$2a$10$APBH1Cq4USM5ddNBxw9/NO0fC2IAVsW9DD9UxtqquOI8nDulXO/.m"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816b22c2281890000030'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:19 UTC, "updated_at"=>2012-12-11 00:42:19 UTC, "password_salt"=>"$2a$10$0XYgOziiWwqPC6gqkoAO/O", "password_hash"=>"$2a$10$0XYgOziiWwqPC6gqkoAO/OFSWPZ67732Pv.vXOs4x/fLyBzEo3ohC"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6816b22c2281890000031'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:19 UTC, "updated_at"=>2012-12-11 00:42:19 UTC, "password_salt"=>"$2a$10$JsFwRXmohAHRoEhlks69Qu", "password_hash"=>"$2a$10$JsFwRXmohAHRoEhlks69QuIteH2F804AnkpNLIcn/qFLovnQKmYb2"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816b22c2281890000032'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:19 UTC, "secret"=>"3be5748fb575e8d5b8c31c1644676e58b84ecec9185f0d545c8dfb770ad893d6", "updated_at"=>2012-12-11 00:42:19 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816b22c2281890000033'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:19 UTC, "secret"=>"0abe110a55716c81fa12017c5a069b09a8299eacb5e47604d480663fe1513078", "updated_at"=>2012-12-11 00:42:19 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6816b22c2281890000034'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:19 UTC, "updated_at"=>2012-12-11 00:42:19 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6816b22c2281890000035'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:19 UTC, "updated_at"=>2012-12-11 00:42:19 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816b22c2281890000036'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 00:42:19 UTC, "secret"=>"b75d1bf117c9d3056db9753b4d129df46e0cc09fff9c7b3041cea5ffe5b7e1e4", "updated_at"=>2012-12-11 00:42:19 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:19 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:19 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/clients
Completed 302 Found in 83ms


Started GET "/clients" for 127.0.0.1 at 2012-12-10 19:42:19 -0500
  Processing by ClientsController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816b22c228189000002f')})
MONGODB oauth_test['clients'].find({:created_from=>"http://www.iana.org/domains/example/users/example"})
Completed 200 OK in 18ms (Views: 16.6ms)


Started GET "/clients" for 127.0.0.1 at 2012-12-10 19:42:19 -0500
  Processing by ClientsController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816b22c228189000002f')})
MONGODB oauth_test['clients'].find({:created_from=>"http://www.iana.org/domains/example/users/example"})
Completed 200 OK in 8ms (Views: 5.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816b22c228189000002f')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816b22c2281890000030')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816b22c2281890000031')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816b22c2281890000032')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816b22c2281890000033')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816b22c2281890000036')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816b22c2281890000034')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816b22c2281890000035')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816b22c2281890000037'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:19 UTC, "updated_at"=>2012-12-11 00:42:19 UTC, "password_salt"=>"$2a$10$FA4h28WyLl9Pn7TVGP1Uge", "password_hash"=>"$2a$10$FA4h28WyLl9Pn7TVGP1UgeXvW9G20dXphVgpZBBpxv0u67nvoHOlS"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816b22c2281890000038'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:19 UTC, "updated_at"=>2012-12-11 00:42:19 UTC, "password_salt"=>"$2a$10$OIT3j6BrWt46eewyxDd.Tu", "password_hash"=>"$2a$10$OIT3j6BrWt46eewyxDd.TucqqtQSiuPnmeURVXq6Tt6bE3j45vHc2"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6816b22c2281890000039'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:19 UTC, "updated_at"=>2012-12-11 00:42:19 UTC, "password_salt"=>"$2a$10$d95TJiYM4gS9rEHgnPunhe", "password_hash"=>"$2a$10$d95TJiYM4gS9rEHgnPunheA6t4hricw/ToAvOSouXFbZb5N7aKVYC"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816b22c228189000003a'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:19 UTC, "secret"=>"84119f456417bdababe61ffa7f75c075ac7d30fa75b9117223cae98428b022bd", "updated_at"=>2012-12-11 00:42:19 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816b22c228189000003b'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:19 UTC, "secret"=>"c771beb807d3ef5ae834385f4fbb1e893c8fa30449f4033d7c39dea68931db0c", "updated_at"=>2012-12-11 00:42:19 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6816b22c228189000003c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:19 UTC, "updated_at"=>2012-12-11 00:42:19 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6816b22c228189000003d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:19 UTC, "updated_at"=>2012-12-11 00:42:19 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816b22c228189000003e'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 00:42:19 UTC, "secret"=>"b68291e961ac8f8ee834817d16795d02ff06e3e640e7e2200e2296f3e96940eb", "updated_at"=>2012-12-11 00:42:19 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:19 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:19 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6816b22c2281890000039
Completed 302 Found in 104ms


Started GET "/users/50c6816b22c2281890000039" for 127.0.0.1 at 2012-12-10 19:42:19 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6816b22c2281890000039"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816b22c2281890000039')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816b22c2281890000039')})
Completed 200 OK in 6ms (Views: 4.9ms)


Started GET "/clients" for 127.0.0.1 at 2012-12-10 19:42:19 -0500
  Processing by ClientsController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816b22c2281890000039')})
MONGODB oauth_test['clients'].find({})
Completed 200 OK in 9ms (Views: 8.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816b22c2281890000037')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816b22c2281890000038')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816b22c2281890000039')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816b22c228189000003a')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816b22c228189000003b')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816b22c228189000003e')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816b22c228189000003c')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816b22c228189000003d')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816b22c228189000003f'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:19 UTC, "updated_at"=>2012-12-11 00:42:19 UTC, "password_salt"=>"$2a$10$uIb4wzKCC6lErA3L6eofm.", "password_hash"=>"$2a$10$uIb4wzKCC6lErA3L6eofm.e/fBeFalmH9OC6huZFczl8TKiIM6IpC"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816c22c2281890000040'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:20 UTC, "updated_at"=>2012-12-11 00:42:20 UTC, "password_salt"=>"$2a$10$kwVlO5ce7ZNEOyvjqd8Q4e", "password_hash"=>"$2a$10$kwVlO5ce7ZNEOyvjqd8Q4eNskPt9Mo7EelQj7x0MD7xFKBgiour/e"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6816c22c2281890000041'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:20 UTC, "updated_at"=>2012-12-11 00:42:20 UTC, "password_salt"=>"$2a$10$gqupyO5x3tXgLAfoErShWu", "password_hash"=>"$2a$10$gqupyO5x3tXgLAfoErShWuHYPF04qrJnR4IAWNCY/lHcCiSfijeeq"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816c22c2281890000042'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:20 UTC, "secret"=>"3920a7f9cd5d40076c61d16c9f0802fcfa6416c18c426e6110de9a48bb9e4108", "updated_at"=>2012-12-11 00:42:20 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816c22c2281890000043'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:20 UTC, "secret"=>"039012744b452418485aa225923d051e88ce1847b5edca594b34acc3b5210dbe", "updated_at"=>2012-12-11 00:42:20 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6816c22c2281890000044'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:20 UTC, "updated_at"=>2012-12-11 00:42:20 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6816c22c2281890000045'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:20 UTC, "updated_at"=>2012-12-11 00:42:20 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816c22c2281890000046'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 00:42:20 UTC, "secret"=>"e7439152393716d78651d6cb41c36a2f722fce055d8757d30fa64290add319af", "updated_at"=>2012-12-11 00:42:20 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:20 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:20 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6816c22c2281890000041
Completed 302 Found in 84ms


Started GET "/users/50c6816c22c2281890000041" for 127.0.0.1 at 2012-12-10 19:42:20 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6816c22c2281890000041"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816c22c2281890000041')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816c22c2281890000041')})
Completed 200 OK in 6ms (Views: 4.9ms)


Started GET "/clients" for 127.0.0.1 at 2012-12-10 19:42:20 -0500
  Processing by ClientsController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816c22c2281890000041')})
MONGODB oauth_test['clients'].find({})
Completed 200 OK in 10ms (Views: 8.8ms)


Started PUT "/clients/50c6816c22c2281890000042/block" for 127.0.0.1 at 2012-12-10 19:42:20 -0500
  Processing by ClientsController#block as HTML
  Parameters: {"id"=>"50c6816c22c2281890000042"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816c22c2281890000041')})
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6816c22c2281890000042')})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6816c22c2281890000042')}, {"$set"=>{"blocked"=>2012-12-11 00:42:20 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
Redirected to http://www.example.com/clients
Completed 302 Found in 6ms


Started GET "/clients" for 127.0.0.1 at 2012-12-10 19:42:20 -0500
  Processing by ClientsController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816c22c2281890000041')})
MONGODB oauth_test['clients'].find({})
Completed 200 OK in 11ms (Views: 9.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816b22c228189000003f')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816c22c2281890000040')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816c22c2281890000041')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816c22c2281890000043')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816c22c2281890000046')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816c22c2281890000042')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816c22c2281890000044')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816c22c2281890000045')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816c22c2281890000047'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:20 UTC, "updated_at"=>2012-12-11 00:42:20 UTC, "password_salt"=>"$2a$10$cgxtYBm1Xz6rjQimkT41/e", "password_hash"=>"$2a$10$cgxtYBm1Xz6rjQimkT41/eBnfffXg.z0eZxMbKtUCkRcQMUntb.FS"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816c22c2281890000048'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:20 UTC, "updated_at"=>2012-12-11 00:42:20 UTC, "password_salt"=>"$2a$10$ivvnOXXXR3ThY0.qpRiEcu", "password_hash"=>"$2a$10$ivvnOXXXR3ThY0.qpRiEcuJqRdz43haeruDUKJdq5c8qByt6bKglq"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6816c22c2281890000049'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:20 UTC, "updated_at"=>2012-12-11 00:42:20 UTC, "password_salt"=>"$2a$10$bsjSkJf8rgeH3PHU9xZyuO", "password_hash"=>"$2a$10$bsjSkJf8rgeH3PHU9xZyuOKQg0htM9oNjj2p1d65bWBHZ1a9Osc7m"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816c22c228189000004a'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:20 UTC, "secret"=>"66285a4cac513e6924c39c07be34c15036e28faad4d64102076e5d7215aa8b2a", "updated_at"=>2012-12-11 00:42:20 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816c22c228189000004b'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:20 UTC, "secret"=>"6dd62d00bff45072a364cc5367a624f9ed9b0412f404a238e9948647903fd2bf", "updated_at"=>2012-12-11 00:42:20 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6816c22c228189000004c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:20 UTC, "updated_at"=>2012-12-11 00:42:20 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6816c22c228189000004d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:20 UTC, "updated_at"=>2012-12-11 00:42:20 UTC}])


Started GET "/clients/50c6816c22c228189000004a" for 127.0.0.1 at 2012-12-10 19:42:20 -0500
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"50c6816c22c228189000004a"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816c22c2281890000041')})
Redirected to http://www.example.com/log_in
Completed 302 Found in 1ms


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:20 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816c22c2281890000047')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816c22c2281890000048')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816c22c2281890000049')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816c22c228189000004a')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816c22c228189000004b')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816c22c228189000004c')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816c22c228189000004d')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816c22c228189000004e'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:20 UTC, "updated_at"=>2012-12-11 00:42:20 UTC, "password_salt"=>"$2a$10$2sQoAI.SK1hUhzFLLsMsM.", "password_hash"=>"$2a$10$2sQoAI.SK1hUhzFLLsMsM.OPUMzD5T1JNluVRjMyTwtdAFV6x3X.6"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816c22c228189000004f'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:20 UTC, "updated_at"=>2012-12-11 00:42:20 UTC, "password_salt"=>"$2a$10$mlsR8l/UpvB.PzpK0k9nuO", "password_hash"=>"$2a$10$mlsR8l/UpvB.PzpK0k9nuO3eSMaaiuL/05NpDjegQYzrgTVOmkRQK"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6816c22c2281890000050'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:20 UTC, "updated_at"=>2012-12-11 00:42:20 UTC, "password_salt"=>"$2a$10$Q/yVGSdDnORIPUXnKu0Pne", "password_hash"=>"$2a$10$Q/yVGSdDnORIPUXnKu0PneqMn3rX1UasxqNcAFZlYYMYW.lWuPe1."}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816d22c2281890000051'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:21 UTC, "secret"=>"4fbc391ce95a64c97ea5f35d84d731450cfab4b9f2fd4bd9e4c203f190831480", "updated_at"=>2012-12-11 00:42:21 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816d22c2281890000052'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:21 UTC, "secret"=>"b94fb684e9c64e42658f543a3ce6718678fe5de1e66f779e25f044654514acbd", "updated_at"=>2012-12-11 00:42:21 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6816d22c2281890000053'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:21 UTC, "updated_at"=>2012-12-11 00:42:21 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6816d22c2281890000054'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:21 UTC, "updated_at"=>2012-12-11 00:42:21 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:21 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:21 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/clients/50c6816c22c228189000004a
Completed 302 Found in 85ms


Started GET "/clients/50c6816c22c228189000004a" for 127.0.0.1 at 2012-12-10 19:42:21 -0500
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"50c6816c22c228189000004a"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816c22c228189000004e')})
MONGODB oauth_test['clients'].find({:created_from=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816c22c228189000004a')})
Redirected to http://www.example.com/
Completed 302 Found in 2ms


Started GET "/" for 127.0.0.1 at 2012-12-10 19:42:21 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started GET "/clients/50c6816d22c2281890000051" for 127.0.0.1 at 2012-12-10 19:42:21 -0500
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"50c6816d22c2281890000051"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816c22c228189000004e')})
MONGODB oauth_test['clients'].find({:created_from=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816d22c2281890000051')})
Completed 200 OK in 19ms (Views: 17.6ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816c22c228189000004e')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816c22c228189000004f')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816c22c2281890000050')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816d22c2281890000051')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816d22c2281890000052')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816d22c2281890000053')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816d22c2281890000054')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816d22c2281890000055'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:21 UTC, "updated_at"=>2012-12-11 00:42:21 UTC, "password_salt"=>"$2a$10$UzuUUI/yEw8zqnpYq2NIFO", "password_hash"=>"$2a$10$UzuUUI/yEw8zqnpYq2NIFOlunMIt5xlzMOQPJxstSBR0yEJD0iBUi"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816d22c2281890000056'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:21 UTC, "updated_at"=>2012-12-11 00:42:21 UTC, "password_salt"=>"$2a$10$6TSk1oDaOurintaQnzvadu", "password_hash"=>"$2a$10$6TSk1oDaOurintaQnzvadu3Ae9aoA5U3OavMk6Y3lZYA3aDEkuLGy"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6816d22c2281890000057'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:21 UTC, "updated_at"=>2012-12-11 00:42:21 UTC, "password_salt"=>"$2a$10$O1EYxem6gxvspTrtz1/xTu", "password_hash"=>"$2a$10$O1EYxem6gxvspTrtz1/xTumk8SifMYJPlNuylwphJQdhnVPmDqnMq"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816d22c2281890000058'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:21 UTC, "secret"=>"1bd44b4b28103ca10549b610985aca91e7da1c9901316f38d6a96a39dceae594", "updated_at"=>2012-12-11 00:42:21 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816d22c2281890000059'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:21 UTC, "secret"=>"4db605ebacf0068146eef58391cfc9baccf297145502640fb286105a8b2895dd", "updated_at"=>2012-12-11 00:42:21 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6816d22c228189000005a'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:21 UTC, "updated_at"=>2012-12-11 00:42:21 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6816d22c228189000005b'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:21 UTC, "updated_at"=>2012-12-11 00:42:21 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:21 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:21 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6816d22c2281890000055
Completed 302 Found in 84ms


Started GET "/users/50c6816d22c2281890000055" for 127.0.0.1 at 2012-12-10 19:42:21 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6816d22c2281890000055"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816d22c2281890000055')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816d22c2281890000055')})
Completed 200 OK in 6ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816d22c2281890000058')})


Started GET "/clients/50c6816d22c2281890000058" for 127.0.0.1 at 2012-12-10 19:42:21 -0500
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"50c6816d22c2281890000058"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816d22c2281890000055')})
MONGODB oauth_test['clients'].find({:created_from=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816d22c2281890000058')})
Redirected to http://www.example.com/
Completed 302 Found in 2ms


Started GET "/" for 127.0.0.1 at 2012-12-10 19:42:21 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816d22c2281890000055')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816d22c2281890000056')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816d22c2281890000057')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816d22c2281890000059')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816d22c228189000005a')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816d22c228189000005b')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816d22c228189000005c'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:21 UTC, "updated_at"=>2012-12-11 00:42:21 UTC, "password_salt"=>"$2a$10$I20fllhvoOV4zvJf7Hwjvu", "password_hash"=>"$2a$10$I20fllhvoOV4zvJf7Hwjvu/PlqYohBybRwvwI8h5412nqf.hVrwH2"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816d22c228189000005d'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:21 UTC, "updated_at"=>2012-12-11 00:42:21 UTC, "password_salt"=>"$2a$10$43IqcyAQcByvsHfVOR6LZu", "password_hash"=>"$2a$10$43IqcyAQcByvsHfVOR6LZu5RAdHk9dgY01TePf13DuR1MlvV8a8Oy"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6816d22c228189000005e'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:21 UTC, "updated_at"=>2012-12-11 00:42:21 UTC, "password_salt"=>"$2a$10$UJgH5DOGd.t0vx7lIM/qFu", "password_hash"=>"$2a$10$UJgH5DOGd.t0vx7lIM/qFuJLhYpqnPHqyKDoPIvw0QPqB6y9Cfvgu"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816d22c228189000005f'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:21 UTC, "secret"=>"96e0ab4c0ab8bbd19ace1a5342e144942a480dcbf46373243d89b3732e9de0f9", "updated_at"=>2012-12-11 00:42:21 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816d22c2281890000060'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:21 UTC, "secret"=>"420fd7af4a2d5e301469628fe4c59f70308ec4029f34ffa739e261ec883d2c8a", "updated_at"=>2012-12-11 00:42:21 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6816d22c2281890000061'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:21 UTC, "updated_at"=>2012-12-11 00:42:21 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6816d22c2281890000062'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:21 UTC, "updated_at"=>2012-12-11 00:42:21 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:21 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:21 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6816d22c228189000005c
Completed 302 Found in 83ms


Started GET "/users/50c6816d22c228189000005c" for 127.0.0.1 at 2012-12-10 19:42:21 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6816d22c228189000005c"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816d22c228189000005c')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816d22c228189000005c')})
Completed 200 OK in 6ms (Views: 4.9ms)


Started GET "/clients/50c6816d22c2281890000060" for 127.0.0.1 at 2012-12-10 19:42:21 -0500
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"50c6816d22c2281890000060"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816d22c228189000005c')})
MONGODB oauth_test['clients'].find({:created_from=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816d22c2281890000060')})
Redirected to http://www.example.com/
Completed 302 Found in 2ms


Started GET "/" for 127.0.0.1 at 2012-12-10 19:42:21 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816d22c228189000005c')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816d22c228189000005d')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816d22c228189000005e')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816d22c228189000005f')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816d22c2281890000060')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816d22c2281890000061')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816d22c2281890000062')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816d22c2281890000063'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:21 UTC, "updated_at"=>2012-12-11 00:42:21 UTC, "password_salt"=>"$2a$10$AuxN0xpev82n1oH0KWSZUe", "password_hash"=>"$2a$10$AuxN0xpev82n1oH0KWSZUef/gfFSwTNFQddPP9Apd.yBQtT2cc/xa"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816e22c2281890000064'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:22 UTC, "updated_at"=>2012-12-11 00:42:22 UTC, "password_salt"=>"$2a$10$EPbiGR/c2lVIoYJJAbNbxu", "password_hash"=>"$2a$10$EPbiGR/c2lVIoYJJAbNbxuyoj2qznHwNjVNBbBSIqSdNU9gHgITDO"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6816e22c2281890000065'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:22 UTC, "updated_at"=>2012-12-11 00:42:22 UTC, "password_salt"=>"$2a$10$tlODOih.rVO3Nz0EHOyI2.", "password_hash"=>"$2a$10$tlODOih.rVO3Nz0EHOyI2.CWhmMJqhLB56pfgAOP8lK857N1tnTia"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816e22c2281890000066'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:22 UTC, "secret"=>"6d25bea9f064b539ff78a233b7ad34b88dc02dd6c257967801163e59cca4dc01", "updated_at"=>2012-12-11 00:42:22 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816e22c2281890000067'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:22 UTC, "secret"=>"62d5ef6a3cf6d10ff01efc3517f80ca8477c07772d24cc830483efc3f20f9855", "updated_at"=>2012-12-11 00:42:22 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6816e22c2281890000068'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:22 UTC, "updated_at"=>2012-12-11 00:42:22 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6816e22c2281890000069'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:22 UTC, "updated_at"=>2012-12-11 00:42:22 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:22 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:22 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6816d22c2281890000063
Completed 302 Found in 84ms


Started GET "/users/50c6816d22c2281890000063" for 127.0.0.1 at 2012-12-10 19:42:22 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6816d22c2281890000063"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816d22c2281890000063')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816d22c2281890000063')})
Completed 200 OK in 5ms (Views: 3.9ms)


Started GET "/clients/0" for 127.0.0.1 at 2012-12-10 19:42:22 -0500
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"0"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816d22c2281890000063')})
Completed   in 1ms
Redirected to http://www.example.com/


Started GET "/" for 127.0.0.1 at 2012-12-10 19:42:22 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816d22c2281890000063')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816e22c2281890000064')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816e22c2281890000065')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816e22c2281890000066')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816e22c2281890000067')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816e22c2281890000068')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816e22c2281890000069')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816e22c228189000006a'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:22 UTC, "updated_at"=>2012-12-11 00:42:22 UTC, "password_salt"=>"$2a$10$j1PE6Aklr6ChGp0wGvlg1e", "password_hash"=>"$2a$10$j1PE6Aklr6ChGp0wGvlg1ePZu1aceoZ0H1cYaNNpljjOlr.yBRUhW"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816e22c228189000006b'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:22 UTC, "updated_at"=>2012-12-11 00:42:22 UTC, "password_salt"=>"$2a$10$vIrlPSwJpWjrNyovrp8Or.", "password_hash"=>"$2a$10$vIrlPSwJpWjrNyovrp8Or.murBqudpmMCOEdt03Dx1Kxntc0HeE0."}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6816e22c228189000006c'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:22 UTC, "updated_at"=>2012-12-11 00:42:22 UTC, "password_salt"=>"$2a$10$/R7rmu4UkiLoaTCPyGc8MO", "password_hash"=>"$2a$10$/R7rmu4UkiLoaTCPyGc8MOGYB4PC3mFJ5esLV307SwmZiEtJk4ZYW"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816e22c228189000006d'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:22 UTC, "secret"=>"8de77cc1e817d62da841f873a54de8abfc46c31b6e06ed260b2e85b300d32ccd", "updated_at"=>2012-12-11 00:42:22 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816e22c228189000006e'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:22 UTC, "secret"=>"e18de3ea6ff97ccdc13e84e94823fa73b362140a012721680826854cf8cf92f0", "updated_at"=>2012-12-11 00:42:22 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6816e22c228189000006f'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:22 UTC, "updated_at"=>2012-12-11 00:42:22 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6816e22c2281890000070'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:22 UTC, "updated_at"=>2012-12-11 00:42:22 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:22 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:22 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6816e22c228189000006c
Completed 302 Found in 82ms


Started GET "/users/50c6816e22c228189000006c" for 127.0.0.1 at 2012-12-10 19:42:22 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6816e22c228189000006c"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816e22c228189000006c')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816e22c228189000006c')})
Completed 200 OK in 6ms (Views: 4.9ms)


Started GET "/clients/50c6816e22c228189000006e" for 127.0.0.1 at 2012-12-10 19:42:22 -0500
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"50c6816e22c228189000006e"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816e22c228189000006c')})
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6816e22c228189000006e')})
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816e22c228189000006a')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816e22c228189000006b')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816e22c228189000006c')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816e22c228189000006d')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816e22c228189000006e')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816e22c228189000006f')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816e22c2281890000070')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816e22c2281890000071'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:22 UTC, "updated_at"=>2012-12-11 00:42:22 UTC, "password_salt"=>"$2a$10$6aHLeJjJIW0N3Whi01iBMe", "password_hash"=>"$2a$10$6aHLeJjJIW0N3Whi01iBMe2JcMXSBSwXdHS.BRrITIgaFPNBRpXoK"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816e22c2281890000072'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:22 UTC, "updated_at"=>2012-12-11 00:42:22 UTC, "password_salt"=>"$2a$10$9FDo7hSR6vc4DvTmngLkAu", "password_hash"=>"$2a$10$9FDo7hSR6vc4DvTmngLkAuNvUyN4cOOYiRY80mTeMa47eLBBM2PgG"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6816e22c2281890000073'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:22 UTC, "updated_at"=>2012-12-11 00:42:22 UTC, "password_salt"=>"$2a$10$UJVsIk1pMSlcbLtJ/hDIS.", "password_hash"=>"$2a$10$UJVsIk1pMSlcbLtJ/hDIS.wtMDPODouScHPMj.lBED9llpywDe.9q"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816f22c2281890000074'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:23 UTC, "secret"=>"3f796e3ea5f37278aad1f41be38aaa702462f63586b2324f6408b43d8c789547", "updated_at"=>2012-12-11 00:42:23 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816f22c2281890000075'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:23 UTC, "secret"=>"977e0c060fde0cbbb433a5a1d3e879dfafa6417dde1e73d19a7a1ae50bb5c8be", "updated_at"=>2012-12-11 00:42:23 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6816f22c2281890000076'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:23 UTC, "updated_at"=>2012-12-11 00:42:23 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6816f22c2281890000077'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:23 UTC, "updated_at"=>2012-12-11 00:42:23 UTC}])


Started GET "/clients/new" for 127.0.0.1 at 2012-12-10 19:42:23 -0500
  Processing by ClientsController#new as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816e22c228189000006c')})
Redirected to http://www.example.com/log_in
Completed 302 Found in 1ms


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:23 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816e22c2281890000071')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816e22c2281890000072')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816e22c2281890000073')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816f22c2281890000074')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816f22c2281890000075')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816f22c2281890000076')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816f22c2281890000077')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816f22c2281890000078'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:23 UTC, "updated_at"=>2012-12-11 00:42:23 UTC, "password_salt"=>"$2a$10$JH4bbFUjpZSCQqi0tywdRu", "password_hash"=>"$2a$10$JH4bbFUjpZSCQqi0tywdRuEEb7wlOg0NahZo8dxQdY4rym68DV5kO"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816f22c2281890000079'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:23 UTC, "updated_at"=>2012-12-11 00:42:23 UTC, "password_salt"=>"$2a$10$4g6CcBrkDcrSJSpuhbGmQe", "password_hash"=>"$2a$10$4g6CcBrkDcrSJSpuhbGmQer0QG9WfIUbD4LE7KsYhLYkx/lYIUrci"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6816f22c228189000007a'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:23 UTC, "updated_at"=>2012-12-11 00:42:23 UTC, "password_salt"=>"$2a$10$CWYALRhAiuPVwr3SrSGYdO", "password_hash"=>"$2a$10$CWYALRhAiuPVwr3SrSGYdOIH1u/yft8ZIbTyKpF6ImNaFRm512yPK"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816f22c228189000007b'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:23 UTC, "secret"=>"0296ceb11a04af928502765d1fd3a633481256517a9ff307db3f9a1ec2b67981", "updated_at"=>2012-12-11 00:42:23 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816f22c228189000007c'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:23 UTC, "secret"=>"8076e9544af0fa466358b1ea96cbccb732b9262b17ae32e5ef84c8648859c0aa", "updated_at"=>2012-12-11 00:42:23 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6816f22c228189000007d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:23 UTC, "updated_at"=>2012-12-11 00:42:23 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6816f22c228189000007e'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:23 UTC, "updated_at"=>2012-12-11 00:42:23 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:23 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:23 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/clients/new
Completed 302 Found in 82ms


Started GET "/clients/new" for 127.0.0.1 at 2012-12-10 19:42:23 -0500
  Processing by ClientsController#new as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816f22c2281890000078')})
Rendered clients/_form.html.erb (20.5ms)
Completed 200 OK in 34ms (Views: 33.2ms)


Started GET "/clients/new" for 127.0.0.1 at 2012-12-10 19:42:23 -0500
  Processing by ClientsController#new as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816f22c2281890000078')})
Rendered clients/_form.html.erb (2.9ms)
Completed 200 OK in 9ms (Views: 7.8ms)


Started POST "/clients" for 127.0.0.1 at 2012-12-10 19:42:23 -0500
  Processing by ClientsController#create as HTML
  Parameters: {"utf8"=>"✓", "client"=>{"name"=>"example", "site_uri"=>"http://www.iana.org/domains/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "scope"=>"pizzas", "info"=>"This is an example app"}, "commit"=>"Create Client"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816f22c2281890000078')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "name"=>"example", "site_uri"=>"http://www.iana.org/domains/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "info"=>"This is an example app", "_id"=>BSON::ObjectId('50c6816f22c2281890000081'), "created_from"=>"http://www.iana.org/domains/example/users/example", "uri"=>"http://www.example.com/clients/50c6816f22c2281890000081", "created_at"=>2012-12-11 00:42:23 UTC, "secret"=>"fab632c83075d0e2a8e4073ff67d0bf44d21556009690ac54ce2a84710571330", "updated_at"=>2012-12-11 00:42:23 UTC}])
Redirected to http://www.example.com/clients/50c6816f22c2281890000081
Completed 302 Found in 7ms


Started GET "/clients/50c6816f22c2281890000081" for 127.0.0.1 at 2012-12-10 19:42:23 -0500
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"50c6816f22c2281890000081"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816f22c2281890000078')})
MONGODB oauth_test['clients'].find({:created_from=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816f22c2281890000081')})
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['clients'].find({}).sort([[:_id, :desc]])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816f22c2281890000078')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816f22c2281890000079')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816f22c228189000007a')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816f22c228189000007b')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816f22c228189000007c')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.example.com/clients/50c6816f22c2281890000081"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.example.com/clients/50c6816f22c2281890000081"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.example.com/clients/50c6816f22c2281890000081"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.example.com/clients/50c6816f22c2281890000081"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816f22c2281890000081')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816f22c228189000007d')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816f22c228189000007e')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816f22c2281890000082'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:23 UTC, "updated_at"=>2012-12-11 00:42:23 UTC, "password_salt"=>"$2a$10$i4wD/mcL4iWwsW9xR6pwi.", "password_hash"=>"$2a$10$i4wD/mcL4iWwsW9xR6pwi.2DsxODoU4lLY1yu7gToQCKvOWJdS3Y6"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816f22c2281890000083'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:23 UTC, "updated_at"=>2012-12-11 00:42:23 UTC, "password_salt"=>"$2a$10$XjEk.WSnQlOAHrkBJc4SAu", "password_hash"=>"$2a$10$XjEk.WSnQlOAHrkBJc4SAu1Dba.ga6fL1HVG5C9Vrkw4CYsdR3qIi"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6816f22c2281890000084'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:23 UTC, "updated_at"=>2012-12-11 00:42:23 UTC, "password_salt"=>"$2a$10$T/zV.2.9qyPFKSI0yXpGxO", "password_hash"=>"$2a$10$T/zV.2.9qyPFKSI0yXpGxO33JswoC4OVLdLoh/HolLHnkWTPSxUKe"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816f22c2281890000085'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:23 UTC, "secret"=>"6829f6a4207792fb31697717ca584c019f213c249ad52c6e3d7dadebb6cb9f1e", "updated_at"=>2012-12-11 00:42:23 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6816f22c2281890000086'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:23 UTC, "secret"=>"fe0a214f94f5db6ff9bc2b840e9e6a5a33e4c63c30bab692d0c4a4534f818df4", "updated_at"=>2012-12-11 00:42:23 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6816f22c2281890000087'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:23 UTC, "updated_at"=>2012-12-11 00:42:23 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6816f22c2281890000088'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:23 UTC, "updated_at"=>2012-12-11 00:42:23 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:23 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:23 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6816f22c2281890000082
Completed 302 Found in 83ms


Started GET "/users/50c6816f22c2281890000082" for 127.0.0.1 at 2012-12-10 19:42:23 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6816f22c2281890000082"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816f22c2281890000082')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816f22c2281890000082')})
Completed 200 OK in 5ms (Views: 3.9ms)


Started GET "/clients/new" for 127.0.0.1 at 2012-12-10 19:42:23 -0500
  Processing by ClientsController#new as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816f22c2281890000082')})
Rendered clients/_form.html.erb (3.9ms)
Completed 200 OK in 9ms (Views: 7.8ms)


Started POST "/clients" for 127.0.0.1 at 2012-12-10 19:42:23 -0500
  Processing by ClientsController#create as HTML
  Parameters: {"utf8"=>"✓", "client"=>{"name"=>"example", "site_uri"=>"http://www.iana.org/domains/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "scope"=>"pizzas", "info"=>"This is an example app"}, "commit"=>"Create Client"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816f22c2281890000082')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "name"=>"example", "site_uri"=>"http://www.iana.org/domains/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "info"=>"This is an example app", "_id"=>BSON::ObjectId('50c6816f22c228189000008a'), "created_from"=>"http://www.iana.org/domains/example/users/example", "uri"=>"http://www.example.com/clients/50c6816f22c228189000008a", "created_at"=>2012-12-11 00:42:23 UTC, "secret"=>"c696cedfa6c89a56373e440bfaae61a8851eb5152704fc0fa56149fba953aea2", "updated_at"=>2012-12-11 00:42:23 UTC}])
Redirected to http://www.example.com/clients/50c6816f22c228189000008a
Completed 302 Found in 5ms


Started GET "/clients/50c6816f22c228189000008a" for 127.0.0.1 at 2012-12-10 19:42:23 -0500
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"50c6816f22c228189000008a"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816f22c2281890000082')})
MONGODB oauth_test['clients'].find({:created_from=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816f22c228189000008a')})
Completed 200 OK in 7ms (Views: 4.9ms)
MONGODB oauth_test['clients'].find({}).sort([[:_id, :desc]])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816f22c2281890000082')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816f22c2281890000083')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816f22c2281890000084')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816f22c2281890000085')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816f22c2281890000086')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.example.com/clients/50c6816f22c228189000008a"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.example.com/clients/50c6816f22c228189000008a"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.example.com/clients/50c6816f22c228189000008a"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.example.com/clients/50c6816f22c228189000008a"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6816f22c228189000008a')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816f22c2281890000087')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6816f22c2281890000088')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6816f22c228189000008b'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:23 UTC, "updated_at"=>2012-12-11 00:42:23 UTC, "password_salt"=>"$2a$10$vYTEFbI.eVIKg6rjPOp0QO", "password_hash"=>"$2a$10$vYTEFbI.eVIKg6rjPOp0QOFVrX52ngqu2JuyDbclu6ZDlfmyoAsjq"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817022c228189000008c'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:24 UTC, "updated_at"=>2012-12-11 00:42:24 UTC, "password_salt"=>"$2a$10$AZtx9UzHSZb4vpn4g2kxIe", "password_hash"=>"$2a$10$AZtx9UzHSZb4vpn4g2kxIeB22aSt2ieUTqX8J/IxJU3mw/jodxFJG"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6817022c228189000008d'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:24 UTC, "updated_at"=>2012-12-11 00:42:24 UTC, "password_salt"=>"$2a$10$3YjPSME36u4jyWPU/hqOm.", "password_hash"=>"$2a$10$3YjPSME36u4jyWPU/hqOm.WiWVRJrxHMfQQ7uwtPB0i4BMJSv5X96"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817022c228189000008e'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:24 UTC, "secret"=>"e6c88c98b3d2ca7869a298cee0f99a41d0011dd224b325eee3385dd703735f45", "updated_at"=>2012-12-11 00:42:24 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817022c228189000008f'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:24 UTC, "secret"=>"c73d050c4a4bba7e2714c2e43e978364ee8e116389d55ead953c8a9eaf47f8fa", "updated_at"=>2012-12-11 00:42:24 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817022c2281890000090'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:24 UTC, "updated_at"=>2012-12-11 00:42:24 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817022c2281890000091'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:24 UTC, "updated_at"=>2012-12-11 00:42:24 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:24 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:24 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6816f22c228189000008b
Completed 302 Found in 83ms


Started GET "/users/50c6816f22c228189000008b" for 127.0.0.1 at 2012-12-10 19:42:24 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6816f22c228189000008b"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816f22c228189000008b')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6816f22c228189000008b')})
Completed 200 OK in 6ms (Views: 4.9ms)


Started GET "/clients/new" for 127.0.0.1 at 2012-12-10 19:42:24 -0500
  Processing by ClientsController#new as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816f22c228189000008b')})
Rendered clients/_form.html.erb (2.9ms)
Completed 200 OK in 9ms (Views: 7.8ms)


Started POST "/clients" for 127.0.0.1 at 2012-12-10 19:42:24 -0500
  Processing by ClientsController#create as HTML
  Parameters: {"utf8"=>"✓", "client"=>{"name"=>"example", "site_uri"=>"http://www.iana.org/domains/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "scope"=>"pizzas", "info"=>"This is an example app"}, "commit"=>"Create Client"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816f22c228189000008b')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "name"=>"example", "site_uri"=>"http://www.iana.org/domains/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "info"=>"This is an example app", "_id"=>BSON::ObjectId('50c6817022c2281890000093'), "created_from"=>"http://www.iana.org/domains/example/users/example", "uri"=>"http://www.example.com/clients/50c6817022c2281890000093", "created_at"=>2012-12-11 00:42:24 UTC, "secret"=>"d49d7fc794c1915202cc03f782c73b8c6cb3121e2c78d6a401fb7aff3ed328e5", "updated_at"=>2012-12-11 00:42:24 UTC}])
Redirected to http://www.example.com/clients/50c6817022c2281890000093
Completed 302 Found in 6ms


Started GET "/clients/50c6817022c2281890000093" for 127.0.0.1 at 2012-12-10 19:42:24 -0500
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"50c6817022c2281890000093"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6816f22c228189000008b')})
MONGODB oauth_test['clients'].find({:created_from=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817022c2281890000093')})
Completed 200 OK in 7ms (Views: 4.9ms)
MONGODB oauth_test['clients'].find({}).sort([[:_id, :desc]])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6816f22c228189000008b')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817022c228189000008c')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817022c228189000008d')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817022c228189000008e')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817022c228189000008f')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.example.com/clients/50c6817022c2281890000093"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.example.com/clients/50c6817022c2281890000093"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.example.com/clients/50c6817022c2281890000093"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.example.com/clients/50c6817022c2281890000093"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817022c2281890000093')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817022c2281890000090')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817022c2281890000091')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817022c2281890000094'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:24 UTC, "updated_at"=>2012-12-11 00:42:24 UTC, "password_salt"=>"$2a$10$AI.akWITaxK9FqeBaPvi1O", "password_hash"=>"$2a$10$AI.akWITaxK9FqeBaPvi1O9wo0fd4CZ1F1QXflprkFEXX2JXr1AWa"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817022c2281890000095'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:24 UTC, "updated_at"=>2012-12-11 00:42:24 UTC, "password_salt"=>"$2a$10$Ym3oRAlyNqvvOE7hNsHqYO", "password_hash"=>"$2a$10$Ym3oRAlyNqvvOE7hNsHqYOLyC8zlZlaE1W.PEIcWSESyGxG8Zxp.C"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6817022c2281890000096'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:24 UTC, "updated_at"=>2012-12-11 00:42:24 UTC, "password_salt"=>"$2a$10$UR88nAqiXymXyJ/8auU0NO", "password_hash"=>"$2a$10$UR88nAqiXymXyJ/8auU0NOXDV1Szd9ZXq7xsxN9jOQ4NH4k8XA.3K"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817022c2281890000097'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:24 UTC, "secret"=>"91fe02982c87342dab9a351fa156b27b39bce91c786fc343f7dca32d408512a3", "updated_at"=>2012-12-11 00:42:24 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817022c2281890000098'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:24 UTC, "secret"=>"18e72279482127771d4e6fa8560dd4a41cd7ad5c4eb1062df7c6a8c21d4adb1d", "updated_at"=>2012-12-11 00:42:24 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817022c2281890000099'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:24 UTC, "updated_at"=>2012-12-11 00:42:24 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817022c228189000009a'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:24 UTC, "updated_at"=>2012-12-11 00:42:24 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:24 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:24 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6817022c2281890000094
Completed 302 Found in 82ms


Started GET "/users/50c6817022c2281890000094" for 127.0.0.1 at 2012-12-10 19:42:24 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6817022c2281890000094"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817022c2281890000094')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817022c2281890000094')})
Completed 200 OK in 6ms (Views: 3.9ms)


Started GET "/clients/new" for 127.0.0.1 at 2012-12-10 19:42:24 -0500
  Processing by ClientsController#new as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817022c2281890000094')})
Rendered clients/_form.html.erb (2.9ms)
Completed 200 OK in 9ms (Views: 7.8ms)


Started POST "/clients" for 127.0.0.1 at 2012-12-10 19:42:24 -0500
  Processing by ClientsController#create as HTML
  Parameters: {"utf8"=>"✓", "client"=>{"name"=>"", "site_uri"=>"http://www.iana.org/domains/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "scope"=>"pizzas", "info"=>"This is an example app"}, "commit"=>"Create Client"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817022c2281890000094')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
Rendered clients/_form.html.erb (4.9ms)
Completed 200 OK in 15ms (Views: 8.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817022c2281890000094')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817022c2281890000095')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817022c2281890000096')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817022c2281890000097')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817022c2281890000098')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817022c2281890000099')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817022c228189000009a')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817022c228189000009d'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:24 UTC, "updated_at"=>2012-12-11 00:42:24 UTC, "password_salt"=>"$2a$10$MxPoTs14yWwd/x7TSM8Hne", "password_hash"=>"$2a$10$MxPoTs14yWwd/x7TSM8Hne6/GHuaHWbyLzI9.diutisUWA3rb6t4i"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817022c228189000009e'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:24 UTC, "updated_at"=>2012-12-11 00:42:24 UTC, "password_salt"=>"$2a$10$Ji.z9SjJ6pdTmv9z1QGFJO", "password_hash"=>"$2a$10$Ji.z9SjJ6pdTmv9z1QGFJO9BCWBpoSUHx16n9OlkqNA4g1qdzq1KC"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6817122c228189000009f'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:25 UTC, "updated_at"=>2012-12-11 00:42:25 UTC, "password_salt"=>"$2a$10$/bxAF0SxBEwQQuXdxj048u", "password_hash"=>"$2a$10$/bxAF0SxBEwQQuXdxj048u4k7ZVlr277xXx8.KxRlcBiYRCg0.wiO"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817122c22818900000a0'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:25 UTC, "secret"=>"a480318a2feee4424df598e6333bbc84183afc1e134b8e3b35e52c3ddc0311e9", "updated_at"=>2012-12-11 00:42:25 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817122c22818900000a1'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:25 UTC, "secret"=>"7cbc8ae13200a7db834fc3476dd5e775b5f3fcd76d2058a30dcda394220c2d58", "updated_at"=>2012-12-11 00:42:25 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817122c22818900000a2'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:25 UTC, "updated_at"=>2012-12-11 00:42:25 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817122c22818900000a3'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:25 UTC, "updated_at"=>2012-12-11 00:42:25 UTC}])


Started GET "/clients/50c6817122c22818900000a0/edit" for 127.0.0.1 at 2012-12-10 19:42:25 -0500
  Processing by ClientsController#edit as HTML
  Parameters: {"id"=>"50c6817122c22818900000a0"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817022c2281890000094')})
Redirected to http://www.example.com/log_in
Completed 302 Found in 1ms


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:25 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817022c228189000009d')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817022c228189000009e')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817122c228189000009f')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000a0')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000a1')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000a2')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000a3')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817122c22818900000a4'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:25 UTC, "updated_at"=>2012-12-11 00:42:25 UTC, "password_salt"=>"$2a$10$j0yXjGu9TiJ.tmZTftF3Qe", "password_hash"=>"$2a$10$j0yXjGu9TiJ.tmZTftF3QeDnPf5LMxEazoEUDdRMNf3gqBuKyhJAi"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817122c22818900000a5'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:25 UTC, "updated_at"=>2012-12-11 00:42:25 UTC, "password_salt"=>"$2a$10$0jrp5cBOlEU/AklJ.bEGlO", "password_hash"=>"$2a$10$0jrp5cBOlEU/AklJ.bEGlORPzFAk7P3HeS6dOLbN5E11FN4LKd9.u"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6817122c22818900000a6'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:25 UTC, "updated_at"=>2012-12-11 00:42:25 UTC, "password_salt"=>"$2a$10$U439pLhi4S1CXwwPkElBmu", "password_hash"=>"$2a$10$U439pLhi4S1CXwwPkElBmuHWoWs5TABhZWFd3N56g72P4yGr8qoBa"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817122c22818900000a7'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:25 UTC, "secret"=>"28effcfa3c978a506a60816eacfb16dd1b02f8d6feff487e861c331a7c0af620", "updated_at"=>2012-12-11 00:42:25 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817122c22818900000a8'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:25 UTC, "secret"=>"b16423af4d2eb28fd30ebce2636d97e1bad3da998fbd32902c4a21843892f478", "updated_at"=>2012-12-11 00:42:25 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817122c22818900000a9'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:25 UTC, "updated_at"=>2012-12-11 00:42:25 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817122c22818900000aa'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:25 UTC, "updated_at"=>2012-12-11 00:42:25 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:25 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:25 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/clients/50c6817122c22818900000a0/edit
Completed 302 Found in 82ms


Started GET "/clients/50c6817122c22818900000a0/edit" for 127.0.0.1 at 2012-12-10 19:42:25 -0500
  Processing by ClientsController#edit as HTML
  Parameters: {"id"=>"50c6817122c22818900000a0"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817122c22818900000a4')})
MONGODB oauth_test['clients'].find({:created_from=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817122c22818900000a0')})
Redirected to http://www.example.com/
Completed 302 Found in 2ms


Started GET "/" for 127.0.0.1 at 2012-12-10 19:42:25 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 3ms (Views: 2.9ms)


Started GET "/clients/50c6817122c22818900000a7/edit" for 127.0.0.1 at 2012-12-10 19:42:25 -0500
  Processing by ClientsController#edit as HTML
  Parameters: {"id"=>"50c6817122c22818900000a7"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817122c22818900000a4')})
MONGODB oauth_test['clients'].find({:created_from=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817122c22818900000a7')})
Rendered clients/_form.html.erb (2.9ms)
Completed 200 OK in 14ms (Views: 12.7ms)


Started POST "/clients/50c6817122c22818900000a7" for 127.0.0.1 at 2012-12-10 19:42:25 -0500
  Processing by ClientsController#update as HTML
  Parameters: {"utf8"=>"✓", "client"=>{"name"=>"Example Updated", "site_uri"=>"http://www.iana.org/domains/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "scope"=>"pizzas", "info"=>"This is an example app"}, "commit"=>"Update Client", "id"=>"50c6817122c22818900000a7"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817122c22818900000a4')})
MONGODB oauth_test['clients'].find({:created_from=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817122c22818900000a7')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6817122c22818900000a7')}, {"$set"=>{"scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"], "name"=>"Example Updated", "site_uri"=>"http://www.iana.org/domains/example", "info"=>"This is an example app"}})
Completed 200 OK in 11ms (Views: 4.9ms)
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6817122c22818900000a7')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000a4')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000a5')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000a6')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000a8')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000a7')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000a9')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000aa')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817122c22818900000ab'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:25 UTC, "updated_at"=>2012-12-11 00:42:25 UTC, "password_salt"=>"$2a$10$YhZoCQldlGEL//puKmhul.", "password_hash"=>"$2a$10$YhZoCQldlGEL//puKmhul.uXsatfSP.niXqces8/s0SR0QzIIXRHu"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817122c22818900000ac'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:25 UTC, "updated_at"=>2012-12-11 00:42:25 UTC, "password_salt"=>"$2a$10$oTme9zL.3GRJcinNVmKrNO", "password_hash"=>"$2a$10$oTme9zL.3GRJcinNVmKrNOJX0pQEwU15VFQBfu4Ha77Vp0idLcFOO"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6817122c22818900000ad'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:25 UTC, "updated_at"=>2012-12-11 00:42:25 UTC, "password_salt"=>"$2a$10$mZLQGiiVURcvVgcWImk50.", "password_hash"=>"$2a$10$mZLQGiiVURcvVgcWImk50.8EwPW9z5l6BVQwVG7HU27QcJCciqSTW"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817122c22818900000ae'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:25 UTC, "secret"=>"6bed8821720c6b2c8ab0de5148f5f0036bc2f21e1cfc89ee17b4e108a8c20d88", "updated_at"=>2012-12-11 00:42:25 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817122c22818900000af'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:25 UTC, "secret"=>"9aefe563096f43d4d5136279eaef9f8235c37eafb21609750e60c176d04eb9fb", "updated_at"=>2012-12-11 00:42:25 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817122c22818900000b0'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:25 UTC, "updated_at"=>2012-12-11 00:42:25 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817122c22818900000b1'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:25 UTC, "updated_at"=>2012-12-11 00:42:25 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:25 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:25 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6817122c22818900000ab
Completed 302 Found in 83ms


Started GET "/users/50c6817122c22818900000ab" for 127.0.0.1 at 2012-12-10 19:42:25 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6817122c22818900000ab"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817122c22818900000ab')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817122c22818900000ab')})
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000ae')})


Started GET "/clients/50c6817122c22818900000ae/edit" for 127.0.0.1 at 2012-12-10 19:42:25 -0500
  Processing by ClientsController#edit as HTML
  Parameters: {"id"=>"50c6817122c22818900000ae"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817122c22818900000ab')})
MONGODB oauth_test['clients'].find({:created_from=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817122c22818900000ae')})
Redirected to http://www.example.com/
Completed 302 Found in 2ms


Started GET "/" for 127.0.0.1 at 2012-12-10 19:42:25 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000ab')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000ac')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000ad')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000af')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000b0')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817122c22818900000b1')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817222c22818900000b2'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:26 UTC, "updated_at"=>2012-12-11 00:42:26 UTC, "password_salt"=>"$2a$10$28rF3r9FbTthdtjuD4dIde", "password_hash"=>"$2a$10$28rF3r9FbTthdtjuD4dIde/ymsAkoUjlDEwORxx9eQELwegGC4Pz2"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817222c22818900000b3'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:26 UTC, "updated_at"=>2012-12-11 00:42:26 UTC, "password_salt"=>"$2a$10$4OjNJ/TJfLOfUoI5Pkj1ju", "password_hash"=>"$2a$10$4OjNJ/TJfLOfUoI5Pkj1juncKEuhNP4xUmARj.KgMJvA8Vbk7vph2"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6817222c22818900000b4'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:26 UTC, "updated_at"=>2012-12-11 00:42:26 UTC, "password_salt"=>"$2a$10$bjcuba9xdliJRnp43.Oamu", "password_hash"=>"$2a$10$bjcuba9xdliJRnp43.OamuvVoBwYt3FTq9rQlNX7FmIrUUZ1GrBO."}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817222c22818900000b5'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:26 UTC, "secret"=>"0c6d3ffb0e2051c801977d008ebf530c16149f554303268e3b77a042c4119d81", "updated_at"=>2012-12-11 00:42:26 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817222c22818900000b6'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:26 UTC, "secret"=>"c4ace14c16e20090a0f46678273f4b1f22c7bb7852d1b7b14373ff6b0433b243", "updated_at"=>2012-12-11 00:42:26 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817222c22818900000b7'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:26 UTC, "updated_at"=>2012-12-11 00:42:26 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817222c22818900000b8'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:26 UTC, "updated_at"=>2012-12-11 00:42:26 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:26 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:26 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6817222c22818900000b2
Completed 302 Found in 82ms


Started GET "/users/50c6817222c22818900000b2" for 127.0.0.1 at 2012-12-10 19:42:26 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6817222c22818900000b2"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817222c22818900000b2')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817222c22818900000b2')})
Completed 200 OK in 5ms (Views: 3.9ms)


Started GET "/clients/50c6817222c22818900000b6/edit" for 127.0.0.1 at 2012-12-10 19:42:26 -0500
  Processing by ClientsController#edit as HTML
  Parameters: {"id"=>"50c6817222c22818900000b6"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817222c22818900000b2')})
MONGODB oauth_test['clients'].find({:created_from=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817222c22818900000b6')})
Redirected to http://www.example.com/
Completed 302 Found in 1ms


Started GET "/" for 127.0.0.1 at 2012-12-10 19:42:26 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817222c22818900000b2')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817222c22818900000b3')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817222c22818900000b4')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817222c22818900000b5')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817222c22818900000b6')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817222c22818900000b7')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817222c22818900000b8')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817222c22818900000b9'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:26 UTC, "updated_at"=>2012-12-11 00:42:26 UTC, "password_salt"=>"$2a$10$oRGxNPFXKhDpxkSRYWmPF.", "password_hash"=>"$2a$10$oRGxNPFXKhDpxkSRYWmPF.az.X3kjjVWxoLILoXAbmzMwYRplZhQO"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817222c22818900000ba'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:26 UTC, "updated_at"=>2012-12-11 00:42:26 UTC, "password_salt"=>"$2a$10$7AaBRssUnz9N4PrtmSxNgu", "password_hash"=>"$2a$10$7AaBRssUnz9N4PrtmSxNgufbwVbUaanX5BqEr1Q5u82XIZTnjADgC"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6817222c22818900000bb'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:26 UTC, "updated_at"=>2012-12-11 00:42:26 UTC, "password_salt"=>"$2a$10$ORAWtS1KfkgqDgLC2/FxWu", "password_hash"=>"$2a$10$ORAWtS1KfkgqDgLC2/FxWukwoTATjuVJpZuGKTEmvhGHhp4kp6Eei"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817222c22818900000bc'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:26 UTC, "secret"=>"1dd22072c016e10858f2a9795abd2b8bbedbb664c863f4e843c20ca4802b9eb7", "updated_at"=>2012-12-11 00:42:26 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817222c22818900000bd'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:26 UTC, "secret"=>"2b64023283525e16062c085b10727edaf65d67ea6065dbac66feb1fd739dcc48", "updated_at"=>2012-12-11 00:42:26 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817222c22818900000be'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:26 UTC, "updated_at"=>2012-12-11 00:42:26 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817222c22818900000bf'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:26 UTC, "updated_at"=>2012-12-11 00:42:26 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:26 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:26 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6817222c22818900000b9
Completed 302 Found in 83ms


Started GET "/users/50c6817222c22818900000b9" for 127.0.0.1 at 2012-12-10 19:42:26 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6817222c22818900000b9"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817222c22818900000b9')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817222c22818900000b9')})
Completed 200 OK in 6ms (Views: 4.9ms)


Started GET "/clients/0" for 127.0.0.1 at 2012-12-10 19:42:26 -0500
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"0"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817222c22818900000b9')})
Completed   in 1ms
Redirected to http://www.example.com/


Started GET "/" for 127.0.0.1 at 2012-12-10 19:42:26 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817222c22818900000b9')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817222c22818900000ba')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817222c22818900000bb')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817222c22818900000bc')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817222c22818900000bd')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817222c22818900000be')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817222c22818900000bf')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817222c22818900000c0'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:26 UTC, "updated_at"=>2012-12-11 00:42:26 UTC, "password_salt"=>"$2a$10$fvOc.JB5oX4PKWDKlpb0tu", "password_hash"=>"$2a$10$fvOc.JB5oX4PKWDKlpb0tu7lada5fdupldfpbKz/Xcd1HqrUpprea"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817222c22818900000c1'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:26 UTC, "updated_at"=>2012-12-11 00:42:26 UTC, "password_salt"=>"$2a$10$.bF0EgHrfjqUy8hDokBCSe", "password_hash"=>"$2a$10$.bF0EgHrfjqUy8hDokBCSeRjs.HOpdcz1zxqDc5C2YSLlKsU44xzy"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6817222c22818900000c2'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:26 UTC, "updated_at"=>2012-12-11 00:42:26 UTC, "password_salt"=>"$2a$10$UuxZyho21DgLXfvWV8TpBe", "password_hash"=>"$2a$10$UuxZyho21DgLXfvWV8TpBell6TzuGAsRbeM9p78tZwJPXMEpPTOsa"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817322c22818900000c3'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:27 UTC, "secret"=>"c03176688bbf02773f1c6b873df940a9c0973f282795d8de15fcfd25e2dd6001", "updated_at"=>2012-12-11 00:42:27 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817322c22818900000c4'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:27 UTC, "secret"=>"81de4de43d232e8ae8b5c05a62103bb3f0797ff9ff528b565367dbdd6e8d94a9", "updated_at"=>2012-12-11 00:42:27 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817322c22818900000c5'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:27 UTC, "updated_at"=>2012-12-11 00:42:27 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817322c22818900000c6'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:27 UTC, "updated_at"=>2012-12-11 00:42:27 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:27 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:27 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6817222c22818900000c0
Completed 302 Found in 82ms


Started GET "/users/50c6817222c22818900000c0" for 127.0.0.1 at 2012-12-10 19:42:27 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6817222c22818900000c0"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817222c22818900000c0')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817222c22818900000c0')})
Completed 200 OK in 6ms (Views: 4.9ms)


Started GET "/clients/50c6817322c22818900000c3/edit" for 127.0.0.1 at 2012-12-10 19:42:27 -0500
  Processing by ClientsController#edit as HTML
  Parameters: {"id"=>"50c6817322c22818900000c3"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817222c22818900000c0')})
MONGODB oauth_test['clients'].find({:created_from=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817322c22818900000c3')})
Rendered clients/_form.html.erb (3.9ms)
Completed 200 OK in 10ms (Views: 8.8ms)


Started POST "/clients/50c6817322c22818900000c3" for 127.0.0.1 at 2012-12-10 19:42:27 -0500
  Processing by ClientsController#update as HTML
  Parameters: {"utf8"=>"✓", "client"=>{"name"=>"", "site_uri"=>"http://www.iana.org/domains/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "scope"=>"pizzas", "info"=>"This is an example app"}, "commit"=>"Update Client", "id"=>"50c6817322c22818900000c3"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817222c22818900000c0')})
MONGODB oauth_test['clients'].find({:created_from=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817322c22818900000c3')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
Rendered clients/_form.html.erb (3.9ms)
Completed 200 OK in 16ms (Views: 8.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817222c22818900000c0')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817222c22818900000c1')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817222c22818900000c2')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000c3')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000c4')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000c5')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000c6')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817322c22818900000c7'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:27 UTC, "updated_at"=>2012-12-11 00:42:27 UTC, "password_salt"=>"$2a$10$UY1KarK6WWimHyRNbP5vSe", "password_hash"=>"$2a$10$UY1KarK6WWimHyRNbP5vSeLsPjJKGi9MzrGZRLkFIrCPzq5TaABey"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817322c22818900000c8'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:27 UTC, "updated_at"=>2012-12-11 00:42:27 UTC, "password_salt"=>"$2a$10$VjAgBrDSVzD7CsrNcqrVHu", "password_hash"=>"$2a$10$VjAgBrDSVzD7CsrNcqrVHuXyOakWKOvAFiKo9aau8Hd4M0DdgAjpi"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6817322c22818900000c9'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 00:42:27 UTC, "updated_at"=>2012-12-11 00:42:27 UTC, "password_salt"=>"$2a$10$w/us5Zff0v9N1JozW2GJqO", "password_hash"=>"$2a$10$w/us5Zff0v9N1JozW2GJqOTj7iDYbBHWD5Q9It8P//NLJOc0w/r.y"}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817322c22818900000ca'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:27 UTC, "secret"=>"57a0745687e04bf3f588d4fc78778cf9b3426b67caf4cca8a66baeb4999849bf", "updated_at"=>2012-12-11 00:42:27 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817322c22818900000cb'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "name"=>"Not owned client", "created_from"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 00:42:27 UTC, "secret"=>"278e925c013a6e2493d3ef2adb68f54bceea2c6351118bd4b43eff2a4aee914b", "updated_at"=>2012-12-11 00:42:27 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817322c22818900000cc'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:27 UTC, "updated_at"=>2012-12-11 00:42:27 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817322c22818900000cd'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:27 UTC, "updated_at"=>2012-12-11 00:42:27 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:27 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:27 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6817322c22818900000c9
Completed 302 Found in 83ms


Started GET "/users/50c6817322c22818900000c9" for 127.0.0.1 at 2012-12-10 19:42:27 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6817322c22818900000c9"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817322c22818900000c9')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817322c22818900000c9')})
Completed 200 OK in 6ms (Views: 4.9ms)


Started GET "/clients/50c6817322c22818900000cb/edit" for 127.0.0.1 at 2012-12-10 19:42:27 -0500
  Processing by ClientsController#edit as HTML
  Parameters: {"id"=>"50c6817322c22818900000cb"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817322c22818900000c9')})
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6817322c22818900000cb')})
Rendered clients/_form.html.erb (3.9ms)
Completed 200 OK in 10ms (Views: 8.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000c7')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000c8')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000c9')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000ca')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000cb')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6816722c2281890000008')})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6816822c228189000000c')})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6816722c2281890000004')})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6816922c2281890000010')})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6816922c2281890000016')})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6816922c2281890000014')})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6816a22c228189000001c')})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6816a22c2281890000020')})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6816a22c2281890000021')})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6816a22c2281890000025')})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6816a22c2281890000026')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817322c22818900000ce'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:27 UTC, "updated_at"=>2012-12-11 00:42:27 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817322c22818900000cf'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:27 UTC, "updated_at"=>2012-12-11 00:42:27 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817322c22818900000d0'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:27 UTC, "updated_at"=>2012-12-11 00:42:27 UTC, "password_salt"=>"$2a$10$QAHsDwSImyTEw7S35dsfqe", "password_hash"=>"$2a$10$QAHsDwSImyTEw7S35dsfqeH5ytH1182bBJwxoLkNW5QFtotri5LGO"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:27 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:27 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6817322c22818900000d0
Completed 302 Found in 82ms


Started GET "/users/50c6817322c22818900000d0" for 127.0.0.1 at 2012-12-10 19:42:27 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6817322c22818900000d0"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817322c22818900000d0')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817322c22818900000d0')})
Completed 200 OK in 6ms (Views: 3.9ms)
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817322c22818900000d1'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:27 UTC, "secret"=>"1794d2e31a98b38d0a4689a7dde6e1325e86c44a779107c8184b85b9ff12e562", "updated_at"=>2012-12-11 00:42:27 UTC}])


Started GET "/oauth/authorization?response_type=code&scope=pizzas&client_id=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fusers%2Falice%2Fclient%2Flelylan&redirect_uri=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fapp%2Fcallback" for 127.0.0.1 at 2012-12-10 19:42:27 -0500
  Processing by Oauth::OauthAuthorizeController#show as HTML
  Parameters: {"response_type"=>"code", "scope"=>"pizzas", "client_id"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817322c22818900000d0')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback", :scope_values=>{"$all"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].insert([{"client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "_id"=>BSON::ObjectId('50c6817322c22818900000d2'), "created_at"=>2012-12-11 00:42:27 UTC, "updated_at"=>2012-12-11 00:42:27 UTC}])
Completed 200 OK in 31ms (Views: 25.4ms)


Started POST "/oauth/authorization" for 127.0.0.1 at 2012-12-10 19:42:27 -0500
  Processing by Oauth::OauthAuthorizeController#create as HTML
  Parameters: {"response_type"=>"code", "client_id"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "scope"=>"pizzas/create pizzas/update pizzas/destroy pizzas/index pizzas/show"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817322c22818900000d0')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback", :scope_values=>{"$all"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6817322c22818900000d1')}, {"$set"=>{"granted_times"=>1}})
MONGODB oauth_test['oauth_authorizations'].insert([{"client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817322c22818900000d3'), "created_at"=>2012-12-11 00:42:27 UTC, "code"=>"b2931589d12dbf760149090e88f41e013225b95ce3a0b45a75d7c6ac11fe6499", "expire_at"=>2012-12-11 00:44:57 UTC, "updated_at"=>2012-12-11 00:42:27 UTC}])
Redirected to http://www.iana.org/domains/example/app/callback?code=b2931589d12dbf760149090e88f41e013225b95ce3a0b45a75d7c6ac11fe6499
Completed 302 Found in 12ms


Started GET "/domains/example/app/callback?code=b2931589d12dbf760149090e88f41e013225b95ce3a0b45a75d7c6ac11fe6499" for 127.0.0.1 at 2012-12-10 19:42:27 -0500
MONGODB oauth_test['oauth_authorizations'].find({}).sort([[:_id, :desc]])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000d0')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000d3')})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000d1')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000d2')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817322c22818900000d4'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:27 UTC, "updated_at"=>2012-12-11 00:42:27 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817322c22818900000d5'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:27 UTC, "updated_at"=>2012-12-11 00:42:27 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817322c22818900000d6'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:27 UTC, "updated_at"=>2012-12-11 00:42:27 UTC, "password_salt"=>"$2a$10$XEcknsehw6Azngpb6eT3QO", "password_hash"=>"$2a$10$XEcknsehw6Azngpb6eT3QOR59LGW7YmIGvLLiZkx0fIU0HPlXP57i"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6817322c22818900000d6
Completed 302 Found in 82ms


Started GET "/users/50c6817322c22818900000d6" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6817322c22818900000d6"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817322c22818900000d6')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817322c22818900000d6')})
Completed 200 OK in 5ms (Views: 3.9ms)
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817422c22818900000d7'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:28 UTC, "secret"=>"775a596e26ec6b9a7c6efe87674467c670a3ba52e1e7b930646e5461cb93b441", "updated_at"=>2012-12-11 00:42:28 UTC}])


Started GET "/oauth/authorization?response_type=code&scope=pizzas&client_id=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fusers%2Falice%2Fclient%2Flelylan&redirect_uri=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fapp%2Fcallback" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by Oauth::OauthAuthorizeController#show as HTML
  Parameters: {"response_type"=>"code", "scope"=>"pizzas", "client_id"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817322c22818900000d6')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback", :scope_values=>{"$all"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].insert([{"client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "_id"=>BSON::ObjectId('50c6817422c22818900000d8'), "created_at"=>2012-12-11 00:42:28 UTC, "updated_at"=>2012-12-11 00:42:28 UTC}])
Completed 200 OK in 9ms (Views: 4.9ms)


Started POST "/oauth/authorization" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by Oauth::OauthAuthorizeController#destroy as HTML
  Parameters: {"response_type"=>"code", "client_id"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "scope"=>"pizzas/create pizzas/update pizzas/destroy pizzas/index pizzas/show"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817322c22818900000d6')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback", :scope_values=>{"$all"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6817422c22818900000d7')}, {"$set"=>{"revoked_times"=>1}})
Redirected to http://www.iana.org/domains/example/app/callback?error=access_denied
Completed 302 Found in 6ms


Started GET "/domains/example/app/callback?error=access_denied" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000d6')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000d7')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000d8')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817422c22818900000d9'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:28 UTC, "updated_at"=>2012-12-11 00:42:28 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817422c22818900000da'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:28 UTC, "updated_at"=>2012-12-11 00:42:28 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817422c22818900000db'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:28 UTC, "updated_at"=>2012-12-11 00:42:28 UTC, "password_salt"=>"$2a$10$m8KO7ETItHb/5WmAz0lGcO", "password_hash"=>"$2a$10$m8KO7ETItHb/5WmAz0lGcOz/lu9R7Wfqbdeew57y7OhkFhxbZPbDy"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6817422c22818900000db
Completed 302 Found in 82ms


Started GET "/users/50c6817422c22818900000db" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6817422c22818900000db"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817422c22818900000db')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817422c22818900000db')})
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817422c22818900000dc'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:28 UTC, "secret"=>"772511c681657fd7e722510e0141392521b0dd774c382aac5b492109215f49d7", "updated_at"=>2012-12-11 00:42:28 UTC}])
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6817422c22818900000dc')}, {"$set"=>{"blocked"=>2012-12-11 00:42:28 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})


Started GET "/oauth/authorization?response_type=code&scope=pizzas&client_id=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fusers%2Falice%2Fclient%2Flelylan&redirect_uri=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fapp%2Fcallback" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by Oauth::OauthAuthorizeController#show as HTML
  Parameters: {"response_type"=>"code", "scope"=>"pizzas", "client_id"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817422c22818900000db')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback", :scope_values=>{"$all"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
Completed 200 OK in 55ms (Views: 50.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000db')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000dc')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817422c22818900000dd'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:28 UTC, "updated_at"=>2012-12-11 00:42:28 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817422c22818900000de'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:28 UTC, "updated_at"=>2012-12-11 00:42:28 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817422c22818900000df'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:28 UTC, "updated_at"=>2012-12-11 00:42:28 UTC, "password_salt"=>"$2a$10$CLUU1RCgzSEe0bxlCZgQ0e", "password_hash"=>"$2a$10$CLUU1RCgzSEe0bxlCZgQ0e1m8gcD78tkIGR97XvK720EdgvR1SgyS"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6817422c22818900000df
Completed 302 Found in 83ms


Started GET "/users/50c6817422c22818900000df" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6817422c22818900000df"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817422c22818900000df')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817422c22818900000df')})
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6817422c22818900000e0'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:28 UTC, "updated_at"=>2012-12-11 00:42:28 UTC}])
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6817422c22818900000e0')}, {"$set"=>{"blocked"=>2012-12-11 00:42:28 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817422c22818900000e1'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:28 UTC, "secret"=>"e4a23ac7d2baa1846c9832fdcd678efdfc76293b55d12f3b141fd7558924b14f", "updated_at"=>2012-12-11 00:42:28 UTC}])


Started GET "/oauth/authorization?response_type=code&scope=pizzas&client_id=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fusers%2Falice%2Fclient%2Flelylan&redirect_uri=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fapp%2Fcallback" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by Oauth::OauthAuthorizeController#show as HTML
  Parameters: {"response_type"=>"code", "scope"=>"pizzas", "client_id"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817422c22818900000df')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback", :scope_values=>{"$all"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
Completed 200 OK in 8ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000df')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000e1')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000e0')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817422c22818900000e2'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:28 UTC, "updated_at"=>2012-12-11 00:42:28 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817422c22818900000e3'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:28 UTC, "updated_at"=>2012-12-11 00:42:28 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817422c22818900000e4'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:28 UTC, "updated_at"=>2012-12-11 00:42:28 UTC, "password_salt"=>"$2a$10$hur09gLCTXEBFS2r45a88e", "password_hash"=>"$2a$10$hur09gLCTXEBFS2r45a88eQ2q5/eE6ChhEaS3smUv3T6JnteXyvq2"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6817422c22818900000e4
Completed 302 Found in 82ms


Started GET "/users/50c6817422c22818900000e4" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6817422c22818900000e4"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817422c22818900000e4')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817422c22818900000e4')})
Completed 200 OK in 6ms (Views: 3.9ms)
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817422c22818900000e5'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:28 UTC, "secret"=>"e1aaa01ed79facd3359bfabb3c2a953133dbbcbf4c7d1f4de44767aedc7d1842", "updated_at"=>2012-12-11 00:42:28 UTC}])


Started GET "/oauth/authorization?response_type=code&scope=pizzas&client_id=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fusers%2Falice%2Fclient%2Flelylan&redirect_uri=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fapp%2Fcallback&state=extra" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by Oauth::OauthAuthorizeController#show as HTML
  Parameters: {"response_type"=>"code", "scope"=>"pizzas", "client_id"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "state"=>"extra"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817422c22818900000e4')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback", :scope_values=>{"$all"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].insert([{"client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "_id"=>BSON::ObjectId('50c6817422c22818900000e6'), "created_at"=>2012-12-11 00:42:28 UTC, "updated_at"=>2012-12-11 00:42:28 UTC}])
Completed 200 OK in 9ms (Views: 3.9ms)


Started POST "/oauth/authorization" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by Oauth::OauthAuthorizeController#create as HTML
  Parameters: {"response_type"=>"code", "client_id"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "scope"=>"pizzas/create pizzas/update pizzas/destroy pizzas/index pizzas/show", "state"=>"extra"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817422c22818900000e4')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback", :scope_values=>{"$all"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6817422c22818900000e5')}, {"$set"=>{"granted_times"=>1}})
MONGODB oauth_test['oauth_authorizations'].insert([{"client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817422c22818900000e7'), "created_at"=>2012-12-11 00:42:28 UTC, "code"=>"5bb0d828d29038c89c8944a609675e7d1f6ba26fa1fb109d1f46000b0b709ab9", "expire_at"=>2012-12-11 00:44:58 UTC, "updated_at"=>2012-12-11 00:42:28 UTC}])
Redirected to http://www.iana.org/domains/example/app/callback?code=5bb0d828d29038c89c8944a609675e7d1f6ba26fa1fb109d1f46000b0b709ab9&state=extra
Completed 302 Found in 10ms


Started GET "/domains/example/app/callback?code=5bb0d828d29038c89c8944a609675e7d1f6ba26fa1fb109d1f46000b0b709ab9&state=extra" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
MONGODB oauth_test['oauth_authorizations'].find({}).sort([[:_id, :desc]])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000e4')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000e7')})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000e5')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000e6')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817422c22818900000e8'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:28 UTC, "updated_at"=>2012-12-11 00:42:28 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817422c22818900000e9'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:28 UTC, "updated_at"=>2012-12-11 00:42:28 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817422c22818900000ea'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:28 UTC, "updated_at"=>2012-12-11 00:42:28 UTC, "password_salt"=>"$2a$10$ZopM608jtBBpNeclwdy9dO", "password_hash"=>"$2a$10$ZopM608jtBBpNeclwdy9dOh2ZYy.bwrLfn1Agj./V7/BGX2RYD0se"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:28 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6817422c22818900000ea
Completed 302 Found in 82ms


Started GET "/users/50c6817422c22818900000ea" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6817422c22818900000ea"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817422c22818900000ea')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817422c22818900000ea')})
Completed 200 OK in 47ms (Views: 45.9ms)
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817522c22818900000eb'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:29 UTC, "secret"=>"55873b1b9bd929b28bbc0640d71800f0e151a6c70c88baab09dd4cf7f6c1aa2a", "updated_at"=>2012-12-11 00:42:29 UTC}])


Started GET "/oauth/authorization?response_type=code&scope=pizzas&client_id=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fusers%2Falice%2Fclient%2Flelylan&redirect_uri=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fapp%2Fcallback&state=extra" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by Oauth::OauthAuthorizeController#show as HTML
  Parameters: {"response_type"=>"code", "scope"=>"pizzas", "client_id"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "state"=>"extra"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817422c22818900000ea')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback", :scope_values=>{"$all"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].insert([{"client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "_id"=>BSON::ObjectId('50c6817522c22818900000ec'), "created_at"=>2012-12-11 00:42:29 UTC, "updated_at"=>2012-12-11 00:42:29 UTC}])
Completed 200 OK in 10ms (Views: 3.9ms)


Started POST "/oauth/authorization" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by Oauth::OauthAuthorizeController#destroy as HTML
  Parameters: {"response_type"=>"code", "client_id"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "scope"=>"pizzas/create pizzas/update pizzas/destroy pizzas/index pizzas/show", "state"=>"extra"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817422c22818900000ea')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback", :scope_values=>{"$all"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6817522c22818900000eb')}, {"$set"=>{"revoked_times"=>1}})
Redirected to http://www.iana.org/domains/example/app/callback?error=access_denied&state=extra
Completed 302 Found in 5ms


Started GET "/domains/example/app/callback?error=access_denied&state=extra" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000ea')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000eb')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000ec')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817522c22818900000ed'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:29 UTC, "updated_at"=>2012-12-11 00:42:29 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817522c22818900000ee'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:29 UTC, "updated_at"=>2012-12-11 00:42:29 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817522c22818900000ef'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:29 UTC, "updated_at"=>2012-12-11 00:42:29 UTC, "password_salt"=>"$2a$10$dqtONEvDBuWjQPOIoDjhKO", "password_hash"=>"$2a$10$dqtONEvDBuWjQPOIoDjhKOgMR9.gunfiRFujOQg8Uhc5dM6T4EIh6"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6817522c22818900000ef
Completed 302 Found in 82ms


Started GET "/users/50c6817522c22818900000ef" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6817522c22818900000ef"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817522c22818900000ef')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817522c22818900000ef')})
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817522c22818900000f0'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:29 UTC, "secret"=>"524ece144f3235b9b8c37786b1f80c7bb267645f391771c4e535cae9a1e61a0e", "updated_at"=>2012-12-11 00:42:29 UTC}])


Started GET "/oauth/authorization?response_type=code&scope=pizzas&client_id=http%3A%2F%2Fnot.existing%2F&redirect_uri=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fapp%2Fcallback" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by Oauth::OauthAuthorizeController#show as HTML
  Parameters: {"response_type"=>"code", "scope"=>"pizzas", "client_id"=>"http://not.existing/", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817522c22818900000ef')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:uri=>"http://not.existing/", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
Completed 200 OK in 8ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000ef')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000f0')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817522c22818900000f1'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:29 UTC, "updated_at"=>2012-12-11 00:42:29 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817522c22818900000f2'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:29 UTC, "updated_at"=>2012-12-11 00:42:29 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817522c22818900000f3'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:29 UTC, "updated_at"=>2012-12-11 00:42:29 UTC, "password_salt"=>"$2a$10$xJMM6HYRSJODegbzcaNjfu", "password_hash"=>"$2a$10$xJMM6HYRSJODegbzcaNjfuhQy.uvmOo.yPiY5aVpTpHKBr65dZh.C"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6817522c22818900000f3
Completed 302 Found in 82ms


Started GET "/users/50c6817522c22818900000f3" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6817522c22818900000f3"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817522c22818900000f3')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817522c22818900000f3')})
Completed 200 OK in 6ms (Views: 3.9ms)
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817522c22818900000f4'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 00:42:29 UTC, "secret"=>"98e01a181386c00177a1650f8845e1631078550b035e493aa577a3d09ae16ae5", "updated_at"=>2012-12-11 00:42:29 UTC}])


Started GET "/oauth/authorization?response_type=code&scope=pizzas&client_id=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fusers%2Falice%2Fclient%2Friflect&redirect_uri=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fapp%2Fcallback" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by Oauth::OauthAuthorizeController#show as HTML
  Parameters: {"response_type"=>"code", "scope"=>"pizzas", "client_id"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817522c22818900000f3')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/riflect", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/riflect", :redirect_uri=>"http://www.iana.org/domains/example/app/callback", :scope_values=>{"$all"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
Completed 200 OK in 8ms (Views: 3.9ms)
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817522c22818900000f5'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:42:29 UTC, "secret"=>"a942f1c3e3786e0aabe754b94f440333e6c77e67b8c46994322a183e5ddeb72c", "updated_at"=>2012-12-11 00:42:29 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000f3')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000f4')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000f5')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817522c22818900000f6'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:29 UTC, "updated_at"=>2012-12-11 00:42:29 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817522c22818900000f7'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:29 UTC, "updated_at"=>2012-12-11 00:42:29 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817522c22818900000f8'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:29 UTC, "updated_at"=>2012-12-11 00:42:29 UTC, "password_salt"=>"$2a$10$NWp39mRY7bynkkL9KDM8y.", "password_hash"=>"$2a$10$NWp39mRY7bynkkL9KDM8y.RSVNuBtyLnPbjaKPpRkLq9jUMDfvx1."}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6817522c22818900000f8
Completed 302 Found in 82ms


Started GET "/users/50c6817522c22818900000f8" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6817522c22818900000f8"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817522c22818900000f8')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817522c22818900000f8')})
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817522c22818900000f9'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 00:42:29 UTC, "secret"=>"325895414eb39464bda22207389a56887c9ff3c29e272228f52eb7a7f6111097", "updated_at"=>2012-12-11 00:42:29 UTC}])


Started GET "/oauth/authorization?response_type=code&scope=pizzas%2Fread&client_id=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fusers%2Falice%2Fclient%2Friflect&redirect_uri=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fapp%2Fcallback" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by Oauth::OauthAuthorizeController#show as HTML
  Parameters: {"response_type"=>"code", "scope"=>"pizzas/read", "client_id"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817522c22818900000f8')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/riflect", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/riflect", :redirect_uri=>"http://www.iana.org/domains/example/app/callback", :scope_values=>{"$all"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].insert([{"client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "_id"=>BSON::ObjectId('50c6817522c22818900000fa'), "created_at"=>2012-12-11 00:42:29 UTC, "updated_at"=>2012-12-11 00:42:29 UTC}])
Completed 200 OK in 10ms (Views: 4.9ms)


Started POST "/oauth/authorization" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by Oauth::OauthAuthorizeController#create as HTML
  Parameters: {"response_type"=>"code", "client_id"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "scope"=>"pizzas/create"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817522c22818900000f8')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/create"]}})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/riflect", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/riflect", :redirect_uri=>"http://www.iana.org/domains/example/app/callback", :scope_values=>{"$all"=>["pizzas/create"]}})
Completed 200 OK in 7ms (Views: 4.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000f8')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000f9')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000fa')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817522c22818900000fb'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:29 UTC, "updated_at"=>2012-12-11 00:42:29 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817522c22818900000fc'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:29 UTC, "updated_at"=>2012-12-11 00:42:29 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817522c22818900000fd'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:29 UTC, "updated_at"=>2012-12-11 00:42:29 UTC, "password_salt"=>"$2a$10$jbh7UXVRyo2zbFkOsY1D5O", "password_hash"=>"$2a$10$jbh7UXVRyo2zbFkOsY1D5OGqV8nP2TFJSV8/KHVHfDWQyN9xfdTHa"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 19:42:29 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6817522c22818900000fd
Completed 302 Found in 82ms


Started GET "/users/50c6817522c22818900000fd" for 127.0.0.1 at 2012-12-10 19:42:30 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6817522c22818900000fd"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817522c22818900000fd')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6817522c22818900000fd')})
Completed 200 OK in 5ms (Views: 3.9ms)
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6817622c22818900000fe'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 00:42:30 UTC, "secret"=>"51e3304d72fd0a4d4605c30f3894371cb9dee96497f48feb7010e56c057060fc", "updated_at"=>2012-12-11 00:42:30 UTC}])


Started GET "/oauth/authorization?response_type=code&scope=pizzas%2Fread&client_id=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fusers%2Falice%2Fclient%2Friflect&redirect_uri=http%3A%2F%2Fwww.iana.org%2Fdomains%2Fexample%2Fapp%2Fcallback" for 127.0.0.1 at 2012-12-10 19:42:30 -0500
  Processing by Oauth::OauthAuthorizeController#show as HTML
  Parameters: {"response_type"=>"code", "scope"=>"pizzas/read", "client_id"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817522c22818900000fd')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/riflect", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/riflect", :redirect_uri=>"http://www.iana.org/domains/example/app/callback", :scope_values=>{"$all"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].insert([{"client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "_id"=>BSON::ObjectId('50c6817622c22818900000ff'), "created_at"=>2012-12-11 00:42:30 UTC, "updated_at"=>2012-12-11 00:42:30 UTC}])
Completed 200 OK in 9ms (Views: 3.9ms)


Started POST "/oauth/authorization" for 127.0.0.1 at 2012-12-10 19:42:30 -0500
  Processing by Oauth::OauthAuthorizeController#destroy as HTML
  Parameters: {"response_type"=>"code", "client_id"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "scope"=>"pizzas/create"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817522c22818900000fd')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/create"]}})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/riflect", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/riflect", :redirect_uri=>"http://www.iana.org/domains/example/app/callback", :scope_values=>{"$all"=>["pizzas/create"]}})
Completed 200 OK in 6ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000fd')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6817622c22818900000fe')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6817622c22818900000ff')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6817622c2281890000100'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:42:30 UTC, "updated_at"=>2012-12-11 00:42:30 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6817622c2281890000101'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:42:30 UTC, "updated_at"=>2012-12-11 00:42:30 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6817622c2281890000102'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:42:30 UTC, "updated_at"=>2012-12-11 00:42:30 UTC, "password_salt"=>"$2a$10$5.zO5Jcq16gLDMDhrcbI0e", "password_hash"=>"$2a$10$5.zO5Jcq16gLDMDhrcbI0e0LSBXYYeN2OqlO7b/pBePwMACygy35K"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6817622c2281890000102')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c681bf22c2281890000103'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:43:43 UTC, "updated_at"=>2012-12-11 00:43:43 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c681bf22c2281890000104'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:43:43 UTC, "updated_at"=>2012-12-11 00:43:43 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c681bf22c2281890000105'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:43:43 UTC, "updated_at"=>2012-12-11 00:43:43 UTC, "password_salt"=>"$2a$10$d/7a6s7IC3GDyEsipoesYu", "password_hash"=>"$2a$10$d/7a6s7IC3GDyEsipoesYu/pPih..yX3Sy7r/g922IaBnPIi8AD36"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c681bf22c2281890000105')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6820322c2281890000106'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:44:51 UTC, "updated_at"=>2012-12-11 00:44:51 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6820322c2281890000107'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:44:51 UTC, "updated_at"=>2012-12-11 00:44:51 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6820322c2281890000108'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:44:51 UTC, "updated_at"=>2012-12-11 00:44:51 UTC, "password_salt"=>"$2a$10$qeLrCinOmoyDF6RN6CYYlu", "password_hash"=>"$2a$10$qeLrCinOmoyDF6RN6CYYluhvkHhS1DyCYeN5HLbrdUsGtzsY9VMz6"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6820322c2281890000108')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6824722c2281890000109'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:45:59 UTC, "updated_at"=>2012-12-11 00:45:59 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6824722c228189000010a'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:45:59 UTC, "updated_at"=>2012-12-11 00:45:59 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6824722c228189000010b'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:45:59 UTC, "updated_at"=>2012-12-11 00:45:59 UTC, "password_salt"=>"$2a$10$A0rCxI8eanolBF35on/.ku", "password_hash"=>"$2a$10$A0rCxI8eanolBF35on/.kuo9PzEwt1jixMz7LcjeA9hA1yXqgreGO"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6824722c228189000010b')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6828b22c228189000010c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:47:07 UTC, "updated_at"=>2012-12-11 00:47:07 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6828b22c228189000010d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:47:07 UTC, "updated_at"=>2012-12-11 00:47:07 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6828b22c228189000010e'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:47:07 UTC, "updated_at"=>2012-12-11 00:47:07 UTC, "password_salt"=>"$2a$10$YQycsjFXryi3zl.dbXUtZO", "password_hash"=>"$2a$10$YQycsjFXryi3zl.dbXUtZOUJn1lk/OuwKNr./ZmbY4QhgcKEwBEBS"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6828b22c228189000010e')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c682d022c228189000010f'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:48:16 UTC, "updated_at"=>2012-12-11 00:48:16 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c682d022c2281890000110'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:48:16 UTC, "updated_at"=>2012-12-11 00:48:16 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c682d022c2281890000111'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:48:16 UTC, "updated_at"=>2012-12-11 00:48:16 UTC, "password_salt"=>"$2a$10$YNl8.L13mKUM8DOXzQYRru", "password_hash"=>"$2a$10$YNl8.L13mKUM8DOXzQYRruRNyqBzFbevRy84shPPwahIZZ5YmzNxi"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c682d022c2281890000111')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6831422c2281890000112'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:49:24 UTC, "updated_at"=>2012-12-11 00:49:24 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6831422c2281890000113'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:49:24 UTC, "updated_at"=>2012-12-11 00:49:24 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6831422c2281890000114'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:49:24 UTC, "updated_at"=>2012-12-11 00:49:24 UTC, "password_salt"=>"$2a$10$/uyouz7kUw9d2NaexVEl.e", "password_hash"=>"$2a$10$/uyouz7kUw9d2NaexVEl.eH5sbjCSvUG.YTXHxRqq9Br0jklI51Fy"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6831422c2281890000114')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6835922c2281890000115'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:50:33 UTC, "updated_at"=>2012-12-11 00:50:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6835922c2281890000116'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:50:33 UTC, "updated_at"=>2012-12-11 00:50:33 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6835922c2281890000117'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:50:33 UTC, "updated_at"=>2012-12-11 00:50:33 UTC, "password_salt"=>"$2a$10$02Eb8IX70n/TLgr.NUovw.", "password_hash"=>"$2a$10$02Eb8IX70n/TLgr.NUovw.4H9O3teqMgBIVcm9sRiritLJP0alFHK"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6835922c2281890000117')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6839e22c2281890000118'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:51:42 UTC, "updated_at"=>2012-12-11 00:51:42 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6839e22c2281890000119'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:51:42 UTC, "updated_at"=>2012-12-11 00:51:42 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6839e22c228189000011a'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:51:42 UTC, "token"=>"37b20b5520bbc24da1d224355c33f3742805fcbc9fcb9d317844b3d263341016", "refresh_token"=>"a8be0c472c0383097b740e7d74212758d0cf13e5765f83e58efb8f17c0ec20a0", "expire_at"=>2012-12-11 01:21:42 UTC, "updated_at"=>2012-12-11 00:51:42 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6839e22c228189000011b'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:51:42 UTC, "updated_at"=>2012-12-11 00:51:42 UTC, "password_salt"=>"$2a$10$QOcAdA4kkX3iUDnNPTrDEu", "password_hash"=>"$2a$10$QOcAdA4kkX3iUDnNPTrDEuaw6tXoOaypy.tEr9nhRiNre096uyeA2"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6839e22c228189000011b')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6839e22c228189000011a')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c683e222c228189000011c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:52:50 UTC, "updated_at"=>2012-12-11 00:52:50 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c683e222c228189000011d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:52:50 UTC, "updated_at"=>2012-12-11 00:52:50 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c683e222c228189000011e'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:52:50 UTC, "token"=>"4925434a61b6ee302c9840e7a631db65f6aa2b95cf4299eda28d8a6bdfb6d819", "refresh_token"=>"46b943d2bbcb161910fbecaf998ee551cc8c5e0cf1fd23151dc30d46da5771e5", "expire_at"=>2012-12-11 01:22:50 UTC, "updated_at"=>2012-12-11 00:52:50 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c683e222c228189000011f'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:52:50 UTC, "updated_at"=>2012-12-11 00:52:50 UTC, "password_salt"=>"$2a$10$5vD4g4vsHo9h6RTNWHN7h.", "password_hash"=>"$2a$10$5vD4g4vsHo9h6RTNWHN7h.QtI3IqUO5gr3jY7W0UlQokbAG4gM0FW"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c683e222c228189000011f')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c683e222c228189000011e')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6842722c2281890000120'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:53:59 UTC, "updated_at"=>2012-12-11 00:53:59 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6842722c2281890000121'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:53:59 UTC, "updated_at"=>2012-12-11 00:53:59 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6842722c2281890000122'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:53:59 UTC, "token"=>"54a42cc35744fb79cbead7514ff9499d7a96085ad81bb2826a074e69fb0e9c2c", "refresh_token"=>"648487c658b2b27137ff2f9cd7de102a0aeb22592ac2c2033598834537eeb852", "expire_at"=>2012-12-11 01:23:59 UTC, "updated_at"=>2012-12-11 00:53:59 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6842722c2281890000123'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:53:59 UTC, "updated_at"=>2012-12-11 00:53:59 UTC, "password_salt"=>"$2a$10$i6rifTdB8CrE0278QC.Fn.", "password_hash"=>"$2a$10$i6rifTdB8CrE0278QC.Fn.B0gGX6u/hf/S9XUK/TMDupgnzrvtA.e"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6842722c2281890000123')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6842722c2281890000122')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6846b22c2281890000124'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:55:07 UTC, "updated_at"=>2012-12-11 00:55:07 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6846b22c2281890000125'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:55:07 UTC, "updated_at"=>2012-12-11 00:55:07 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6846b22c2281890000126'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:55:07 UTC, "token"=>"3fe570b1ec29d6480489f09cf8991f12a5834c18dffc9ccecce56dc8c532d60d", "refresh_token"=>"45262ef5c4ff4ae14f31283db2c2e79e4d1aebfed8cfb8ef609a9f5e0ae1a65b", "expire_at"=>2012-12-11 01:25:07 UTC, "updated_at"=>2012-12-11 00:55:07 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6846b22c2281890000127'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:55:07 UTC, "updated_at"=>2012-12-11 00:55:07 UTC, "password_salt"=>"$2a$10$D3G8kYWbIiB..CydVosTLe", "password_hash"=>"$2a$10$D3G8kYWbIiB..CydVosTLeKX/jESqy73G81TwTQ8Nf3q86q3i6q9O"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6846b22c2281890000127')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6846b22c2281890000126')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c684b022c2281890000128'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:56:16 UTC, "updated_at"=>2012-12-11 00:56:16 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c684b022c2281890000129'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:56:16 UTC, "updated_at"=>2012-12-11 00:56:16 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c684b022c228189000012a'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:56:16 UTC, "token"=>"37b5979076ccd7ed2fe526f2564f066d889547204feb6f7f53837ff8f472455d", "refresh_token"=>"6d6bf42324caad1f853e71641eb9b98cd33cf2e03da03abd5e8d140edfb63dff", "expire_at"=>2012-12-11 01:26:16 UTC, "updated_at"=>2012-12-11 00:56:16 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c684b022c228189000012b'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:56:16 UTC, "updated_at"=>2012-12-11 00:56:16 UTC, "password_salt"=>"$2a$10$sIARicfdQjcmFj0GxsLJPO", "password_hash"=>"$2a$10$sIARicfdQjcmFj0GxsLJPON91MqO6F3h2dJvhyt7di9Rkq9SIkh0S"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c684b022c228189000012b')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c684b022c228189000012a')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c684f422c228189000012c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:57:24 UTC, "updated_at"=>2012-12-11 00:57:24 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c684f422c228189000012d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:57:24 UTC, "updated_at"=>2012-12-11 00:57:24 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c684f422c228189000012e'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:57:24 UTC, "token"=>"cccae60176a13e653300e862216539d3059e963d3e75ef783224e9ab073f211f", "refresh_token"=>"29900bb54fcb670d5f33d89225a730581d8950e22d4309241db7be4c4430b0ee", "expire_at"=>2012-12-11 01:27:24 UTC, "updated_at"=>2012-12-11 00:57:24 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c684f422c228189000012f'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:57:24 UTC, "updated_at"=>2012-12-11 00:57:24 UTC, "password_salt"=>"$2a$10$nNgIA8wlsXfMsZAB4AouF.", "password_hash"=>"$2a$10$nNgIA8wlsXfMsZAB4AouF.nPVcGUaaHzvcKeUItrehjC1legmWYL6"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c684f422c228189000012f')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c684f422c228189000012e')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6853922c2281890000130'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:58:33 UTC, "updated_at"=>2012-12-11 00:58:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6853922c2281890000131'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:58:33 UTC, "updated_at"=>2012-12-11 00:58:33 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6853922c2281890000132'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:58:33 UTC, "token"=>"a3789268af3b3783e496ba5ce6253605e17a33f2f58fc4dc1d9e1ae78ed9ffbe", "refresh_token"=>"9d54b9cfc2ba5dc8af8513c3d2c7c55ce3658490605fc17b8984fd0e0476d36e", "expire_at"=>2012-12-11 01:28:33 UTC, "updated_at"=>2012-12-11 00:58:33 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6853922c2281890000133'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:58:33 UTC, "updated_at"=>2012-12-11 00:58:33 UTC, "password_salt"=>"$2a$10$ztrifh.aPOUqtENQ/mRmO.", "password_hash"=>"$2a$10$ztrifh.aPOUqtENQ/mRmO.9f0doukyPWUkgZ4xpGDkO91onEV4OD6"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6853922c2281890000133')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857e22c2281890000134'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:59:42 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857e22c2281890000135'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:59:42 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857e22c2281890000136'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:59:42 UTC, "secret"=>"585200fade4e18a2dd529e7313bd93bbca1626c6ae185cbee2492b3cd0508613", "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6857e22c2281890000137'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:59:42 UTC, "code"=>"4d22c742ef95449617ca8ae4edeb2c097340b3b7218fa4547355b4376682849f", "expire_at"=>2012-12-11 01:02:12 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 19:59:42 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"authorization_code\",\"client_id\":\"http://www.iana.org/domains/example/users/alice/client/lelylan\",\"client_secret\":\"585200fade4e18a2dd529e7313bd93bbca1626c6ae185cbee2492b3cd0508613\",\"code\":\"4d22c742ef95449617ca8ae4edeb2c097340b3b7218fa4547355b4376682849f\",\"redirect_uri\":\"http://www.iana.org/domains/example/app/callback\"}"=>nil}
MONGODB oauth_test['clients'].find({:secret=>"585200fade4e18a2dd529e7313bd93bbca1626c6ae185cbee2492b3cd0508613", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['oauth_authorizations'].find({:code=>"4d22c742ef95449617ca8ae4edeb2c097340b3b7218fa4547355b4376682849f", :client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].insert([{"client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "_id"=>BSON::ObjectId('50c6857e22c2281890000138'), "created_at"=>2012-12-11 00:59:42 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857e22c2281890000139'), "created_at"=>2012-12-11 00:59:42 UTC, "token"=>"3e0f2dc47d07749d01b46d330b9174bb02aa75afd85f7924c919bd58a85a8dde", "refresh_token"=>"75e279e15eee42c0f53428e6daa5b41eecdd81310197555632d16933f967f406", "expire_at"=>2012-12-11 01:29:42 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['oauth_refresh_tokens'].insert([{"access_token"=>"3e0f2dc47d07749d01b46d330b9174bb02aa75afd85f7924c919bd58a85a8dde", "_id"=>BSON::ObjectId('50c6857e22c228189000013a'), "created_at"=>2012-12-11 00:59:42 UTC, "refresh_token"=>"566f61bfc363f2e741d23c497194f47c3da15d5b7f67799546f3bf2153b158ba", "updated_at"=>2012-12-11 00:59:42 UTC}])
Completed 200 OK in 26ms (Views: 12.7ms)
MONGODB oauth_test['oauth_tokens'].find({}).sort([[:_id, :desc]])
MONGODB oauth_test['oauth_refresh_tokens'].find({}).sort([[:_id, :desc]])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6853922c2281890000132')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000139')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000137')})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000136')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000138')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['oauth_refresh_tokens'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000013a')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857e22c228189000013b'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:59:42 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857e22c228189000013c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:59:42 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857e22c228189000013d'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:59:42 UTC, "secret"=>"62b679bef5c2fd43937ca686f01fc1efbefc39e5ad9179220ce53d2896ba5ac2", "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6857e22c228189000013d')}, {"$set"=>{"blocked"=>2012-12-11 00:59:42 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6857e22c228189000013e'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:59:42 UTC, "code"=>"d304693e994529c9f89439f378b3efac61ff84eb398cc6db0d293fb2573ec9e7", "expire_at"=>2012-12-11 01:02:12 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 19:59:42 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"authorization_code\",\"client_id\":\"http://www.iana.org/domains/example/users/alice/client/lelylan\",\"client_secret\":\"62b679bef5c2fd43937ca686f01fc1efbefc39e5ad9179220ce53d2896ba5ac2\",\"code\":\"d304693e994529c9f89439f378b3efac61ff84eb398cc6db0d293fb2573ec9e7\",\"redirect_uri\":\"http://www.iana.org/domains/example/app/callback\"}"=>nil}
MONGODB oauth_test['clients'].find({:secret=>"62b679bef5c2fd43937ca686f01fc1efbefc39e5ad9179220ce53d2896ba5ac2", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['oauth_authorizations'].find({:code=>"d304693e994529c9f89439f378b3efac61ff84eb398cc6db0d293fb2573ec9e7", :client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
Completed 422 Unprocessable Entity in 108ms (Views: 106.4ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000013e')})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000013d')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857e22c228189000013f'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:59:42 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857e22c2281890000140'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:59:42 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6857e22c2281890000141'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 00:59:42 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6857e22c2281890000141')}, {"$set"=>{"blocked"=>2012-12-11 00:59:42 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857e22c2281890000142'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:59:42 UTC, "secret"=>"b45ad2bb775a0c1d2b75fc69b178156eb59ece4adf62ca3bc9f89cf1a6d65846", "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6857e22c2281890000143'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:59:42 UTC, "code"=>"43056f34190c19cbe7b41ad821851d7f610f6b14ab18ed50b0637cea7eeef78c", "expire_at"=>2012-12-11 01:02:12 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 19:59:42 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"authorization_code\",\"client_id\":\"http://www.iana.org/domains/example/users/alice/client/lelylan\",\"client_secret\":\"b45ad2bb775a0c1d2b75fc69b178156eb59ece4adf62ca3bc9f89cf1a6d65846\",\"code\":\"43056f34190c19cbe7b41ad821851d7f610f6b14ab18ed50b0637cea7eeef78c\",\"redirect_uri\":\"http://www.iana.org/domains/example/app/callback\"}"=>nil}
MONGODB oauth_test['clients'].find({:secret=>"b45ad2bb775a0c1d2b75fc69b178156eb59ece4adf62ca3bc9f89cf1a6d65846", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['oauth_authorizations'].find({:code=>"43056f34190c19cbe7b41ad821851d7f610f6b14ab18ed50b0637cea7eeef78c", :client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
Completed 422 Unprocessable Entity in 3ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000143')})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000142')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000141')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857e22c2281890000144'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:59:42 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857e22c2281890000145'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:59:42 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857e22c2281890000146'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:59:42 UTC, "secret"=>"917b5d868cf73d7ade234a2bd3a81cd65ee93782d6f57cd32ae95424d88a45b2", "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6857e22c2281890000147'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:59:42 UTC, "code"=>"527fb93f379aae5f4a07b80ce6841f008b8fa2fc065649c5232bfe199ff72238", "expire_at"=>2012-12-11 01:02:12 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 19:59:42 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"authorization_code\",\"client_id\":\"http://www.iana.org/domains/example/users/alice/client/lelylan\",\"client_secret\":\"917b5d868cf73d7ade234a2bd3a81cd65ee93782d6f57cd32ae95424d88a45b2\",\"code\":\"not_existing\",\"redirect_uri\":\"http://www.iana.org/domains/example/app/callback\"}"=>nil}
MONGODB oauth_test['clients'].find({:secret=>"917b5d868cf73d7ade234a2bd3a81cd65ee93782d6f57cd32ae95424d88a45b2", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['oauth_authorizations'].find({:code=>"not_existing", :client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
Completed 422 Unprocessable Entity in 2ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000147')})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000146')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857e22c2281890000148'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:59:42 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857e22c2281890000149'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:59:42 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857e22c228189000014a'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 00:59:42 UTC, "secret"=>"c1705c7cbdbe20ea729b0619290b67bda95fba6e794a260eabeeac866b2bef15", "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6857e22c228189000014b'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:59:42 UTC, "code"=>"3f93fc8c0d59cc3423eb40d6e674112eb8869801ca03fd0c8053dc83c83c9464", "expire_at"=>2012-12-11 01:02:12 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 19:59:42 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"authorization_code\",\"client_id\":\"not_existing\",\"client_secret\":\"c1705c7cbdbe20ea729b0619290b67bda95fba6e794a260eabeeac866b2bef15\",\"code\":\"3f93fc8c0d59cc3423eb40d6e674112eb8869801ca03fd0c8053dc83c83c9464\",\"redirect_uri\":\"http://www.iana.org/domains/example/app/callback\"}"=>nil}
MONGODB oauth_test['clients'].find({:secret=>"c1705c7cbdbe20ea729b0619290b67bda95fba6e794a260eabeeac866b2bef15", :uri=>"not_existing", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
Completed 422 Unprocessable Entity in 2ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000014b')})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000014a')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857e22c228189000014c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 00:59:42 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857e22c228189000014d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 00:59:42 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6857e22c228189000014e'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 00:59:42 UTC, "code"=>"62896d483c890b97ad51f1b2e679ad1ea00ba833ab035e189c326b1aa9b1af32", "expire_at"=>2012-12-11 01:02:12 UTC, "updated_at"=>2012-12-11 00:59:42 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857e22c228189000014f'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:12 UTC, "secret"=>"f19930ab9f47b8caaea1214de1686c4f4a42ceb83c457fb46f2c2c2f9c260fbe", "updated_at"=>2012-12-11 01:02:12 UTC}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 20:02:12 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"authorization_code\",\"client_id\":\"http://www.iana.org/domains/example/users/alice/client/lelylan\",\"client_secret\":\"f19930ab9f47b8caaea1214de1686c4f4a42ceb83c457fb46f2c2c2f9c260fbe\",\"code\":\"62896d483c890b97ad51f1b2e679ad1ea00ba833ab035e189c326b1aa9b1af32\",\"redirect_uri\":\"http://www.iana.org/domains/example/app/callback\"}"=>nil}
MONGODB oauth_test['clients'].find({:secret=>"f19930ab9f47b8caaea1214de1686c4f4a42ceb83c457fb46f2c2c2f9c260fbe", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['oauth_authorizations'].find({:code=>"62896d483c890b97ad51f1b2e679ad1ea00ba833ab035e189c326b1aa9b1af32", :client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
Completed 422 Unprocessable Entity in 3ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000014e')})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000014f')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857e22c2281890000150'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:12 UTC, "updated_at"=>2012-12-11 01:02:12 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857e22c2281890000151'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:12 UTC, "updated_at"=>2012-12-11 01:02:12 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857e22c2281890000152'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:12 UTC, "secret"=>"443e3d4772753803b21f253ad41d28ab0084de30d78ae5fc0fa3e1129c544f37", "updated_at"=>2012-12-11 01:02:12 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6857e22c2281890000153'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:12 UTC, "updated_at"=>2012-12-11 01:02:12 UTC, "password_salt"=>"$2a$10$eL7DHCw3ysMyF90FHo0k/.", "password_hash"=>"$2a$10$eL7DHCw3ysMyF90FHo0k/.Q1GpOQNMB3TJ5OQujzqJXFa3GL/EOle"}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 20:02:12 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"password\",\"client_id\":\"http://www.iana.org/domains/example/users/alice/client/lelylan\",\"client_secret\":\"443e3d4772753803b21f253ad41d28ab0084de30d78ae5fc0fa3e1129c544f37\",\"username\":\"alice@example.com\",\"password\":\"example\",\"scope\":\"pizzas\"}"=>"[FILTERED]"}
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:secret=>"443e3d4772753803b21f253ad41d28ab0084de30d78ae5fc0fa3e1129c544f37", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].find({:secret=>"443e3d4772753803b21f253ad41d28ab0084de30d78ae5fc0fa3e1129c544f37", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :scope_values=>{"$all"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].insert([{"client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "_id"=>BSON::ObjectId('50c6857e22c2281890000154'), "created_at"=>2012-12-11 01:02:12 UTC, "updated_at"=>2012-12-11 01:02:12 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857e22c2281890000155'), "created_at"=>2012-12-11 01:02:12 UTC, "token"=>"b4adf9aeccdf94f7818db7748485927099aa3ea62b17990664a9852927a665e9", "refresh_token"=>"3f1328d551fbbaa710cae5e21ce1d17a63ce104e04f7a80ed24f01ecba8990db", "expire_at"=>2012-12-11 01:32:12 UTC, "updated_at"=>2012-12-11 01:02:12 UTC}])
MONGODB oauth_test['oauth_refresh_tokens'].insert([{"access_token"=>"b4adf9aeccdf94f7818db7748485927099aa3ea62b17990664a9852927a665e9", "_id"=>BSON::ObjectId('50c6857e22c2281890000156'), "created_at"=>2012-12-11 01:02:12 UTC, "refresh_token"=>"76ba7619965b80a4fdee9fb958e48cdd5a818be5f3816b0a690681da5a313119", "updated_at"=>2012-12-11 01:02:12 UTC}])
Completed 200 OK in 103ms (Views: 1.0ms)
MONGODB oauth_test['oauth_tokens'].find({}).sort([[:_id, :desc]])
MONGODB oauth_test['oauth_refresh_tokens'].find({}).sort([[:_id, :desc]])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000153')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000155')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000152')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000154')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['oauth_refresh_tokens'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000156')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857e22c2281890000157'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:12 UTC, "updated_at"=>2012-12-11 01:02:12 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857e22c2281890000158'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:12 UTC, "updated_at"=>2012-12-11 01:02:12 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857e22c2281890000159'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:12 UTC, "secret"=>"a7fbe1cdb4f9604e0c578e46ed52610e60ddb892e69daab7a56d324d24b422b1", "updated_at"=>2012-12-11 01:02:12 UTC}])
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6857e22c2281890000159')}, {"$set"=>{"blocked"=>2012-12-11 01:02:12 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6857e22c228189000015a'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:12 UTC, "updated_at"=>2012-12-11 01:02:12 UTC, "password_salt"=>"$2a$10$EKZKl.ymJ4z.qeF2ADPMpe", "password_hash"=>"$2a$10$EKZKl.ymJ4z.qeF2ADPMpesGdXR7JFsCVOR8ZTCuQKB1iaaHfaVh6"}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 20:02:12 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"password\",\"client_id\":\"http://www.iana.org/domains/example/users/alice/client/lelylan\",\"client_secret\":\"a7fbe1cdb4f9604e0c578e46ed52610e60ddb892e69daab7a56d324d24b422b1\",\"username\":\"alice@example.com\",\"password\":\"example\",\"scope\":\"pizzas\"}"=>"[FILTERED]"}
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:secret=>"a7fbe1cdb4f9604e0c578e46ed52610e60ddb892e69daab7a56d324d24b422b1", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].find({:secret=>"a7fbe1cdb4f9604e0c578e46ed52610e60ddb892e69daab7a56d324d24b422b1", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :scope_values=>{"$all"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Completed 422 Unprocessable Entity in 94ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000015a')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000159')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857e22c228189000015b'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:12 UTC, "updated_at"=>2012-12-11 01:02:12 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857e22c228189000015c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:12 UTC, "updated_at"=>2012-12-11 01:02:12 UTC}])
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6857e22c228189000015d'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:12 UTC, "updated_at"=>2012-12-11 01:02:12 UTC}])
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6857e22c228189000015d')}, {"$set"=>{"blocked"=>2012-12-11 01:02:12 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857e22c228189000015e'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:12 UTC, "secret"=>"926db993e6b4022c9a16f137f64a65216f71ce2fb07a16434a572fa93b497866", "updated_at"=>2012-12-11 01:02:12 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6857e22c228189000015f'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:12 UTC, "updated_at"=>2012-12-11 01:02:12 UTC, "password_salt"=>"$2a$10$JqUiepwDb9lwrtGINl3dP.", "password_hash"=>"$2a$10$JqUiepwDb9lwrtGINl3dP.yhJJ8V9LrRNBg5agbZ77/U9BtGCeksS"}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 20:02:12 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"password\",\"client_id\":\"http://www.iana.org/domains/example/users/alice/client/lelylan\",\"client_secret\":\"926db993e6b4022c9a16f137f64a65216f71ce2fb07a16434a572fa93b497866\",\"username\":\"alice@example.com\",\"password\":\"example\",\"scope\":\"pizzas\"}"=>"[FILTERED]"}
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:secret=>"926db993e6b4022c9a16f137f64a65216f71ce2fb07a16434a572fa93b497866", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].find({:secret=>"926db993e6b4022c9a16f137f64a65216f71ce2fb07a16434a572fa93b497866", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :scope_values=>{"$all"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
Completed 422 Unprocessable Entity in 99ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000015f')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000015e')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000015d')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857f22c2281890000160'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857f22c2281890000161'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857f22c2281890000162'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:13 UTC, "secret"=>"6716191b684837e2ada84bfa8990f4e70de98e14b1ce22003350fa4462d665c1", "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6857f22c2281890000163'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC, "password_salt"=>"$2a$10$spCI2UNpX1Imx0iNx7Ik1u", "password_hash"=>"$2a$10$spCI2UNpX1Imx0iNx7Ik1ulX5UYQ.dtd3sH7mSE2jhajk6ukc.SMe"}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 20:02:13 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"password\",\"client_id\":\"http://www.iana.org/domains/example/users/alice/client/lelylan\",\"client_secret\":\"6716191b684837e2ada84bfa8990f4e70de98e14b1ce22003350fa4462d665c1\",\"username\":\"alice@example.com\",\"password\":\"not_existing\",\"scope\":\"pizzas\"}"=>"[FILTERED]"}
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:secret=>"6716191b684837e2ada84bfa8990f4e70de98e14b1ce22003350fa4462d665c1", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].find({:secret=>"6716191b684837e2ada84bfa8990f4e70de98e14b1ce22003350fa4462d665c1", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :scope_values=>{"$all"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Completed 422 Unprocessable Entity in 146ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000163')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000162')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857f22c2281890000164'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857f22c2281890000165'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857f22c2281890000166'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:13 UTC, "secret"=>"fce0957d655baf192181ffbc00548709ff2baea94a4d3453124c47ffce050fa2", "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6857f22c2281890000167'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC, "password_salt"=>"$2a$10$.vCKjHmYsi9LnRTHZBRn8u", "password_hash"=>"$2a$10$.vCKjHmYsi9LnRTHZBRn8ugRo4e3XM4aLfuXM9QoGY1aFwl/a652S"}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 20:02:13 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"password\",\"client_id\":\"not_existing\",\"client_secret\":\"fce0957d655baf192181ffbc00548709ff2baea94a4d3453124c47ffce050fa2\",\"username\":\"alice@example.com\",\"password\":\"example\",\"scope\":\"pizzas\"}"=>"[FILTERED]"}
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:secret=>"fce0957d655baf192181ffbc00548709ff2baea94a4d3453124c47ffce050fa2", :uri=>"not_existing"})
Completed 422 Unprocessable Entity in 9ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000167')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000166')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857f22c2281890000168'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857f22c2281890000169'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857f22c228189000016a'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:13 UTC, "secret"=>"a99ae018e3396277484a26c802946e47b6cc4c8c9a1117456a642a2ab8021d4b", "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6857f22c228189000016b'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC, "password_salt"=>"$2a$10$gIjSdVYGXK7th.rLl.eYru", "password_hash"=>"$2a$10$gIjSdVYGXK7th.rLl.eYruc9u0/MEUPi2eV/rsLt8m3.KzY.QJ.h."}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857f22c228189000016c'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 01:02:13 UTC, "secret"=>"ac944c3e3656ba9e409c5d242c3ba2d1dde9c501dc9f02a6e316265f8bf6e2e7", "updated_at"=>2012-12-11 01:02:13 UTC}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 20:02:13 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"password\",\"client_id\":\"http://www.iana.org/domains/example/users/alice/client/riflect\",\"client_secret\":\"ac944c3e3656ba9e409c5d242c3ba2d1dde9c501dc9f02a6e316265f8bf6e2e7\",\"username\":\"alice@example.com\",\"password\":\"example\",\"scope\":\"pizzas\"}"=>"[FILTERED]"}
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show", "pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['clients'].find({:secret=>"ac944c3e3656ba9e409c5d242c3ba2d1dde9c501dc9f02a6e316265f8bf6e2e7", :uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].find({:secret=>"ac944c3e3656ba9e409c5d242c3ba2d1dde9c501dc9f02a6e316265f8bf6e2e7", :uri=>"http://www.iana.org/domains/example/users/alice/client/riflect", :scope_values=>{"$all"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/index", "pizzas/show"]}})
Completed 422 Unprocessable Entity in 11ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000016b')})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000016a')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000016c')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857f22c228189000016d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857f22c228189000016e'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6857f22c228189000016f'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:13 UTC, "token"=>"5ac787d5b88a05b971d4002b99b3769ab3ee91c9c0f8bb5ba7b0cfc758706770", "refresh_token"=>"77db4f43e8fe71dc889ea99468117eec1206cfa03ab7495a35bbd3b3893ca279", "expire_at"=>2012-12-11 01:32:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_refresh_tokens'].insert([{"access_token"=>"5ac787d5b88a05b971d4002b99b3769ab3ee91c9c0f8bb5ba7b0cfc758706770", "_id"=>BSON::ObjectId('50c6857f22c2281890000170'), "created_at"=>2012-12-11 01:02:13 UTC, "refresh_token"=>"967e0a9e7b8888dcdd420add0dbddee5691ed2b9e37b13d8568e55b2935ff624", "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857f22c2281890000171'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:13 UTC, "secret"=>"79c9e7bc4967558f90c8b0d489ea8432ce25a3cd4a2f0a28387b51b331a90b48", "updated_at"=>2012-12-11 01:02:13 UTC}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 20:02:13 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"refresh_token\",\"refresh_token\":\"967e0a9e7b8888dcdd420add0dbddee5691ed2b9e37b13d8568e55b2935ff624\",\"client_id\":\"http://www.iana.org/domains/example/users/alice/client/lelylan\",\"client_secret\":\"79c9e7bc4967558f90c8b0d489ea8432ce25a3cd4a2f0a28387b51b331a90b48\"}"=>nil}
MONGODB oauth_test['clients'].find({:secret=>"79c9e7bc4967558f90c8b0d489ea8432ce25a3cd4a2f0a28387b51b331a90b48", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].find({:secret=>"79c9e7bc4967558f90c8b0d489ea8432ce25a3cd4a2f0a28387b51b331a90b48", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_refresh_tokens'].find({:refresh_token=>"967e0a9e7b8888dcdd420add0dbddee5691ed2b9e37b13d8568e55b2935ff624"})
MONGODB oauth_test['oauth_tokens'].find({:token=>"5ac787d5b88a05b971d4002b99b3769ab3ee91c9c0f8bb5ba7b0cfc758706770"})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].insert([{"client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "_id"=>BSON::ObjectId('50c6857f22c2281890000172'), "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857f22c2281890000173'), "created_at"=>2012-12-11 01:02:13 UTC, "token"=>"a94457f457d16083a3174fdebf1b036aa6cce7ceb7573573ccd511e5a4577de4", "refresh_token"=>"bd28058991fd9160e9ed1a9eee701442be0f25c51c84bfec2af1a3f846a9ec46", "expire_at"=>2012-12-11 01:32:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
Completed 200 OK in 20ms (Views: 2.9ms)
MONGODB oauth_test['oauth_tokens'].find({}).sort([[:_id, :desc]])
MONGODB oauth_test['oauth_refresh_tokens'].find({}).sort([[:_id, :desc]])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000016f')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000173')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000171')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000172')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['oauth_refresh_tokens'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000170')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857f22c2281890000174'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857f22c2281890000175'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857f22c2281890000176'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:13 UTC, "secret"=>"7c20783fcf72a46e3fbbdba220a0c9f4560742da2d952da1a003b1b70d4f1abc", "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6857f22c2281890000176')}, {"$set"=>{"blocked"=>2012-12-11 01:02:13 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6857f22c2281890000177'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:13 UTC, "token"=>"3b737696cc3cebb86f6ba0ea67cd19bf806eabdc417fa0c611b2f59c74afe9ed", "refresh_token"=>"d49bc2cbb1650ba0d7c97cdd51035c604944ca79f133f1d8f209f4fc4930bbdf", "expire_at"=>2012-12-11 01:32:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_refresh_tokens'].insert([{"access_token"=>"3b737696cc3cebb86f6ba0ea67cd19bf806eabdc417fa0c611b2f59c74afe9ed", "_id"=>BSON::ObjectId('50c6857f22c2281890000178'), "created_at"=>2012-12-11 01:02:13 UTC, "refresh_token"=>"5d75317431283d544fceb72afa34c0cd8c97255b2aa3d2830bee48a2c6f165f1", "updated_at"=>2012-12-11 01:02:13 UTC}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 20:02:13 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"refresh_token\",\"refresh_token\":\"5d75317431283d544fceb72afa34c0cd8c97255b2aa3d2830bee48a2c6f165f1\",\"client_id\":\"http://www.iana.org/domains/example/users/alice/client/lelylan\",\"client_secret\":\"7c20783fcf72a46e3fbbdba220a0c9f4560742da2d952da1a003b1b70d4f1abc\"}"=>nil}
MONGODB oauth_test['clients'].find({:secret=>"7c20783fcf72a46e3fbbdba220a0c9f4560742da2d952da1a003b1b70d4f1abc", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].find({:secret=>"7c20783fcf72a46e3fbbdba220a0c9f4560742da2d952da1a003b1b70d4f1abc", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_refresh_tokens'].find({:refresh_token=>"5d75317431283d544fceb72afa34c0cd8c97255b2aa3d2830bee48a2c6f165f1"})
MONGODB oauth_test['oauth_tokens'].find({:token=>"3b737696cc3cebb86f6ba0ea67cd19bf806eabdc417fa0c611b2f59c74afe9ed"})
Completed 422 Unprocessable Entity in 6ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000177')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000176')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['oauth_refresh_tokens'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000178')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857f22c2281890000179'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857f22c228189000017a'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6857f22c228189000017b'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6857f22c228189000017b')}, {"$set"=>{"blocked"=>2012-12-11 01:02:13 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6857f22c228189000017c'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:13 UTC, "token"=>"3a5105450a795c6702b1efa43c060a7717569a7fc96367f91178e6a63db64be1", "refresh_token"=>"b68cddcf85642cf50363a0979e0cb26533dc42b84f3597376f7cf31038e1f0b1", "expire_at"=>2012-12-11 01:32:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_refresh_tokens'].insert([{"access_token"=>"3a5105450a795c6702b1efa43c060a7717569a7fc96367f91178e6a63db64be1", "_id"=>BSON::ObjectId('50c6857f22c228189000017d'), "created_at"=>2012-12-11 01:02:13 UTC, "refresh_token"=>"fd026b9d922f0391196035438893aaf8cc1c02f304074e6a282ca10fb6d21978", "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857f22c228189000017e'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:13 UTC, "secret"=>"4b03cad8dea057fa9977030d90b0de6efc2143fa3262fffa595c0be70733954f", "updated_at"=>2012-12-11 01:02:13 UTC}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 20:02:13 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"refresh_token\",\"refresh_token\":\"fd026b9d922f0391196035438893aaf8cc1c02f304074e6a282ca10fb6d21978\",\"client_id\":\"http://www.iana.org/domains/example/users/alice/client/lelylan\",\"client_secret\":\"4b03cad8dea057fa9977030d90b0de6efc2143fa3262fffa595c0be70733954f\"}"=>nil}
MONGODB oauth_test['clients'].find({:secret=>"4b03cad8dea057fa9977030d90b0de6efc2143fa3262fffa595c0be70733954f", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].find({:secret=>"4b03cad8dea057fa9977030d90b0de6efc2143fa3262fffa595c0be70733954f", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_refresh_tokens'].find({:refresh_token=>"fd026b9d922f0391196035438893aaf8cc1c02f304074e6a282ca10fb6d21978"})
MONGODB oauth_test['oauth_tokens'].find({:token=>"3a5105450a795c6702b1efa43c060a7717569a7fc96367f91178e6a63db64be1"})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
Completed 422 Unprocessable Entity in 8ms (Views: 2.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000017c')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000017e')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['oauth_accesses'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000017b')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['oauth_refresh_tokens'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000017d')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857f22c228189000017f'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857f22c2281890000180'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6857f22c2281890000181'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:13 UTC, "token"=>"bc5b0baa20d60b1250f88ad7bc8188c31b35b712bc65b7fcca9492d0ced211e6", "refresh_token"=>"0f6c7ce3b454123de3d694945592696cc9dc2b5999c24fd87f2dd9d5e0da7bc9", "expire_at"=>2012-12-11 01:32:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6857f22c2281890000181')}, {"$set"=>{"blocked"=>2012-12-11 01:02:13 UTC}})
MONGODB oauth_test['oauth_refresh_tokens'].insert([{"access_token"=>"bc5b0baa20d60b1250f88ad7bc8188c31b35b712bc65b7fcca9492d0ced211e6", "_id"=>BSON::ObjectId('50c6857f22c2281890000182'), "created_at"=>2012-12-11 01:02:13 UTC, "refresh_token"=>"a2df24a0ab337a50a7e667cbf0f7092694b4f9b22efef7e6cae3052cf4639170", "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857f22c2281890000183'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:13 UTC, "secret"=>"bc7962ef97da7ac2710541a2e4d291b2a939321f29547ce715f40a003976d79a", "updated_at"=>2012-12-11 01:02:13 UTC}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 20:02:13 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"refresh_token\",\"refresh_token\":\"a2df24a0ab337a50a7e667cbf0f7092694b4f9b22efef7e6cae3052cf4639170\",\"client_id\":\"http://www.iana.org/domains/example/users/alice/client/lelylan\",\"client_secret\":\"bc7962ef97da7ac2710541a2e4d291b2a939321f29547ce715f40a003976d79a\"}"=>nil}
MONGODB oauth_test['clients'].find({:secret=>"bc7962ef97da7ac2710541a2e4d291b2a939321f29547ce715f40a003976d79a", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].find({:secret=>"bc7962ef97da7ac2710541a2e4d291b2a939321f29547ce715f40a003976d79a", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_refresh_tokens'].find({:refresh_token=>"a2df24a0ab337a50a7e667cbf0f7092694b4f9b22efef7e6cae3052cf4639170"})
MONGODB oauth_test['oauth_tokens'].find({:token=>"bc5b0baa20d60b1250f88ad7bc8188c31b35b712bc65b7fcca9492d0ced211e6"})
Completed 422 Unprocessable Entity in 6ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000181')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000183')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['oauth_refresh_tokens'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000182')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857f22c2281890000184'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857f22c2281890000185'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6857f22c2281890000186'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:13 UTC, "token"=>"b9d316871258e00fbb10c8eb5243c1bfdf11ff4f38c2d9b6ae18df006361b93a", "refresh_token"=>"b2dab169ba5c82626676b8c9bdc88584c0f199e1b4320ba243fbd75e8cb33a7c", "expire_at"=>2012-12-11 01:32:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_refresh_tokens'].insert([{"access_token"=>"b9d316871258e00fbb10c8eb5243c1bfdf11ff4f38c2d9b6ae18df006361b93a", "_id"=>BSON::ObjectId('50c6857f22c2281890000187'), "created_at"=>2012-12-11 01:02:13 UTC, "refresh_token"=>"d54b94d71d5510c9c78908b75fc1fa2a562e10fe79fbd207f145e0a2e8808633", "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857f22c2281890000188'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:13 UTC, "secret"=>"b370599524ce834e143733f19a390876bafd66276e2b313906ae7dd91cd699ea", "updated_at"=>2012-12-11 01:02:13 UTC}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 20:02:13 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"refresh_token\",\"refresh_token\":\"d54b94d71d5510c9c78908b75fc1fa2a562e10fe79fbd207f145e0a2e8808633\",\"client_id\":\"not_existing\",\"client_secret\":\"b370599524ce834e143733f19a390876bafd66276e2b313906ae7dd91cd699ea\"}"=>nil}
MONGODB oauth_test['clients'].find({:secret=>"b370599524ce834e143733f19a390876bafd66276e2b313906ae7dd91cd699ea", :uri=>"not_existing"})
Completed 422 Unprocessable Entity in 2ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000186')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000188')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['oauth_refresh_tokens'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000187')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857f22c2281890000189'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857f22c228189000018a'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6857f22c228189000018b'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:13 UTC, "token"=>"60bd2e0dcfc1af097b870b13d022f94876829a86074895396e6df2271ea1ec75", "refresh_token"=>"f7606f34b4eee4e255ba89ffa196f948e79b9442d21a3ceba0c5323834341d91", "expire_at"=>2012-12-11 01:32:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_refresh_tokens'].insert([{"access_token"=>"60bd2e0dcfc1af097b870b13d022f94876829a86074895396e6df2271ea1ec75", "_id"=>BSON::ObjectId('50c6857f22c228189000018c'), "created_at"=>2012-12-11 01:02:13 UTC, "refresh_token"=>"cf2f17098f9ad4dac95e3e0f556c797a56948ab0cfc601bcfa900a7bb1b1a8cb", "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6857f22c228189000018d'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:13 UTC, "secret"=>"6fc012b93d4f9467983e437f9d333e196558141eab6634537a25489822518fef", "updated_at"=>2012-12-11 01:02:13 UTC}])


Started POST "/oauth/token" for 127.0.0.1 at 2012-12-10 20:02:13 -0500
  Processing by Oauth::OauthTokenController#create as JSON
  Parameters: {"{\"grant_type\":\"refresh_token\",\"refresh_token\":\"not_existing\",\"client_id\":\"http://www.iana.org/domains/example/users/alice/client/lelylan\",\"client_secret\":\"6fc012b93d4f9467983e437f9d333e196558141eab6634537a25489822518fef\"}"=>nil}
MONGODB oauth_test['clients'].find({:secret=>"6fc012b93d4f9467983e437f9d333e196558141eab6634537a25489822518fef", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].find({:secret=>"6fc012b93d4f9467983e437f9d333e196558141eab6634537a25489822518fef", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_refresh_tokens'].find({:refresh_token=>"not_existing"})
Completed 422 Unprocessable Entity in 3ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000018b')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000018d')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_accesses", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_accesses'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_refresh_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_refresh_tokens'].find({})
MONGODB oauth_test['oauth_refresh_tokens'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000018c')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6857f22c228189000018e'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6857f22c228189000018f'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6857f22c2281890000190'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:13 UTC, "token"=>"8bba86c1dba8f542e582784e91cab7ccc32ff37d0cec8774b70ce7ba10cb5f51", "refresh_token"=>"9c7b80703376d7ab86054f7b52b4517c712d696493f4ccf6d1735a7e021992fa", "expire_at"=>2012-12-11 01:32:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])


Started DELETE "/token/8bba86c1dba8f542e582784e91cab7ccc32ff37d0cec8774b70ce7ba10cb5f51" for 127.0.0.1 at 2012-12-10 20:02:13 -0500
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6857f22c2281890000191'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6857f22c2281890000192'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:13 UTC, "token"=>"c82684ac93272b63b6b5976443e53d1831f696afc082d8fec8a9cc06c0b9f4da", "refresh_token"=>"32b044930b53cc881e68b6a4a4e63acea8f9ef284dd47e282697c6e6e539db47", "expire_at"=>2012-12-11 01:32:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000192')})


Started GET "/pizzas?token=c82684ac93272b63b6b5976443e53d1831f696afc082d8fec8a9cc06c0b9f4da" for 127.0.0.1 at 2012-12-10 20:02:13 -0500
  Processing by PizzasController#index as JSON
  Parameters: {"token"=>"c82684ac93272b63b6b5976443e53d1831f696afc082d8fec8a9cc06c0b9f4da"}
MONGODB oauth_test['oauth_tokens'].find({:token=>"c82684ac93272b63b6b5976443e53d1831f696afc082d8fec8a9cc06c0b9f4da", :scope=>{"$all"=>["pizzas/index"]}})
Completed 401 Unauthorized in 45ms (Views: 43.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6857f22c2281890000193'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6857f22c2281890000194'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:13 UTC, "token"=>"eb6c56c46ee2329e673e52a41de6215f5bbd0fe171c4da2754834501dc8fa114", "refresh_token"=>"ba131670b8f60384fdb282db909506564888e667dbca7b75fc1f718d87f9f69e", "expire_at"=>2012-12-11 01:32:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000194')})


Started GET "/pizzas/0?token=eb6c56c46ee2329e673e52a41de6215f5bbd0fe171c4da2754834501dc8fa114" for 127.0.0.1 at 2012-12-10 20:02:13 -0500
  Processing by PizzasController#show as JSON
  Parameters: {"token"=>"eb6c56c46ee2329e673e52a41de6215f5bbd0fe171c4da2754834501dc8fa114", "id"=>"0"}
MONGODB oauth_test['oauth_tokens'].find({:token=>"eb6c56c46ee2329e673e52a41de6215f5bbd0fe171c4da2754834501dc8fa114", :scope=>{"$all"=>["pizzas/show"]}})
Completed 401 Unauthorized in 3ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6857f22c2281890000195'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6857f22c2281890000196'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:13 UTC, "token"=>"e6e3e3f0e76dfbc348c31a08fc0c87921824e1f32bb51013524c21b1801ac039", "refresh_token"=>"83ff40adee66f8877a3a58ad00f3ce8802233793613699737b40291bfa83d8f7", "expire_at"=>2012-12-11 01:32:13 UTC, "updated_at"=>2012-12-11 01:02:13 UTC}])
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000196')})


Started POST "/pizzas" for 127.0.0.1 at 2012-12-10 20:02:13 -0500
  Processing by PizzasController#create as JSON
  Parameters: {"{\"token\":\"e6e3e3f0e76dfbc348c31a08fc0c87921824e1f32bb51013524c21b1801ac039\"}"=>nil}
MONGODB oauth_test['oauth_tokens'].find({:token=>"e6e3e3f0e76dfbc348c31a08fc0c87921824e1f32bb51013524c21b1801ac039", :scope=>{"$all"=>["pizzas/create"]}})
Completed 401 Unauthorized in 2ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6858022c2281890000197'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6858022c2281890000198'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:14 UTC, "token"=>"17cd0eb512dc6ec0023981cf2835ade6a63c04e8540fbacff6a92c6555ab1b8a", "refresh_token"=>"f256ed9d0e1de1aaae406f83ecf1f7e22bdebec38cb4179577e212a5c5e36c86", "expire_at"=>2012-12-11 01:32:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6858022c2281890000198')})


Started PUT "/pizzas/0" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by PizzasController#update as JSON
  Parameters: {"{\"token\":\"17cd0eb512dc6ec0023981cf2835ade6a63c04e8540fbacff6a92c6555ab1b8a\"}"=>nil, "id"=>"0"}
MONGODB oauth_test['oauth_tokens'].find({:token=>"17cd0eb512dc6ec0023981cf2835ade6a63c04e8540fbacff6a92c6555ab1b8a", :scope=>{"$all"=>["pizzas/update"]}})
Completed 401 Unauthorized in 2ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6858022c2281890000199'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6858022c228189000019a'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:14 UTC, "token"=>"edbcacff7086cc0f008e8465dcad8ce5e034b4c367231eec7021ef6e2265943d", "refresh_token"=>"5c134d30055544c781eaa9e3bfc180ba727bf04e6454e5936fdab5da481de8ab", "expire_at"=>2012-12-11 01:32:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6858022c228189000019a')})


Started DELETE "/pizzas/0" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by PizzasController#destroy as JSON
  Parameters: {"{\"token\":\"edbcacff7086cc0f008e8465dcad8ce5e034b4c367231eec7021ef6e2265943d\"}"=>nil, "id"=>"0"}
MONGODB oauth_test['oauth_tokens'].find({:token=>"edbcacff7086cc0f008e8465dcad8ce5e034b4c367231eec7021ef6e2265943d", :scope=>{"$all"=>["pizzas/destroy"]}})
Completed 401 Unauthorized in 3ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6858022c228189000019b'), "scope"=>["pizzas/index"], "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:14 UTC, "token"=>"21b9196bb7936111d634c6c51c0d888591479077282fbbd4b215a47a5d82481f", "refresh_token"=>"f322e5b1ac26bdab1871a815d74fe3a8159a5475374672f5cee668ba9027dfa7", "expire_at"=>2012-12-11 01:32:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])


Started GET "/pizzas?token=21b9196bb7936111d634c6c51c0d888591479077282fbbd4b215a47a5d82481f" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by PizzasController#index as JSON
  Parameters: {"token"=>"21b9196bb7936111d634c6c51c0d888591479077282fbbd4b215a47a5d82481f"}
MONGODB oauth_test['oauth_tokens'].find({:token=>"21b9196bb7936111d634c6c51c0d888591479077282fbbd4b215a47a5d82481f", :scope=>{"$all"=>["pizzas/index"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6857f22c2281890000191')}, {"$push"=>{"oauth_daily_requests"=>{"times"=>0, "_id"=>BSON::ObjectId('50c6858022c228189000019c'), "created_at"=>2012-12-11 01:02:14 UTC}}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6857f22c2281890000191'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6858022c228189000019c')}, {"$set"=>{"oauth_daily_requests.0.day"=>"10", "oauth_daily_requests.0.month"=>"12", "oauth_daily_requests.0.year"=>"2012", "oauth_daily_requests.0.time_id"=>"20121210"}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6857f22c2281890000191'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6858022c228189000019c')}, {"$set"=>{"oauth_daily_requests.0.times"=>1}})
Completed 200 OK in 8ms (Views: 2.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6858022c228189000019d'), "scope"=>["pizzas/index"], "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:14 UTC, "token"=>"8e3141879e2aa2814fdb0d984325250bf7da74fb241618e8b8fddd7112a12c53", "refresh_token"=>"394e01409061ea14dbb65d42de22dcb8d348398fc8cdd88111f48b19ec5294c8", "expire_at"=>2012-12-11 01:32:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])


Started GET "/pizzas/0?token=8e3141879e2aa2814fdb0d984325250bf7da74fb241618e8b8fddd7112a12c53" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by PizzasController#show as JSON
  Parameters: {"token"=>"8e3141879e2aa2814fdb0d984325250bf7da74fb241618e8b8fddd7112a12c53", "id"=>"0"}
MONGODB oauth_test['oauth_tokens'].find({:token=>"8e3141879e2aa2814fdb0d984325250bf7da74fb241618e8b8fddd7112a12c53", :scope=>{"$all"=>["pizzas/show"]}})
Completed 401 Unauthorized in 2ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6858022c228189000019e'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show"], "created_at"=>2012-12-11 01:02:14 UTC, "token"=>"c54e243359f19646b0764a53971be57b34a3a3d1b64698a41fcef85f84da1997", "refresh_token"=>"319dc7ae64589f3ee2252272d63a5bae1d98ce83b852b08f6813cea4a00f8339", "expire_at"=>2012-12-11 01:32:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])


Started GET "/pizzas?token=c54e243359f19646b0764a53971be57b34a3a3d1b64698a41fcef85f84da1997" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by PizzasController#index as JSON
  Parameters: {"token"=>"c54e243359f19646b0764a53971be57b34a3a3d1b64698a41fcef85f84da1997"}
MONGODB oauth_test['oauth_tokens'].find({:token=>"c54e243359f19646b0764a53971be57b34a3a3d1b64698a41fcef85f84da1997", :scope=>{"$all"=>["pizzas/index"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6857f22c2281890000193')}, {"$push"=>{"oauth_daily_requests"=>{"times"=>0, "_id"=>BSON::ObjectId('50c6858022c228189000019f'), "created_at"=>2012-12-11 01:02:14 UTC}}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6857f22c2281890000193'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6858022c228189000019f')}, {"$set"=>{"oauth_daily_requests.0.day"=>"10", "oauth_daily_requests.0.month"=>"12", "oauth_daily_requests.0.year"=>"2012", "oauth_daily_requests.0.time_id"=>"20121210"}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6857f22c2281890000193'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6858022c228189000019f')}, {"$set"=>{"oauth_daily_requests.0.times"=>1}})
Completed 200 OK in 7ms (Views: 0.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6858022c22818900001a0'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show"], "created_at"=>2012-12-11 01:02:14 UTC, "token"=>"2affac32f9d0aac42d35a0f2abb269cce0e8217c05b57817c83bc87adcb8eba5", "refresh_token"=>"83d97bc9e73da21db2fa5b4502122602ff6c98756c9563705e998b90c36ac1f5", "expire_at"=>2012-12-11 01:32:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])


Started GET "/pizzas/0?token=2affac32f9d0aac42d35a0f2abb269cce0e8217c05b57817c83bc87adcb8eba5" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by PizzasController#show as JSON
  Parameters: {"token"=>"2affac32f9d0aac42d35a0f2abb269cce0e8217c05b57817c83bc87adcb8eba5", "id"=>"0"}
MONGODB oauth_test['oauth_tokens'].find({:token=>"2affac32f9d0aac42d35a0f2abb269cce0e8217c05b57817c83bc87adcb8eba5", :scope=>{"$all"=>["pizzas/show"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6857f22c2281890000195')}, {"$push"=>{"oauth_daily_requests"=>{"times"=>0, "_id"=>BSON::ObjectId('50c6858022c22818900001a1'), "created_at"=>2012-12-11 01:02:14 UTC}}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6857f22c2281890000195'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6858022c22818900001a1')}, {"$set"=>{"oauth_daily_requests.0.day"=>"10", "oauth_daily_requests.0.month"=>"12", "oauth_daily_requests.0.year"=>"2012", "oauth_daily_requests.0.time_id"=>"20121210"}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6857f22c2281890000195'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6858022c22818900001a1')}, {"$set"=>{"oauth_daily_requests.0.times"=>1}})
Completed 200 OK in 7ms (Views: 0.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6858022c22818900001a2'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show"], "created_at"=>2012-12-11 01:02:14 UTC, "token"=>"177bd62c584b85f48ea6b47046f042bf47b73e0cfac67eb929c3e391d13f61dd", "refresh_token"=>"11c88cd5c8efeeeebc12c2b0005a56f332b5cc2791a76595651eb696f4d7bcf0", "expire_at"=>2012-12-11 01:32:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])


Started POST "/pizzas" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by PizzasController#create as JSON
  Parameters: {"{\"token\":\"177bd62c584b85f48ea6b47046f042bf47b73e0cfac67eb929c3e391d13f61dd\"}"=>nil}
MONGODB oauth_test['oauth_tokens'].find({:token=>"177bd62c584b85f48ea6b47046f042bf47b73e0cfac67eb929c3e391d13f61dd", :scope=>{"$all"=>["pizzas/create"]}})
Completed 401 Unauthorized in 3ms (Views: 2.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6858022c22818900001a3'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show"], "created_at"=>2012-12-11 01:02:14 UTC, "token"=>"8f41aba66bd2e4dc021d2ffc883ff4acd36af760141e5d9ec71e1d627c884bbe", "refresh_token"=>"a9d3cbc639f14a711f482a8f937ae87098aa408d05e05c3da4014f8089787587", "expire_at"=>2012-12-11 01:32:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])


Started PUT "/pizzas/0" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by PizzasController#update as JSON
  Parameters: {"{\"token\":\"8f41aba66bd2e4dc021d2ffc883ff4acd36af760141e5d9ec71e1d627c884bbe\"}"=>nil, "id"=>"0"}
MONGODB oauth_test['oauth_tokens'].find({:token=>"8f41aba66bd2e4dc021d2ffc883ff4acd36af760141e5d9ec71e1d627c884bbe", :scope=>{"$all"=>["pizzas/update"]}})
Completed 401 Unauthorized in 1ms (Views: 0.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6858022c22818900001a4'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show"], "created_at"=>2012-12-11 01:02:14 UTC, "token"=>"981d60a5e981586536a54d051e19d32f4ed2b9c04803095491352b5e40011edf", "refresh_token"=>"b95a5d042c8375b2a59e000336fa14e3eaf50d4bbcf8c7ae7ae2fa52cf12850c", "expire_at"=>2012-12-11 01:32:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])


Started DELETE "/pizzas/0" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by PizzasController#destroy as JSON
  Parameters: {"{\"token\":\"981d60a5e981586536a54d051e19d32f4ed2b9c04803095491352b5e40011edf\"}"=>nil, "id"=>"0"}
MONGODB oauth_test['oauth_tokens'].find({:token=>"981d60a5e981586536a54d051e19d32f4ed2b9c04803095491352b5e40011edf", :scope=>{"$all"=>["pizzas/destroy"]}})
Completed 401 Unauthorized in 1ms (Views: 0.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6858022c22818900001a5'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:14 UTC, "token"=>"d2cbfeae4d18ffa8b11357690920b1fca527729d1928daeb3db2afaf185a28ab", "refresh_token"=>"64e8f5baa39fae0ae5da422209fff2a8eff5495caf02627be3ddf346cb126587", "expire_at"=>2012-12-11 01:32:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])


Started GET "/pizzas?token=d2cbfeae4d18ffa8b11357690920b1fca527729d1928daeb3db2afaf185a28ab" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by PizzasController#index as JSON
  Parameters: {"token"=>"d2cbfeae4d18ffa8b11357690920b1fca527729d1928daeb3db2afaf185a28ab"}
MONGODB oauth_test['oauth_tokens'].find({:token=>"d2cbfeae4d18ffa8b11357690920b1fca527729d1928daeb3db2afaf185a28ab", :scope=>{"$all"=>["pizzas/index"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6858022c2281890000197')}, {"$push"=>{"oauth_daily_requests"=>{"times"=>0, "_id"=>BSON::ObjectId('50c6858022c22818900001a6'), "created_at"=>2012-12-11 01:02:14 UTC}}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6858022c2281890000197'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6858022c22818900001a6')}, {"$set"=>{"oauth_daily_requests.0.day"=>"10", "oauth_daily_requests.0.month"=>"12", "oauth_daily_requests.0.year"=>"2012", "oauth_daily_requests.0.time_id"=>"20121210"}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6858022c2281890000197'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6858022c22818900001a6')}, {"$set"=>{"oauth_daily_requests.0.times"=>1}})
Completed 200 OK in 5ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6858022c22818900001a7'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:14 UTC, "token"=>"0da51fab8390849f5e69c0923e1cad94296ace8a3806369e0b45d8383c67b49e", "refresh_token"=>"ac0c975290b3f46b11bd0bcb4b84a0816f60e61714c330587cb7156d306fab99", "expire_at"=>2012-12-11 01:32:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])


Started GET "/pizzas/0?token=0da51fab8390849f5e69c0923e1cad94296ace8a3806369e0b45d8383c67b49e" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by PizzasController#show as JSON
  Parameters: {"token"=>"0da51fab8390849f5e69c0923e1cad94296ace8a3806369e0b45d8383c67b49e", "id"=>"0"}
MONGODB oauth_test['oauth_tokens'].find({:token=>"0da51fab8390849f5e69c0923e1cad94296ace8a3806369e0b45d8383c67b49e", :scope=>{"$all"=>["pizzas/show"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6858022c2281890000199')}, {"$push"=>{"oauth_daily_requests"=>{"times"=>0, "_id"=>BSON::ObjectId('50c6858022c22818900001a8'), "created_at"=>2012-12-11 01:02:14 UTC}}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6858022c2281890000199'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6858022c22818900001a8')}, {"$set"=>{"oauth_daily_requests.0.day"=>"10", "oauth_daily_requests.0.month"=>"12", "oauth_daily_requests.0.year"=>"2012", "oauth_daily_requests.0.time_id"=>"20121210"}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6858022c2281890000199'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6858022c22818900001a8')}, {"$set"=>{"oauth_daily_requests.0.times"=>1}})
Completed 200 OK in 5ms (Views: 0.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6858022c22818900001a9'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:14 UTC, "token"=>"05a8f4e2c3d28986928d053b3953a7d4f52c5f68495dc7abfd0f3e54bc7a8169", "refresh_token"=>"c5ff74c39619f32477f455299dfdc055a871157cb59b1d45fbb2b0ba73532bc2", "expire_at"=>2012-12-11 01:32:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])


Started POST "/pizzas" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by PizzasController#create as JSON
  Parameters: {"{\"token\":\"05a8f4e2c3d28986928d053b3953a7d4f52c5f68495dc7abfd0f3e54bc7a8169\"}"=>nil}
MONGODB oauth_test['oauth_tokens'].find({:token=>"05a8f4e2c3d28986928d053b3953a7d4f52c5f68495dc7abfd0f3e54bc7a8169", :scope=>{"$all"=>["pizzas/create"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6857f22c2281890000191'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6858022c228189000019c')}, {"$set"=>{"oauth_daily_requests.0.times"=>2}})
Completed 200 OK in 5ms (Views: 0.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6858022c22818900001aa'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:14 UTC, "token"=>"a044204e6c0fad1ae99370f2eb169d88de230022fa8fc91cf60816223f7e6218", "refresh_token"=>"3cc6a7b50d45a6c5059ef32a8ad22f7fea0b4d8d059509659905a8e764c26931", "expire_at"=>2012-12-11 01:32:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])


Started PUT "/pizzas/0" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by PizzasController#update as JSON
  Parameters: {"{\"token\":\"a044204e6c0fad1ae99370f2eb169d88de230022fa8fc91cf60816223f7e6218\"}"=>nil, "id"=>"0"}
MONGODB oauth_test['oauth_tokens'].find({:token=>"a044204e6c0fad1ae99370f2eb169d88de230022fa8fc91cf60816223f7e6218", :scope=>{"$all"=>["pizzas/update"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6857f22c2281890000191'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6858022c228189000019c')}, {"$set"=>{"oauth_daily_requests.0.times"=>3}})
Completed 200 OK in 4ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6858022c22818900001ab'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:14 UTC, "token"=>"443875b1a8dd0a935e741e84f90dc6116af315f058ed9cd083d5604208efc0f4", "refresh_token"=>"1ccc1c3bb5f87838bfac3dd2529bb72551960f8c3cb5d42a538b980e6670b9b2", "expire_at"=>2012-12-11 01:32:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])


Started DELETE "/pizzas/0" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by PizzasController#destroy as JSON
  Parameters: {"{\"token\":\"443875b1a8dd0a935e741e84f90dc6116af315f058ed9cd083d5604208efc0f4\"}"=>nil, "id"=>"0"}
MONGODB oauth_test['oauth_tokens'].find({:token=>"443875b1a8dd0a935e741e84f90dc6116af315f058ed9cd083d5604208efc0f4", :scope=>{"$all"=>["pizzas/destroy"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6857f22c2281890000191'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6858022c228189000019c')}, {"$set"=>{"oauth_daily_requests.0.times"=>4}})
Completed 200 OK in 4ms (Views: 0.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6858022c22818900001ac'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:14 UTC, "token"=>"3ef6bcf8dcd1dcedb26ade1988c7fb85bb2c5638e9f37ebba52a89aade3a52f0", "refresh_token"=>"a7b966cf34d0886457ec59aafbc171372a8829022d0a46d0b5daf650ee6ea1bc", "expire_at"=>2012-12-11 01:32:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])


Started GET "/pizzas" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by PizzasController#index as JSON
MONGODB oauth_test['oauth_tokens'].find({:token=>"3ef6bcf8dcd1dcedb26ade1988c7fb85bb2c5638e9f37ebba52a89aade3a52f0", :scope=>{"$all"=>["pizzas/index"]}})
MONGODB oauth_test['oauth_accesses'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6857f22c2281890000191'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6858022c228189000019c')}, {"$set"=>{"oauth_daily_requests.0.times"=>5}})
Completed 200 OK in 4ms (Views: 1.0ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858022c22818900001ad'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC, "password_salt"=>"$2a$10$GexBaBJ6ETbdSFms0ar5yu", "password_hash"=>"$2a$10$GexBaBJ6ETbdSFms0ar5yuhqqhq7/Jpja34nnIVs07qoHEr4JXbNy"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858022c22818900001ae'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC, "password_salt"=>"$2a$10$L05GdLP/yhhnLOhzW35r2e", "password_hash"=>"$2a$10$L05GdLP/yhhnLOhzW35r2e58S96OMjElMf0v30acRGr5l39Ob4r76"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858022c22818900001af'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6858022c22818900001b0'), "name"=>"read", "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "created_at"=>2012-12-11 01:02:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])


Started GET "/scopes" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by ScopesController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6817522c22818900000fd')})
Redirected to http://www.example.com/log_in
Completed 302 Found in 1ms


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 6ms (Views: 5.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001ad')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001ae')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858022c22818900001b1'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC, "password_salt"=>"$2a$10$VW3bsNaJ7P1rvSU8E0.U8e", "password_hash"=>"$2a$10$VW3bsNaJ7P1rvSU8E0.U8exT2Qpt4LmKlxAre5eZfYMLaDstsANAK"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858022c22818900001b2'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC, "password_salt"=>"$2a$10$jMg7/m1y5JhN36/uDLOrnO", "password_hash"=>"$2a$10$jMg7/m1y5JhN36/uDLOrnOTfDBKQGtD9PHW166CgXG.sKeuDhKSe6"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858022c22818900001b3'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6858022c22818900001b4'), "name"=>"read", "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "created_at"=>2012-12-11 01:02:14 UTC, "updated_at"=>2012-12-11 01:02:14 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:14 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/scopes
Completed 302 Found in 88ms


Started GET "/scopes" for 127.0.0.1 at 2012-12-10 20:02:15 -0500
  Processing by ScopesController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858022c22818900001b2')})
MONGODB oauth_test['scopes'].find({})
Completed 200 OK in 109ms (Views: 108.4ms)


Started GET "/scopes" for 127.0.0.1 at 2012-12-10 20:02:15 -0500
  Processing by ScopesController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858022c22818900001b2')})
MONGODB oauth_test['scopes'].find({})
Completed 200 OK in 104ms (Views: 102.5ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001b1')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001b2')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858122c22818900001b5'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:15 UTC, "updated_at"=>2012-12-11 01:02:15 UTC, "password_salt"=>"$2a$10$f2MKhkPpFQNboBk/0ji89O", "password_hash"=>"$2a$10$f2MKhkPpFQNboBk/0ji89OikqM.yI8GM7UEvOXEftg2sygpy.uIaK"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858122c22818900001b6'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:15 UTC, "updated_at"=>2012-12-11 01:02:15 UTC, "password_salt"=>"$2a$10$PTtAMaVYuRH5cAtDKioHuO", "password_hash"=>"$2a$10$PTtAMaVYuRH5cAtDKioHuO1HFv7TSlH2cenTNKKbqoNX6Q7Kad3KW"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858122c22818900001b7'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:15 UTC, "updated_at"=>2012-12-11 01:02:15 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6858122c22818900001b8'), "name"=>"read", "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "created_at"=>2012-12-11 01:02:15 UTC, "updated_at"=>2012-12-11 01:02:15 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:15 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:15 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6858122c22818900001b5
Completed 302 Found in 92ms


Started GET "/users/50c6858122c22818900001b5" for 127.0.0.1 at 2012-12-10 20:02:16 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858122c22818900001b5"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858122c22818900001b5')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6858122c22818900001b5')})
Completed 200 OK in 10ms (Views: 7.8ms)


Started GET "/scopes" for 127.0.0.1 at 2012-12-10 20:02:16 -0500
  Processing by ScopesController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858122c22818900001b5')})
Redirected to http://www.example.com/
Completed 302 Found in 2ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:16 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 10ms (Views: 8.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858122c22818900001b5')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858122c22818900001b6')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858222c22818900001b9'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:16 UTC, "updated_at"=>2012-12-11 01:02:16 UTC, "password_salt"=>"$2a$10$WMFzhuedQNyx2CodcSdGpO", "password_hash"=>"$2a$10$WMFzhuedQNyx2CodcSdGpOK3gCGJXc6tmOklkIjtgfe0KugOVxQUi"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858222c22818900001ba'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:16 UTC, "updated_at"=>2012-12-11 01:02:16 UTC, "password_salt"=>"$2a$10$HqqviXslkPEZbT1ctlfA7O", "password_hash"=>"$2a$10$HqqviXslkPEZbT1ctlfA7ODRYTx5jcdMAW7773Xh6ls8rZcvPLT7K"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858222c22818900001bb'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:16 UTC, "updated_at"=>2012-12-11 01:02:16 UTC}])


Started GET "/scopes/50c6858222c22818900001bb" for 127.0.0.1 at 2012-12-10 20:02:16 -0500
  Processing by ScopesController#show as HTML
  Parameters: {"id"=>"50c6858222c22818900001bb"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858122c22818900001b5')})
Redirected to http://www.example.com/log_in
Completed 302 Found in 2ms


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:16 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858222c22818900001b9')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858222c22818900001ba')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858222c22818900001bc'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:16 UTC, "updated_at"=>2012-12-11 01:02:16 UTC, "password_salt"=>"$2a$10$fbZIIWeWYLMHdQdTpBZi9.", "password_hash"=>"$2a$10$fbZIIWeWYLMHdQdTpBZi9.ZjIojaNDhWYlnE//LFdhbmIBL702TXi"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858222c22818900001bd'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:16 UTC, "updated_at"=>2012-12-11 01:02:16 UTC, "password_salt"=>"$2a$10$28HrpY1K2c01hkmnJZaMK.", "password_hash"=>"$2a$10$28HrpY1K2c01hkmnJZaMK.V0lA.GiCVZ42q8dJr41/9KkFIi8yKAG"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858222c22818900001be'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:16 UTC, "updated_at"=>2012-12-11 01:02:16 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:16 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:16 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/scopes/50c6858222c22818900001bb
Completed 302 Found in 92ms


Started GET "/scopes/50c6858222c22818900001bb" for 127.0.0.1 at 2012-12-10 20:02:16 -0500
  Processing by ScopesController#show as HTML
  Parameters: {"id"=>"50c6858222c22818900001bb"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858222c22818900001bd')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858222c22818900001bb')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
Completed 200 OK in 16ms (Views: 13.7ms)


Started GET "/scopes/50c6858222c22818900001be" for 127.0.0.1 at 2012-12-10 20:02:16 -0500
  Processing by ScopesController#show as HTML
  Parameters: {"id"=>"50c6858222c22818900001be"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858222c22818900001bd')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858222c22818900001be')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
Completed 200 OK in 9ms (Views: 6.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858222c22818900001bc')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858222c22818900001bd')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858222c22818900001bf'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:16 UTC, "updated_at"=>2012-12-11 01:02:16 UTC, "password_salt"=>"$2a$10$KQlx5QneHMwCvqLhCRrlrO", "password_hash"=>"$2a$10$KQlx5QneHMwCvqLhCRrlrOMbStvISIwu3aLn9jzQ9S6u/knV1/JFy"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858222c22818900001c0'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:16 UTC, "updated_at"=>2012-12-11 01:02:16 UTC, "password_salt"=>"$2a$10$xw.5UhqYdpaVEX92XSFke.", "password_hash"=>"$2a$10$xw.5UhqYdpaVEX92XSFke.A7d1iw2AN58K2TsB5zk.VcPjB1pB3PG"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858222c22818900001c1'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:16 UTC, "updated_at"=>2012-12-11 01:02:16 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:16 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:16 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6858222c22818900001c0
Completed 302 Found in 86ms


Started GET "/users/50c6858222c22818900001c0" for 127.0.0.1 at 2012-12-10 20:02:16 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858222c22818900001c0"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858222c22818900001c0')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858222c22818900001c0')})
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858222c22818900001c1')})


Started GET "/scopes/50c6858222c22818900001c1" for 127.0.0.1 at 2012-12-10 20:02:16 -0500
  Processing by ScopesController#show as HTML
  Parameters: {"id"=>"50c6858222c22818900001c1"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858222c22818900001c0')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858222c22818900001c1')})
Redirected to http://www.example.com/
Completed 302 Found in 1ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:16 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858222c22818900001bf')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858222c22818900001c0')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858222c22818900001c2'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:16 UTC, "updated_at"=>2012-12-11 01:02:16 UTC, "password_salt"=>"$2a$10$lXlFKMNDJ4hK18ckN/6KF.", "password_hash"=>"$2a$10$lXlFKMNDJ4hK18ckN/6KF.zXB.Jm/croONmx5hNRCd/B1GX82e.ii"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858322c22818900001c3'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:17 UTC, "updated_at"=>2012-12-11 01:02:17 UTC, "password_salt"=>"$2a$10$c0npQKEdqyWhY6Z8i8vLvO", "password_hash"=>"$2a$10$c0npQKEdqyWhY6Z8i8vLvO5axIK/kJ7FVPUtlUtahP6xRvWsDDPoe"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858322c22818900001c4'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:17 UTC, "updated_at"=>2012-12-11 01:02:17 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:17 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:17 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6858322c22818900001c3
Completed 302 Found in 85ms


Started GET "/users/50c6858322c22818900001c3" for 127.0.0.1 at 2012-12-10 20:02:17 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858322c22818900001c3"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858322c22818900001c3')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858322c22818900001c3')})
Completed 200 OK in 6ms (Views: 4.9ms)


Started GET "/scopes/0" for 127.0.0.1 at 2012-12-10 20:02:17 -0500
  Processing by ScopesController#show as HTML
  Parameters: {"id"=>"0"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858322c22818900001c3')})
Completed   in 1ms
Redirected to http://www.example.com/


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:17 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858222c22818900001c2')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858322c22818900001c3')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858322c22818900001c5'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:17 UTC, "updated_at"=>2012-12-11 01:02:17 UTC, "password_salt"=>"$2a$10$d5UdQkGc8YIUq/NF/4OhQ.", "password_hash"=>"$2a$10$d5UdQkGc8YIUq/NF/4OhQ.FmPSz47iO1dhcZQJPONe/9ZHC3Lujn2"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858322c22818900001c6'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:17 UTC, "updated_at"=>2012-12-11 01:02:17 UTC, "password_salt"=>"$2a$10$BbQQAdLSlcm3c40PVSjKI.", "password_hash"=>"$2a$10$BbQQAdLSlcm3c40PVSjKI.J7FFe1oqZZIvjHUi2Qs5boOV3lgRFRu"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858322c22818900001c7'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:17 UTC, "updated_at"=>2012-12-11 01:02:17 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:17 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:17 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6858322c22818900001c5
Completed 302 Found in 85ms


Started GET "/users/50c6858322c22818900001c5" for 127.0.0.1 at 2012-12-10 20:02:17 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858322c22818900001c5"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858322c22818900001c5')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6858322c22818900001c5')})
Completed 200 OK in 6ms (Views: 4.9ms)


Started GET "/scopes/50c6858322c22818900001c7" for 127.0.0.1 at 2012-12-10 20:02:17 -0500
  Processing by ScopesController#show as HTML
  Parameters: {"id"=>"50c6858322c22818900001c7"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858322c22818900001c5')})
Redirected to http://www.example.com/
Completed 302 Found in 1ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:17 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858322c22818900001c5')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858322c22818900001c6')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858322c22818900001c8'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:17 UTC, "updated_at"=>2012-12-11 01:02:17 UTC, "password_salt"=>"$2a$10$09P3TKH9.gChu5758B.C3O", "password_hash"=>"$2a$10$09P3TKH9.gChu5758B.C3O.8HIve7nYZDP7m6ijZL4rpnWSQffNnq"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858322c22818900001c9'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:17 UTC, "updated_at"=>2012-12-11 01:02:17 UTC, "password_salt"=>"$2a$10$Hxd9Efe7oMpk0qfkwWSFz.", "password_hash"=>"$2a$10$Hxd9Efe7oMpk0qfkwWSFz.xrfhJjXeP7VKH/5cX.eVjnWK6Cd1Vf."}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858322c22818900001ca'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:17 UTC, "updated_at"=>2012-12-11 01:02:17 UTC}])


Started GET "/scopes/new" for 127.0.0.1 at 2012-12-10 20:02:17 -0500
  Processing by ScopesController#new as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858322c22818900001c5')})
Redirected to http://www.example.com/log_in
Completed 302 Found in 2ms


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:17 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858322c22818900001c8')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858322c22818900001c9')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858322c22818900001cb'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:17 UTC, "updated_at"=>2012-12-11 01:02:17 UTC, "password_salt"=>"$2a$10$YwJ/7ydVbU7.HJhF//YtIO", "password_hash"=>"$2a$10$YwJ/7ydVbU7.HJhF//YtIOwFXjxekGyUXwoIkkOJgfk8bxaIKWnQa"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858322c22818900001cc'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:17 UTC, "updated_at"=>2012-12-11 01:02:17 UTC, "password_salt"=>"$2a$10$oD6grDeagnsbENowzakuFO", "password_hash"=>"$2a$10$oD6grDeagnsbENowzakuFOJV9VZ5.UaCvfZbABGC23erL/zbEluC."}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858422c22818900001cd'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:18 UTC, "updated_at"=>2012-12-11 01:02:18 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:18 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:18 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/scopes/new
Completed 302 Found in 83ms


Started GET "/scopes/new" for 127.0.0.1 at 2012-12-10 20:02:18 -0500
  Processing by ScopesController#new as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858322c22818900001cc')})
Rendered scopes/_form.html.erb (4.9ms)
Completed 200 OK in 21ms (Views: 20.5ms)


Started GET "/scopes/new" for 127.0.0.1 at 2012-12-10 20:02:18 -0500
  Processing by ScopesController#new as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858322c22818900001cc')})
Rendered scopes/_form.html.erb (2.9ms)
Completed 200 OK in 12ms (Views: 10.7ms)


Started POST "/scopes" for 127.0.0.1 at 2012-12-10 20:02:18 -0500
  Processing by ScopesController#create as HTML
  Parameters: {"utf8"=>"✓", "scope"=>{"name"=>"pizza/read", "values"=>"pizza/index pizza/show"}, "commit"=>"Create Scope"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858322c22818900001cc')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizza/index", "pizza/show"], "name"=>"pizza/read", "_id"=>BSON::ObjectId('50c6858422c22818900001d0'), "uri"=>"http://www.example.com/scopes/50c6858422c22818900001d0", "created_at"=>2012-12-11 01:02:18 UTC, "updated_at"=>2012-12-11 01:02:18 UTC}])
Redirected to http://www.example.com/scopes/50c6858422c22818900001d0
Completed 302 Found in 5ms


Started GET "/scopes/50c6858422c22818900001d0" for 127.0.0.1 at 2012-12-10 20:02:18 -0500
  Processing by ScopesController#show as HTML
  Parameters: {"id"=>"50c6858422c22818900001d0"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858322c22818900001cc')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858422c22818900001d0')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizza/index", "pizza/show"]}})
Completed 200 OK in 8ms (Views: 6.8ms)
MONGODB oauth_test['scopes'].find({}).sort([[:_id, :desc]])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858322c22818900001cb')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858322c22818900001cc')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858422c22818900001d1'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:18 UTC, "updated_at"=>2012-12-11 01:02:18 UTC, "password_salt"=>"$2a$10$AgEq00jtAkRqHsYyGRQPqe", "password_hash"=>"$2a$10$AgEq00jtAkRqHsYyGRQPqeBjHhT1uOq3mfgk4lmK9v054Msz7.Dfq"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858422c22818900001d2'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:18 UTC, "updated_at"=>2012-12-11 01:02:18 UTC, "password_salt"=>"$2a$10$zeEp6pLFj8SHxP0Qf0UNDe", "password_hash"=>"$2a$10$zeEp6pLFj8SHxP0Qf0UNDebzgvmyNeYmiAw2ouxeTQfmpRXZ9qKl."}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858422c22818900001d3'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:18 UTC, "updated_at"=>2012-12-11 01:02:18 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:18 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:18 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6858422c22818900001d2
Completed 302 Found in 90ms


Started GET "/users/50c6858422c22818900001d2" for 127.0.0.1 at 2012-12-10 20:02:18 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858422c22818900001d2"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858422c22818900001d2')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858422c22818900001d2')})
Completed 200 OK in 6ms (Views: 3.9ms)


Started GET "/scopes/new" for 127.0.0.1 at 2012-12-10 20:02:18 -0500
  Processing by ScopesController#new as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858422c22818900001d2')})
Rendered scopes/_form.html.erb (2.0ms)
Completed 200 OK in 8ms (Views: 6.8ms)


Started POST "/scopes" for 127.0.0.1 at 2012-12-10 20:02:18 -0500
  Processing by ScopesController#create as HTML
  Parameters: {"utf8"=>"✓", "scope"=>{"name"=>"pizza/read", "values"=>"pizza/index pizza/show"}, "commit"=>"Create Scope"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858422c22818900001d2')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizza/index", "pizza/show"], "name"=>"pizza/read", "_id"=>BSON::ObjectId('50c6858422c22818900001d5'), "uri"=>"http://www.example.com/scopes/50c6858422c22818900001d5", "created_at"=>2012-12-11 01:02:18 UTC, "updated_at"=>2012-12-11 01:02:18 UTC}])
Redirected to http://www.example.com/scopes/50c6858422c22818900001d5
Completed 302 Found in 4ms


Started GET "/scopes/50c6858422c22818900001d5" for 127.0.0.1 at 2012-12-10 20:02:18 -0500
  Processing by ScopesController#show as HTML
  Parameters: {"id"=>"50c6858422c22818900001d5"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858422c22818900001d2')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858422c22818900001d5')})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizza/index", "pizza/show"]}})
Completed 200 OK in 8ms (Views: 5.9ms)
MONGODB oauth_test['scopes'].find({}).sort([[:_id, :desc]])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858422c22818900001d1')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858422c22818900001d2')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858422c22818900001d6'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:18 UTC, "updated_at"=>2012-12-11 01:02:18 UTC, "password_salt"=>"$2a$10$Y7/Im.o2Yyvfwp7xZCHAQO", "password_hash"=>"$2a$10$Y7/Im.o2Yyvfwp7xZCHAQOK7f33oGZP9kU4kOkZiio0nk8h4Llc8m"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858422c22818900001d7'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:18 UTC, "updated_at"=>2012-12-11 01:02:18 UTC, "password_salt"=>"$2a$10$v9k/R3LJG5HzYuTfzvOftO", "password_hash"=>"$2a$10$v9k/R3LJG5HzYuTfzvOftOQjdCXQzpMUDc5G6MX531ftywKAF0weK"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858422c22818900001d8'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:18 UTC, "updated_at"=>2012-12-11 01:02:18 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:18 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:18 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6858422c22818900001d7
Completed 302 Found in 89ms


Started GET "/users/50c6858422c22818900001d7" for 127.0.0.1 at 2012-12-10 20:02:18 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858422c22818900001d7"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858422c22818900001d7')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858422c22818900001d7')})
Completed 200 OK in 6ms (Views: 4.9ms)


Started GET "/scopes/new" for 127.0.0.1 at 2012-12-10 20:02:18 -0500
  Processing by ScopesController#new as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858422c22818900001d7')})
Rendered scopes/_form.html.erb (2.0ms)
Completed 200 OK in 8ms (Views: 5.9ms)


Started POST "/scopes" for 127.0.0.1 at 2012-12-10 20:02:18 -0500
  Processing by ScopesController#create as HTML
  Parameters: {"utf8"=>"✓", "scope"=>{"name"=>"", "values"=>""}, "commit"=>"Create Scope"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858422c22818900001d7')})
Rendered scopes/_form.html.erb (5.9ms)
Completed 200 OK in 17ms (Views: 9.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858422c22818900001d6')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858422c22818900001d7')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858422c22818900001db'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:18 UTC, "updated_at"=>2012-12-11 01:02:18 UTC, "password_salt"=>"$2a$10$CoGu9TY1JXEjuBEbk05wxO", "password_hash"=>"$2a$10$CoGu9TY1JXEjuBEbk05wxO6JKOC3IlFt/5GYuLN/7JgDqIkSBrxqm"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858522c22818900001dc'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:19 UTC, "updated_at"=>2012-12-11 01:02:19 UTC, "password_salt"=>"$2a$10$tsOt7RB5/9Hvu6tbSqqUKO", "password_hash"=>"$2a$10$tsOt7RB5/9Hvu6tbSqqUKOyd9l/eBw1PEWmSQIgyQJ6uRL1ki6DYi"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858522c22818900001dd'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:19 UTC, "updated_at"=>2012-12-11 01:02:19 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:19 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:19 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6858422c22818900001db
Completed 302 Found in 85ms


Started GET "/users/50c6858422c22818900001db" for 127.0.0.1 at 2012-12-10 20:02:19 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858422c22818900001db"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858422c22818900001db')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6858422c22818900001db')})
Completed 200 OK in 7ms (Views: 4.9ms)


Started GET "/scopes/new" for 127.0.0.1 at 2012-12-10 20:02:19 -0500
  Processing by ScopesController#new as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858422c22818900001db')})
Redirected to http://www.example.com/
Completed 302 Found in 2ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:19 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858422c22818900001db')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858522c22818900001dc')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858522c22818900001de'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:19 UTC, "updated_at"=>2012-12-11 01:02:19 UTC, "password_salt"=>"$2a$10$o0DU6G8sTXd5hrIB9mIGMe", "password_hash"=>"$2a$10$o0DU6G8sTXd5hrIB9mIGMeuv4NJZ2Oypd/58vmKvFWO85IjGp3Kbe"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858522c22818900001df'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:19 UTC, "updated_at"=>2012-12-11 01:02:19 UTC, "password_salt"=>"$2a$10$kzFYajyIgFWkjeTRrHPJfu", "password_hash"=>"$2a$10$kzFYajyIgFWkjeTRrHPJfuvFIddEn./V0QkGkKHNrhwVuxUMRzNAC"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858522c22818900001e0'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:19 UTC, "updated_at"=>2012-12-11 01:02:19 UTC}])


Started GET "/scopes/50c6858522c22818900001e0/edit" for 127.0.0.1 at 2012-12-10 20:02:19 -0500
  Processing by ScopesController#edit as HTML
  Parameters: {"id"=>"50c6858522c22818900001e0"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858422c22818900001db')})
Redirected to http://www.example.com/log_in
Completed 302 Found in 3ms


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:19 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 7ms (Views: 6.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858522c22818900001de')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858522c22818900001df')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858522c22818900001e1'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:19 UTC, "updated_at"=>2012-12-11 01:02:19 UTC, "password_salt"=>"$2a$10$z7Gl0IYyGkeydAQ1gfH0Gu", "password_hash"=>"$2a$10$z7Gl0IYyGkeydAQ1gfH0GuLchKdWagD.bToiENKQ0NHSUuGAPD9Ti"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858522c22818900001e2'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:19 UTC, "updated_at"=>2012-12-11 01:02:19 UTC, "password_salt"=>"$2a$10$YGJamn5rYDboKneA7LIYx.", "password_hash"=>"$2a$10$YGJamn5rYDboKneA7LIYx.IMph1y1gJfqSNfj8ePS1yWhCJ2zUL1."}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858522c22818900001e3'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:19 UTC, "updated_at"=>2012-12-11 01:02:19 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:19 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 7ms (Views: 6.8ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:19 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/scopes/50c6858522c22818900001e0/edit
Completed 302 Found in 102ms


Started GET "/scopes/50c6858522c22818900001e0/edit" for 127.0.0.1 at 2012-12-10 20:02:19 -0500
  Processing by ScopesController#edit as HTML
  Parameters: {"id"=>"50c6858522c22818900001e0"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858522c22818900001e2')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858522c22818900001e0')})
Rendered scopes/_form.html.erb (2.0ms)
Completed 200 OK in 14ms (Views: 12.7ms)


Started GET "/scopes/50c6858522c22818900001e3/edit" for 127.0.0.1 at 2012-12-10 20:02:19 -0500
  Processing by ScopesController#edit as HTML
  Parameters: {"id"=>"50c6858522c22818900001e3"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858522c22818900001e2')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858522c22818900001e3')})
Rendered scopes/_form.html.erb (2.9ms)
Completed 200 OK in 8ms (Views: 6.8ms)


Started POST "/scopes/50c6858522c22818900001e3" for 127.0.0.1 at 2012-12-10 20:02:19 -0500
  Processing by ScopesController#update as HTML
  Parameters: {"utf8"=>"✓", "scope"=>{"name"=>"pizza/read/toppings", "values"=>"pizza/index pizza/show pizza/toppings"}, "commit"=>"Update Scope", "id"=>"50c6858522c22818900001e3"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858522c22818900001e2')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858522c22818900001e3')})
MONGODB oauth_test['scopes'].update({"_id"=>BSON::ObjectId('50c6858522c22818900001e3')}, {"$set"=>{"values"=>["pizza/index", "pizza/show", "pizza/toppings"], "name"=>"pizza/read/toppings"}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizza/index", "pizza/show", "pizza/toppings"]}})
MONGODB oauth_test['clients'].find({})
Completed 200 OK in 11ms (Views: 6.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858522c22818900001e1')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858522c22818900001e2')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858522c22818900001e4'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:19 UTC, "updated_at"=>2012-12-11 01:02:19 UTC, "password_salt"=>"$2a$10$HzOIjuH8Rq9yH.wSXug2bu", "password_hash"=>"$2a$10$HzOIjuH8Rq9yH.wSXug2buhoVkNjiO7Hmh/5NmfZ4xwo9RbhvR6jG"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858522c22818900001e5'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:19 UTC, "updated_at"=>2012-12-11 01:02:19 UTC, "password_salt"=>"$2a$10$JI4C2s8G4Wq1ZrP2WYdzRe", "password_hash"=>"$2a$10$JI4C2s8G4Wq1ZrP2WYdzRe0BRWxB5d8kNHf5eMErQFTSo5b9.v.Bq"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858622c22818900001e6'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:20 UTC, "updated_at"=>2012-12-11 01:02:20 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:20 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:20 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6858522c22818900001e5
Completed 302 Found in 93ms


Started GET "/users/50c6858522c22818900001e5" for 127.0.0.1 at 2012-12-10 20:02:20 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858522c22818900001e5"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858522c22818900001e5')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858522c22818900001e5')})
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858622c22818900001e6')})


Started GET "/scopes/50c6858622c22818900001e6/edit" for 127.0.0.1 at 2012-12-10 20:02:20 -0500
  Processing by ScopesController#edit as HTML
  Parameters: {"id"=>"50c6858622c22818900001e6"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858522c22818900001e5')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858622c22818900001e6')})
Redirected to http://www.example.com/
Completed 302 Found in 2ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:20 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858522c22818900001e4')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858522c22818900001e5')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858622c22818900001e7'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:20 UTC, "updated_at"=>2012-12-11 01:02:20 UTC, "password_salt"=>"$2a$10$gp2CFOsQZm41AnGXUPyuX.", "password_hash"=>"$2a$10$gp2CFOsQZm41AnGXUPyuX.S23GifuJZ3a8vw5wo7F0sAC6BcnTkMC"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858622c22818900001e8'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:20 UTC, "updated_at"=>2012-12-11 01:02:20 UTC, "password_salt"=>"$2a$10$RQhUdavSAAfzm8rX7UUxme", "password_hash"=>"$2a$10$RQhUdavSAAfzm8rX7UUxmeXIz3Pi1d2gVVugV2QXL3VzpGhtzpL/G"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858622c22818900001e9'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:20 UTC, "updated_at"=>2012-12-11 01:02:20 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:20 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 7ms (Views: 5.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:20 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6858622c22818900001e8
Completed 302 Found in 168ms


Started GET "/users/50c6858622c22818900001e8" for 127.0.0.1 at 2012-12-10 20:02:20 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858622c22818900001e8"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858622c22818900001e8')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858622c22818900001e8')})
Completed 200 OK in 8ms (Views: 5.9ms)


Started GET "/scopes/0" for 127.0.0.1 at 2012-12-10 20:02:20 -0500
  Processing by ScopesController#show as HTML
  Parameters: {"id"=>"0"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858622c22818900001e8')})
Completed   in 2ms
Redirected to http://www.example.com/


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:20 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858622c22818900001e7')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858622c22818900001e8')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858622c22818900001ea'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:20 UTC, "updated_at"=>2012-12-11 01:02:20 UTC, "password_salt"=>"$2a$10$quwAktJviUCTLs5xl/81hO", "password_hash"=>"$2a$10$quwAktJviUCTLs5xl/81hOcclDMfPsbomXr6psjnql1iozUJzexFS"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858622c22818900001eb'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:20 UTC, "updated_at"=>2012-12-11 01:02:20 UTC, "password_salt"=>"$2a$10$TeZBEBq2sCym7i/Y9U536O", "password_hash"=>"$2a$10$TeZBEBq2sCym7i/Y9U536OpT4T/XOIceoT1K77mn5sjWk2jx9pZ9a"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858622c22818900001ec'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:20 UTC, "updated_at"=>2012-12-11 01:02:20 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:20 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:20 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6858622c22818900001eb
Completed 302 Found in 95ms


Started GET "/users/50c6858622c22818900001eb" for 127.0.0.1 at 2012-12-10 20:02:20 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858622c22818900001eb"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858622c22818900001eb')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858622c22818900001eb')})
Completed 200 OK in 9ms (Views: 5.9ms)


Started GET "/scopes/50c6858622c22818900001ec/edit" for 127.0.0.1 at 2012-12-10 20:02:20 -0500
  Processing by ScopesController#edit as HTML
  Parameters: {"id"=>"50c6858622c22818900001ec"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858622c22818900001eb')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858622c22818900001ec')})
Rendered scopes/_form.html.erb (3.9ms)
Completed 200 OK in 14ms (Views: 10.7ms)


Started POST "/scopes/50c6858622c22818900001ec" for 127.0.0.1 at 2012-12-10 20:02:20 -0500
  Processing by ScopesController#update as HTML
  Parameters: {"utf8"=>"✓", "scope"=>{"name"=>"", "values"=>""}, "commit"=>"Update Scope", "id"=>"50c6858622c22818900001ec"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858622c22818900001eb')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858622c22818900001ec')})
Rendered scopes/_form.html.erb (3.9ms)
MONGODB oauth_test['clients'].find({})
Completed 200 OK in 17ms (Views: 9.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858622c22818900001ea')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858622c22818900001eb')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858622c22818900001ed'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:20 UTC, "updated_at"=>2012-12-11 01:02:20 UTC, "password_salt"=>"$2a$10$dy0oCcOPyEaZgTihILbtBu", "password_hash"=>"$2a$10$dy0oCcOPyEaZgTihILbtBud3h7mzgXGjA7gtPIPJ7Q8785pE2zEGe"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858722c22818900001ee'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:21 UTC, "updated_at"=>2012-12-11 01:02:21 UTC, "password_salt"=>"$2a$10$Z28eCOgVFa0KIExpOGEx2u", "password_hash"=>"$2a$10$Z28eCOgVFa0KIExpOGEx2uxj803lDqosw2QQZRiXh02Nah.wP67z2"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858722c22818900001ef'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:21 UTC, "updated_at"=>2012-12-11 01:02:21 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:21 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:21 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6858722c22818900001ee
Completed 302 Found in 84ms


Started GET "/users/50c6858722c22818900001ee" for 127.0.0.1 at 2012-12-10 20:02:21 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858722c22818900001ee"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858722c22818900001ee')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858722c22818900001ee')})
Completed 200 OK in 6ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000cc')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000cd')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000ce')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000cf')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000d4')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817322c22818900000d5')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000d9')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000da')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000dd')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000de')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000e2')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000e3')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000e8')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817422c22818900000e9')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000ed')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000ee')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000f1')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000f2')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000f6')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000f7')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000fb')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817522c22818900000fc')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817622c2281890000100')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6817622c2281890000101')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c681bf22c2281890000103')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c681bf22c2281890000104')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6820322c2281890000106')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6820322c2281890000107')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6824722c2281890000109')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6824722c228189000010a')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6828b22c228189000010c')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6828b22c228189000010d')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c682d022c228189000010f')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c682d022c2281890000110')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6831422c2281890000112')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6831422c2281890000113')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6835922c2281890000115')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6835922c2281890000116')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6839e22c2281890000118')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6839e22c2281890000119')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c683e222c228189000011c')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c683e222c228189000011d')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6842722c2281890000120')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6842722c2281890000121')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6846b22c2281890000124')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6846b22c2281890000125')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c684b022c2281890000128')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c684b022c2281890000129')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c684f422c228189000012c')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c684f422c228189000012d')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6853922c2281890000130')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6853922c2281890000131')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000134')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000135')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000013b')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000013c')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000013f')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000140')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000144')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000145')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000148')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000149')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000014c')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000014d')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000150')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000151')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000157')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c2281890000158')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000015b')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857e22c228189000015c')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000160')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000161')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000164')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000165')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000168')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000169')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000016d')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000016e')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000174')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000175')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000179')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000017a')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000017f')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000180')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000184')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000185')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000189')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000018a')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000018e')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6857f22c228189000018f')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001af')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001b0')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001b3')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001b4')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858122c22818900001b7')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858122c22818900001b8')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858222c22818900001bb')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858222c22818900001be')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858322c22818900001c4')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858322c22818900001c7')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858322c22818900001ca')})
MONGODB cursor.refresh() for cursor 130101127256151
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858422c22818900001cd')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858422c22818900001d0')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858422c22818900001d3')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858422c22818900001d5')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858422c22818900001d8')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858522c22818900001dd')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858522c22818900001e0')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858522c22818900001e3')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858622c22818900001e9')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858622c22818900001ec')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858722c22818900001ef')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858722c22818900001f0'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:21 UTC, "updated_at"=>2012-12-11 01:02:21 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6858722c22818900001f1'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:21 UTC, "updated_at"=>2012-12-11 01:02:21 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6858722c22818900001f2'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:21 UTC, "secret"=>"cb5533039ee969109b421b6b97dff4e59a51e69c2fe5922d0632804b0f86a82b", "updated_at"=>2012-12-11 01:02:21 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6858722c22818900001f3'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 01:02:21 UTC, "secret"=>"d7be88bd24665afc7d6f5ec323e7c0d1bd3d6681290fc95d5808994eff49b010", "updated_at"=>2012-12-11 01:02:21 UTC}])


Started GET "/scopes/50c6858722c22818900001f1/edit" for 127.0.0.1 at 2012-12-10 20:02:21 -0500
  Processing by ScopesController#edit as HTML
  Parameters: {"id"=>"50c6858722c22818900001f1"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858722c22818900001ee')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858722c22818900001f1')})
Rendered scopes/_form.html.erb (2.9ms)
Completed 200 OK in 9ms (Views: 7.8ms)


Started POST "/scopes/50c6858722c22818900001f1" for 127.0.0.1 at 2012-12-10 20:02:21 -0500
  Processing by ScopesController#update as HTML
  Parameters: {"utf8"=>"✓", "scope"=>{"name"=>"pizzas/read", "values"=>"pizzas/show"}, "commit"=>"Update Scope", "id"=>"50c6858722c22818900001f1"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858722c22818900001ee')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858722c22818900001f1')})
MONGODB oauth_test['scopes'].update({"_id"=>BSON::ObjectId('50c6858722c22818900001f1')}, {"$set"=>{"values"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858722c22818900001f2')}, {"$set"=>{"scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858722c22818900001f3')}, {"$set"=>{"scope_values"=>["pizzas/show"]}})
Completed 200 OK in 17ms (Views: 5.9ms)
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6858722c22818900001f2')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858622c22818900001ed')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858722c22818900001ee')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858722c22818900001f4'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:21 UTC, "updated_at"=>2012-12-11 01:02:21 UTC, "password_salt"=>"$2a$10$mbmYBAHQq6s5iN1vPuRpme", "password_hash"=>"$2a$10$mbmYBAHQq6s5iN1vPuRpmecLFBZScrnPF2BSUszvnk2my46KR/UaO"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858722c22818900001f5'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:21 UTC, "updated_at"=>2012-12-11 01:02:21 UTC, "password_salt"=>"$2a$10$chACjnYe3Wzdwe3NFgtb9.", "password_hash"=>"$2a$10$chACjnYe3Wzdwe3NFgtb9.crvTDk8a0LlzfrKkIBAHr2X4AylxeRi"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858722c22818900001f6'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:21 UTC, "updated_at"=>2012-12-11 01:02:21 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:21 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 6ms (Views: 5.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:21 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6858722c22818900001f5
Completed 302 Found in 84ms


Started GET "/users/50c6858722c22818900001f5" for 127.0.0.1 at 2012-12-10 20:02:21 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858722c22818900001f5"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858722c22818900001f5')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858722c22818900001f5')})
Completed 200 OK in 6ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858722c22818900001f0')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858722c22818900001f1')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858722c22818900001f6')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858722c22818900001f7'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:21 UTC, "updated_at"=>2012-12-11 01:02:21 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6858722c22818900001f8'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:21 UTC, "updated_at"=>2012-12-11 01:02:21 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6858722c22818900001f9'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:21 UTC, "secret"=>"3643dafc8b6502a71baffde2af2de8d8f65c1269be37cd42d9208a59e0b0c70c", "updated_at"=>2012-12-11 01:02:21 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6858722c22818900001fa'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 01:02:21 UTC, "secret"=>"20350e88c1e4ca565acca316ffda21e692b45fea6ce5d848c1af670b6514c47a", "updated_at"=>2012-12-11 01:02:21 UTC}])


Started GET "/scopes/50c6858722c22818900001f8/edit" for 127.0.0.1 at 2012-12-10 20:02:21 -0500
  Processing by ScopesController#edit as HTML
  Parameters: {"id"=>"50c6858722c22818900001f8"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858722c22818900001f5')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858722c22818900001f8')})
Rendered scopes/_form.html.erb (2.0ms)
Completed 200 OK in 8ms (Views: 6.8ms)


Started POST "/scopes/50c6858722c22818900001f8" for 127.0.0.1 at 2012-12-10 20:02:21 -0500
  Processing by ScopesController#update as HTML
  Parameters: {"utf8"=>"✓", "scope"=>{"name"=>"pizzas/read", "values"=>"pizzas/show"}, "commit"=>"Update Scope", "id"=>"50c6858722c22818900001f8"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858722c22818900001f5')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858722c22818900001f8')})
MONGODB oauth_test['scopes'].update({"_id"=>BSON::ObjectId('50c6858722c22818900001f8')}, {"$set"=>{"values"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858722c22818900001f9')}, {"$set"=>{"scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858722c22818900001fa')}, {"$set"=>{"scope_values"=>["pizzas/show"]}})
Completed 200 OK in 24ms (Views: 4.9ms)
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6858722c22818900001f9')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858722c22818900001f4')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858722c22818900001f5')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858722c22818900001fb'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:21 UTC, "updated_at"=>2012-12-11 01:02:21 UTC, "password_salt"=>"$2a$10$yBbk2ImFxxGiKfCxqI6DC.", "password_hash"=>"$2a$10$yBbk2ImFxxGiKfCxqI6DC.pzZvsZnaaBR4WQq/K7lS0TeWsrC290K"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858722c22818900001fc'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:21 UTC, "updated_at"=>2012-12-11 01:02:21 UTC, "password_salt"=>"$2a$10$KmcB0MADizn4rroDDRPqEO", "password_hash"=>"$2a$10$KmcB0MADizn4rroDDRPqEOJc2Xnd8NiYDPb3Jq9eIHlGpOVwCACpm"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858722c22818900001fd'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:21 UTC, "updated_at"=>2012-12-11 01:02:21 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:21 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:21 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6858722c22818900001fc
Completed 302 Found in 85ms


Started GET "/users/50c6858722c22818900001fc" for 127.0.0.1 at 2012-12-10 20:02:22 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858722c22818900001fc"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858722c22818900001fc')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858722c22818900001fc')})
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858722c22818900001f7')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858722c22818900001f8')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858722c22818900001fd')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858822c22818900001fe'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:22 UTC, "updated_at"=>2012-12-11 01:02:22 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6858822c22818900001ff'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:22 UTC, "updated_at"=>2012-12-11 01:02:22 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6858822c2281890000200'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:22 UTC, "secret"=>"ef3ad79b9d54be1970ddf226898d4d135d734c3155923455d7f19f63a6742688", "updated_at"=>2012-12-11 01:02:22 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6858822c2281890000201'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 01:02:22 UTC, "secret"=>"c4af75b6d2c08d9412c7d80c3e2a844584ce8272addf4ee37b6197f84a45665b", "updated_at"=>2012-12-11 01:02:22 UTC}])


Started GET "/scopes/50c6858822c22818900001ff/edit" for 127.0.0.1 at 2012-12-10 20:02:22 -0500
  Processing by ScopesController#edit as HTML
  Parameters: {"id"=>"50c6858822c22818900001ff"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858722c22818900001fc')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858822c22818900001ff')})
Rendered scopes/_form.html.erb (2.9ms)
Completed 200 OK in 9ms (Views: 7.8ms)


Started POST "/scopes/50c6858822c22818900001ff" for 127.0.0.1 at 2012-12-10 20:02:22 -0500
  Processing by ScopesController#update as HTML
  Parameters: {"utf8"=>"✓", "scope"=>{"name"=>"pizzas/read", "values"=>"pizzas/show"}, "commit"=>"Update Scope", "id"=>"50c6858822c22818900001ff"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858722c22818900001fc')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858822c22818900001ff')})
MONGODB oauth_test['scopes'].update({"_id"=>BSON::ObjectId('50c6858822c22818900001ff')}, {"$set"=>{"values"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858722c22818900001f2')}, {"$set"=>{"updated_at"=>2012-12-11 01:02:22 UTC}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858722c22818900001f3')}, {"$set"=>{"updated_at"=>2012-12-11 01:02:22 UTC}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858722c22818900001f9')}, {"$set"=>{"updated_at"=>2012-12-11 01:02:22 UTC}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858722c22818900001fa')}, {"$set"=>{"updated_at"=>2012-12-11 01:02:22 UTC}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858822c2281890000200')}, {"$set"=>{"scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858822c2281890000201')}, {"$set"=>{"scope_values"=>["pizzas/show"]}})
Completed 200 OK in 42ms (Views: 7.8ms)
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6858822c2281890000200')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858722c22818900001fb')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858722c22818900001fc')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858822c2281890000202'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:22 UTC, "updated_at"=>2012-12-11 01:02:22 UTC, "password_salt"=>"$2a$10$nkSahXYqgI7q7WkC8L4l6u", "password_hash"=>"$2a$10$nkSahXYqgI7q7WkC8L4l6uGjuzCOlKrPOxPMNtQSq87H17KAz85TO"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858822c2281890000203'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:22 UTC, "updated_at"=>2012-12-11 01:02:22 UTC, "password_salt"=>"$2a$10$SQyS8Z6sJw.FRry7P.YMEe", "password_hash"=>"$2a$10$SQyS8Z6sJw.FRry7P.YMEe72PyUg/wsf7KJwlbjp97Mxxj9Nu0umm"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858822c2281890000204'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:22 UTC, "updated_at"=>2012-12-11 01:02:22 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:22 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:22 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6858822c2281890000203
Completed 302 Found in 89ms


Started GET "/users/50c6858822c2281890000203" for 127.0.0.1 at 2012-12-10 20:02:22 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858822c2281890000203"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858822c2281890000203')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858822c2281890000203')})
Completed 200 OK in 8ms (Views: 6.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858822c22818900001fe')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858822c22818900001ff')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858822c2281890000204')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858822c2281890000205'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:22 UTC, "updated_at"=>2012-12-11 01:02:22 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6858822c2281890000206'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:22 UTC, "updated_at"=>2012-12-11 01:02:22 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6858822c2281890000207'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:22 UTC, "secret"=>"7277633eb2ad4cd2f4fe2d9da1b9af9a0015886da1e6826bd0a8c08dab35e0ad", "updated_at"=>2012-12-11 01:02:22 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6858822c2281890000208'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 01:02:22 UTC, "secret"=>"dc0861a073cf4e7ff4d011d9bc4ccb4f9cc0e2330693dfa258a44f05b92b6ca9", "updated_at"=>2012-12-11 01:02:22 UTC}])


Started GET "/scopes/50c6858822c2281890000206/edit" for 127.0.0.1 at 2012-12-10 20:02:22 -0500
  Processing by ScopesController#edit as HTML
  Parameters: {"id"=>"50c6858822c2281890000206"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858822c2281890000203')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858822c2281890000206')})
Rendered scopes/_form.html.erb (2.0ms)
Completed 200 OK in 9ms (Views: 6.8ms)


Started POST "/scopes/50c6858822c2281890000206" for 127.0.0.1 at 2012-12-10 20:02:22 -0500
  Processing by ScopesController#update as HTML
  Parameters: {"utf8"=>"✓", "scope"=>{"name"=>"pizzas/read", "values"=>"pizzas/show"}, "commit"=>"Update Scope", "id"=>"50c6858822c2281890000206"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858822c2281890000203')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858822c2281890000206')})
MONGODB oauth_test['scopes'].update({"_id"=>BSON::ObjectId('50c6858822c2281890000206')}, {"$set"=>{"values"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858822c2281890000207')}, {"$set"=>{"scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858822c2281890000208')}, {"$set"=>{"scope_values"=>["pizzas/show"]}})
Completed 200 OK in 38ms (Views: 5.9ms)
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6858822c2281890000207')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858822c2281890000202')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858822c2281890000203')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858822c2281890000209'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:22 UTC, "updated_at"=>2012-12-11 01:02:22 UTC, "password_salt"=>"$2a$10$r6X9Q8CvCAu90Als3F/tOe", "password_hash"=>"$2a$10$r6X9Q8CvCAu90Als3F/tOe6qbXamd9xi0phiKmS0.0t7C3hc2YQma"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858822c228189000020a'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:22 UTC, "updated_at"=>2012-12-11 01:02:22 UTC, "password_salt"=>"$2a$10$AI556mLBgT/fAuM20bss8O", "password_hash"=>"$2a$10$AI556mLBgT/fAuM20bss8OjNw5k3BD5Pss4avkfuPsjL8tJVV2jWK"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858822c228189000020b'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:22 UTC, "updated_at"=>2012-12-11 01:02:22 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:22 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:22 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6858822c228189000020a
Completed 302 Found in 84ms


Started GET "/users/50c6858822c228189000020a" for 127.0.0.1 at 2012-12-10 20:02:22 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858822c228189000020a"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858822c228189000020a')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858822c228189000020a')})
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858822c2281890000205')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858822c2281890000206')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858822c228189000020b')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858822c228189000020c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:22 UTC, "updated_at"=>2012-12-11 01:02:22 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6858822c228189000020d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:22 UTC, "updated_at"=>2012-12-11 01:02:22 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6858822c228189000020e'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:22 UTC, "secret"=>"a666f56f58c6081d27db74fded25b55d119902f7e0de9dc6af20e6a876ca3905", "updated_at"=>2012-12-11 01:02:22 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6858822c228189000020f'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 01:02:22 UTC, "secret"=>"6074d69d219dd31646cd4ade5e1c19125ba861fbfd15d0ac8111d9d2ad045c1e", "updated_at"=>2012-12-11 01:02:22 UTC}])


Started GET "/scopes/50c6858822c228189000020d/edit" for 127.0.0.1 at 2012-12-10 20:02:22 -0500
  Processing by ScopesController#edit as HTML
  Parameters: {"id"=>"50c6858822c228189000020d"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858822c228189000020a')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858822c228189000020d')})
Rendered scopes/_form.html.erb (2.9ms)
Completed 200 OK in 12ms (Views: 9.8ms)


Started POST "/scopes/50c6858822c228189000020d" for 127.0.0.1 at 2012-12-10 20:02:22 -0500
  Processing by ScopesController#update as HTML
  Parameters: {"utf8"=>"✓", "scope"=>{"name"=>"pizzas/read", "values"=>"pizzas/show"}, "commit"=>"Update Scope", "id"=>"50c6858822c228189000020d"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858822c228189000020a')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858822c228189000020d')})
MONGODB oauth_test['scopes'].update({"_id"=>BSON::ObjectId('50c6858822c228189000020d')}, {"$set"=>{"values"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858822c228189000020e')}, {"$set"=>{"scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858822c228189000020f')}, {"$set"=>{"scope_values"=>["pizzas/show"]}})
Completed 200 OK in 63ms (Views: 7.8ms)
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6858822c228189000020e')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858822c2281890000209')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858822c228189000020a')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858822c2281890000210'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:22 UTC, "updated_at"=>2012-12-11 01:02:22 UTC, "password_salt"=>"$2a$10$QqFfrWl7OdCIL8S.R8bqre", "password_hash"=>"$2a$10$QqFfrWl7OdCIL8S.R8bqreOOPXr1VwHssABAHw7.2Qnsc/rmy3K8e"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858922c2281890000211'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:23 UTC, "updated_at"=>2012-12-11 01:02:23 UTC, "password_salt"=>"$2a$10$5gJJEr4HMpXGxAYjw.jD1u", "password_hash"=>"$2a$10$5gJJEr4HMpXGxAYjw.jD1uPVOcfzR0xAUPG2J9qGtn5xeRoEX404a"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858922c2281890000212'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:23 UTC, "updated_at"=>2012-12-11 01:02:23 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:23 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:23 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6858922c2281890000211
Completed 302 Found in 84ms


Started GET "/users/50c6858922c2281890000211" for 127.0.0.1 at 2012-12-10 20:02:23 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858922c2281890000211"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858922c2281890000211')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858922c2281890000211')})
Completed 200 OK in 6ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858822c228189000020c')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858822c228189000020d')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858922c2281890000212')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858922c2281890000213'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:23 UTC, "updated_at"=>2012-12-11 01:02:23 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6858922c2281890000214'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:23 UTC, "updated_at"=>2012-12-11 01:02:23 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6858922c2281890000215'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:23 UTC, "secret"=>"0be444acedc899c8e6d533111d9f576a1c20609fa88dfb7204667a5630aea7b9", "updated_at"=>2012-12-11 01:02:23 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6858922c2281890000216'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 01:02:23 UTC, "secret"=>"bfae0bfa9951f36a6c5f6ccced124a0eef0ab97aa94d89c0266130c0acd4745c", "updated_at"=>2012-12-11 01:02:23 UTC}])


Started GET "/scopes/50c6858922c2281890000214/edit" for 127.0.0.1 at 2012-12-10 20:02:23 -0500
  Processing by ScopesController#edit as HTML
  Parameters: {"id"=>"50c6858922c2281890000214"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858922c2281890000211')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858922c2281890000214')})
Rendered scopes/_form.html.erb (2.9ms)
Completed 200 OK in 9ms (Views: 7.8ms)


Started POST "/scopes/50c6858922c2281890000214" for 127.0.0.1 at 2012-12-10 20:02:23 -0500
  Processing by ScopesController#update as HTML
  Parameters: {"utf8"=>"✓", "scope"=>{"name"=>"pizzas/read", "values"=>"pizzas/show"}, "commit"=>"Update Scope", "id"=>"50c6858922c2281890000214"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858922c2281890000211')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858922c2281890000214')})
MONGODB oauth_test['scopes'].update({"_id"=>BSON::ObjectId('50c6858922c2281890000214')}, {"$set"=>{"values"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858722c22818900001f2')}, {"$set"=>{"updated_at"=>2012-12-11 01:02:23 UTC}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858722c22818900001f3')}, {"$set"=>{"updated_at"=>2012-12-11 01:02:23 UTC}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858722c22818900001f9')}, {"$set"=>{"updated_at"=>2012-12-11 01:02:23 UTC}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858722c22818900001fa')}, {"$set"=>{"updated_at"=>2012-12-11 01:02:23 UTC}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858822c2281890000200')}, {"$set"=>{"updated_at"=>2012-12-11 01:02:23 UTC}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858822c2281890000201')}, {"$set"=>{"updated_at"=>2012-12-11 01:02:23 UTC}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858822c2281890000207')}, {"$set"=>{"updated_at"=>2012-12-11 01:02:23 UTC}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858822c2281890000208')}, {"$set"=>{"updated_at"=>2012-12-11 01:02:23 UTC}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858822c228189000020e')}, {"$set"=>{"updated_at"=>2012-12-11 01:02:23 UTC}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858822c228189000020f')}, {"$set"=>{"updated_at"=>2012-12-11 01:02:23 UTC}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858922c2281890000215')}, {"$set"=>{"scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858922c2281890000216')}, {"$set"=>{"scope_values"=>["pizzas/show"]}})
Completed 200 OK in 57ms (Views: 4.9ms)
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6858922c2281890000216')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858822c2281890000210')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858922c2281890000211')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858922c2281890000217'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:23 UTC, "updated_at"=>2012-12-11 01:02:23 UTC, "password_salt"=>"$2a$10$2RFgSxSyWvxhBMP2sTap5u", "password_hash"=>"$2a$10$2RFgSxSyWvxhBMP2sTap5u/SDYY5wvgyhgKQja481LBDwzGMpzKHu"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858922c2281890000218'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:23 UTC, "updated_at"=>2012-12-11 01:02:23 UTC, "password_salt"=>"$2a$10$/yMDippNyP1/L3saWrL/.e", "password_hash"=>"$2a$10$/yMDippNyP1/L3saWrL/.esHp3prkP10GqLccI.bqj7012dfias.a"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858922c2281890000219'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:23 UTC, "updated_at"=>2012-12-11 01:02:23 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:23 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:23 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users/50c6858922c2281890000218
Completed 302 Found in 88ms


Started GET "/users/50c6858922c2281890000218" for 127.0.0.1 at 2012-12-10 20:02:23 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858922c2281890000218"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858922c2281890000218')})
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858922c2281890000218')})
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858922c2281890000213')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858922c2281890000214')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858922c2281890000219')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858922c228189000021a'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:23 UTC, "updated_at"=>2012-12-11 01:02:23 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6858922c228189000021b'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:23 UTC, "updated_at"=>2012-12-11 01:02:23 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6858922c228189000021c'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:23 UTC, "secret"=>"0f54aac986660b58fb627b5c65af91a804820c9b2027bd4126a3bb77a612d665", "updated_at"=>2012-12-11 01:02:23 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6858922c228189000021d'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 01:02:23 UTC, "secret"=>"23b0f2ad62716becc007ab9e7655e7b349dfc0327e580d40d983e8dd090c609a", "updated_at"=>2012-12-11 01:02:23 UTC}])


Started GET "/scopes/50c6858922c228189000021b/edit" for 127.0.0.1 at 2012-12-10 20:02:23 -0500
  Processing by ScopesController#edit as HTML
  Parameters: {"id"=>"50c6858922c228189000021b"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858922c2281890000218')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858922c228189000021b')})
Rendered scopes/_form.html.erb (2.0ms)
Completed 200 OK in 9ms (Views: 6.8ms)


Started POST "/scopes/50c6858922c228189000021b" for 127.0.0.1 at 2012-12-10 20:02:23 -0500
  Processing by ScopesController#update as HTML
  Parameters: {"utf8"=>"✓", "scope"=>{"name"=>"pizzas/read", "values"=>"pizzas/show"}, "commit"=>"Update Scope", "id"=>"50c6858922c228189000021b"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858922c2281890000218')})
MONGODB oauth_test['scopes'].find({:_id=>BSON::ObjectId('50c6858922c228189000021b')})
MONGODB oauth_test['scopes'].update({"_id"=>BSON::ObjectId('50c6858922c228189000021b')}, {"$set"=>{"values"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858922c228189000021c')}, {"$set"=>{"scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6858922c228189000021d')}, {"$set"=>{"scope_values"=>["pizzas/show"]}})
Completed 200 OK in 92ms (Views: 8.8ms)
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6858922c228189000021d')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858922c2281890000217')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858922c2281890000218')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858922c228189000021e'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:23 UTC, "updated_at"=>2012-12-11 01:02:23 UTC, "password_salt"=>"$2a$10$MdA0iyADT2QvrNe5gi8c/u", "password_hash"=>"$2a$10$MdA0iyADT2QvrNe5gi8c/ucA1JBrtD/krmFih72pGgsmPdyUSsE76"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858922c228189000021f'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:23 UTC, "updated_at"=>2012-12-11 01:02:23 UTC, "password_salt"=>"$2a$10$k0UUtKYRLMCAG5VAWqKfae", "password_hash"=>"$2a$10$k0UUtKYRLMCAG5VAWqKfaeMoWcdokm04NX1NRLaC2nldBhrAEuzXK"}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6858a22c2281890000220'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:24 UTC, "updated_at"=>2012-12-11 01:02:24 UTC}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:24 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 6ms (Views: 5.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:24 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6858922c228189000021e
Completed 302 Found in 90ms


Started GET "/users/50c6858922c228189000021e" for 127.0.0.1 at 2012-12-10 20:02:24 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858922c228189000021e"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858922c228189000021e')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6858922c228189000021e')})
Completed 200 OK in 9ms (Views: 5.9ms)


Started GET "/scopes/50c6858a22c2281890000220/edit" for 127.0.0.1 at 2012-12-10 20:02:24 -0500
  Processing by ScopesController#edit as HTML
  Parameters: {"id"=>"50c6858a22c2281890000220"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858922c228189000021e')})
Redirected to http://www.example.com/
Completed 302 Found in 2ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:24 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858922c228189000021e')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858922c228189000021f')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858a22c2281890000221'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:24 UTC, "updated_at"=>2012-12-11 01:02:24 UTC, "password_salt"=>"$2a$10$9C/hNx3goJnnsRpx9c5Cf.", "password_hash"=>"$2a$10$9C/hNx3goJnnsRpx9c5Cf.LsI1wvbp50TMd9a3e2YlGqz.AgT0NZO"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858a22c2281890000222'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:24 UTC, "updated_at"=>2012-12-11 01:02:24 UTC, "password_salt"=>"$2a$10$aJGa.UGLeumpKw2JNcbTne", "password_hash"=>"$2a$10$aJGa.UGLeumpKw2JNcbTneS7xcsxpRKDEfmhTZfZNDUzXYD6huXEi"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858a22c2281890000223'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:24 UTC, "updated_at"=>2012-12-11 01:02:24 UTC, "password_salt"=>"$2a$10$AbAckxqLTevCWBzgsJiM9u", "password_hash"=>"$2a$10$AbAckxqLTevCWBzgsJiM9urBIkIO1UUzZOXd0ck6696pTqedh2J4O"}])


Started GET "/users" for 127.0.0.1 at 2012-12-10 20:02:24 -0500
  Processing by UsersController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858922c228189000021e')})
Redirected to http://www.example.com/log_in
Completed 302 Found in 1ms


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:24 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858a22c2281890000221')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858a22c2281890000222')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858a22c2281890000223')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858a22c2281890000224'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:24 UTC, "updated_at"=>2012-12-11 01:02:24 UTC, "password_salt"=>"$2a$10$sNFT4U7tKDQZKsj7mzlQJ.", "password_hash"=>"$2a$10$sNFT4U7tKDQZKsj7mzlQJ.Ij9IQ99joqUhsv423rxtCDP7a3Ooua6"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858a22c2281890000225'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:24 UTC, "updated_at"=>2012-12-11 01:02:24 UTC, "password_salt"=>"$2a$10$/RxIh1o4NIJ5Dxr4hheVWe", "password_hash"=>"$2a$10$/RxIh1o4NIJ5Dxr4hheVWepJPXeZqXKyrjuvU3IoadSNo2Fjhxbza"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858a22c2281890000226'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:24 UTC, "updated_at"=>2012-12-11 01:02:24 UTC, "password_salt"=>"$2a$10$zBbBBV0e5zM72UvOc4HB5.", "password_hash"=>"$2a$10$zBbBBV0e5zM72UvOc4HB5.NtfwlpTxBvBQgCrqXjdhE0ov80LQMDC"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:24 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:24 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"admin@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"admin@example.com"})
Redirected to http://www.example.com/users
Completed 302 Found in 84ms


Started GET "/users" for 127.0.0.1 at 2012-12-10 20:02:24 -0500
  Processing by UsersController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858a22c2281890000226')})
MONGODB oauth_test['users'].find({})
Completed 200 OK in 12ms (Views: 10.7ms)


Started GET "/users" for 127.0.0.1 at 2012-12-10 20:02:24 -0500
  Processing by UsersController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858a22c2281890000226')})
MONGODB oauth_test['users'].find({})
Completed 200 OK in 8ms (Views: 6.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858a22c2281890000224')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858a22c2281890000225')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858a22c2281890000226')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858a22c2281890000227'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:24 UTC, "updated_at"=>2012-12-11 01:02:24 UTC, "password_salt"=>"$2a$10$sYeMrjiVZFJDsZJ/fhAsqu", "password_hash"=>"$2a$10$sYeMrjiVZFJDsZJ/fhAsquvImbT0GWge5Q/0hm3Eq82a8Ig6208O6"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858a22c2281890000228'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:24 UTC, "updated_at"=>2012-12-11 01:02:24 UTC, "password_salt"=>"$2a$10$44JKQy0fFsYFTMLnNI9PSO", "password_hash"=>"$2a$10$44JKQy0fFsYFTMLnNI9PSOo6W1/E4hDTO5FojgHb2CRgUH6/s3ZGi"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858a22c2281890000229'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:24 UTC, "updated_at"=>2012-12-11 01:02:24 UTC, "password_salt"=>"$2a$10$UNCs91TqWjBy1x/6bKnshe", "password_hash"=>"$2a$10$UNCs91TqWjBy1x/6bKnsheb7ZO23NeQBn7XGtzFIF30CB5ha7snKa"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:25 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:25 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6858a22c2281890000227
Completed 302 Found in 97ms


Started GET "/users/50c6858a22c2281890000227" for 127.0.0.1 at 2012-12-10 20:02:25 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858a22c2281890000227"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858a22c2281890000227')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6858a22c2281890000227')})
Completed 200 OK in 17ms (Views: 8.8ms)


Started GET "/users" for 127.0.0.1 at 2012-12-10 20:02:25 -0500
  Processing by UsersController#index as HTML
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858a22c2281890000227')})
Redirected to http://www.example.com/
Completed 302 Found in 1ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:25 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858a22c2281890000227')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858a22c2281890000228')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858a22c2281890000229')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858b22c228189000022a'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:25 UTC, "updated_at"=>2012-12-11 01:02:25 UTC, "password_salt"=>"$2a$10$.nQKgLqexdpqi42PAZL2ee", "password_hash"=>"$2a$10$.nQKgLqexdpqi42PAZL2eeW6UVk11BjgqzofzsckViFx2dXhbI6WO"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858b22c228189000022b'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:25 UTC, "updated_at"=>2012-12-11 01:02:25 UTC, "password_salt"=>"$2a$10$s7i.Dywc6RHCSH4xT6Gyfu", "password_hash"=>"$2a$10$s7i.Dywc6RHCSH4xT6GyfuIyaOUKC3DpfJ73spEAroqaQYOorwlKW"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858b22c228189000022c'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:25 UTC, "updated_at"=>2012-12-11 01:02:25 UTC, "password_salt"=>"$2a$10$pQszZAo2iHTcWqcQU3Lzoe", "password_hash"=>"$2a$10$pQszZAo2iHTcWqcQU3Lzoe3B5Z6wIlIXQzZuEqXMvDVbgiI/hi8xa"}])


Started GET "/users/50c6858b22c228189000022a" for 127.0.0.1 at 2012-12-10 20:02:25 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858b22c228189000022a"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858a22c2281890000227')})
Redirected to http://www.example.com/log_in
Completed 302 Found in 2ms


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:25 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 6ms (Views: 5.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858b22c228189000022a')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858b22c228189000022b')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858b22c228189000022c')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858b22c228189000022d'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:25 UTC, "updated_at"=>2012-12-11 01:02:25 UTC, "password_salt"=>"$2a$10$nINaQ8Fg9yDNmMgOIDdu4e", "password_hash"=>"$2a$10$nINaQ8Fg9yDNmMgOIDdu4ei.lfN1fr/adxfuDlFRlMqN4dQC5FM5e"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858b22c228189000022e'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:25 UTC, "updated_at"=>2012-12-11 01:02:25 UTC, "password_salt"=>"$2a$10$V03vKgj8jApXHULoqbmFZe", "password_hash"=>"$2a$10$V03vKgj8jApXHULoqbmFZeyxjusFu20BJGsLIQ.zAoXu6QPBzKtuO"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858b22c228189000022f'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:25 UTC, "updated_at"=>2012-12-11 01:02:25 UTC, "password_salt"=>"$2a$10$0W5lzcMny9Z.Pl6TXxIeYe", "password_hash"=>"$2a$10$0W5lzcMny9Z.Pl6TXxIeYeymLEHeMQX5t.YR8jIgD.Iv.8CBxJ2Q2"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:25 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:25 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6858b22c228189000022a
Completed 302 Found in 84ms


Started GET "/users/50c6858b22c228189000022a" for 127.0.0.1 at 2012-12-10 20:02:25 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858b22c228189000022a"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858b22c228189000022d')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6858b22c228189000022a')})
Redirected to http://www.example.com/
Completed 302 Found in 2ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:25 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 7ms (Views: 6.8ms)


Started GET "/users/50c6858b22c228189000022d" for 127.0.0.1 at 2012-12-10 20:02:25 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858b22c228189000022d"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858b22c228189000022d')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6858b22c228189000022d')})
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858b22c228189000022d')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858b22c228189000022e')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858b22c228189000022f')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858b22c2281890000230'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:25 UTC, "updated_at"=>2012-12-11 01:02:25 UTC, "password_salt"=>"$2a$10$w1ejxOx1ZunWN3g3VvwAEO", "password_hash"=>"$2a$10$w1ejxOx1ZunWN3g3VvwAEO3OonmaL0a3amVjpbMPrCAXpOh.rpXwC"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858c22c2281890000231'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:26 UTC, "updated_at"=>2012-12-11 01:02:26 UTC, "password_salt"=>"$2a$10$bShC0n8xPjVPWebJdsX8LO", "password_hash"=>"$2a$10$bShC0n8xPjVPWebJdsX8LO9s/75Fwtx0cFFza/nl7EwD7efJz8GM6"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858c22c2281890000232'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:26 UTC, "updated_at"=>2012-12-11 01:02:26 UTC, "password_salt"=>"$2a$10$YMv/artvq.IK2fEvw9gl9u", "password_hash"=>"$2a$10$YMv/artvq.IK2fEvw9gl9uqmVmsGBHNKnkDxyZmvFmpIJBaH6zgz6"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:26 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:26 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6858b22c2281890000230
Completed 302 Found in 85ms


Started GET "/users/50c6858b22c2281890000230" for 127.0.0.1 at 2012-12-10 20:02:26 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858b22c2281890000230"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858b22c2281890000230')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6858b22c2281890000230')})
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858b22c2281890000230')})


Started GET "/users/50c6858b22c2281890000230" for 127.0.0.1 at 2012-12-10 20:02:26 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858b22c2281890000230"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858b22c2281890000230')})
Redirected to http://www.example.com/log_in
Completed 302 Found in 1ms


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:26 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 3ms (Views: 2.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858c22c2281890000231')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858c22c2281890000232')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858c22c2281890000233'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:26 UTC, "updated_at"=>2012-12-11 01:02:26 UTC, "password_salt"=>"$2a$10$vbXzkHfGzadnNn3cRqysY.", "password_hash"=>"$2a$10$vbXzkHfGzadnNn3cRqysY.rMlsLcB9AVNYGymL6KmRdVxB4Q787PS"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858c22c2281890000234'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:26 UTC, "updated_at"=>2012-12-11 01:02:26 UTC, "password_salt"=>"$2a$10$YFLrfhFLzVmSwN9OXR7Fh.", "password_hash"=>"$2a$10$YFLrfhFLzVmSwN9OXR7Fh.aG769WhTjRIsohI2gdc4VdPHSV/AinG"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858c22c2281890000235'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:26 UTC, "updated_at"=>2012-12-11 01:02:26 UTC, "password_salt"=>"$2a$10$jvlgu2JltdeuuNsKHWYFee", "password_hash"=>"$2a$10$jvlgu2JltdeuuNsKHWYFeeQyJXKUzXZvA/yrnlXA9dBZq8Zwcvfnq"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:26 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:26 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6858b22c2281890000230
Completed 302 Found in 85ms


Started GET "/users/50c6858b22c2281890000230" for 127.0.0.1 at 2012-12-10 20:02:26 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858b22c2281890000230"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858c22c2281890000233')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6858b22c2281890000230')})
Redirected to http://www.example.com/
Completed 302 Found in 1ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:26 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 3ms (Views: 2.9ms)


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:26 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 3ms (Views: 2.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:26 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"bob@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"bob@example.com"})
Redirected to http://www.example.com/users/50c6858c22c2281890000234
Completed 302 Found in 84ms


Started GET "/users/50c6858c22c2281890000234" for 127.0.0.1 at 2012-12-10 20:02:26 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858c22c2281890000234"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858c22c2281890000234')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/another", :_id=>BSON::ObjectId('50c6858c22c2281890000234')})
Completed 200 OK in 5ms (Views: 3.9ms)


Started GET "/users/50c6858c22c2281890000233" for 127.0.0.1 at 2012-12-10 20:02:26 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858c22c2281890000233"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858c22c2281890000234')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/another", :_id=>BSON::ObjectId('50c6858c22c2281890000233')})
Redirected to http://www.example.com/
Completed 302 Found in 2ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:26 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858c22c2281890000233')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858c22c2281890000234')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858c22c2281890000235')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858c22c2281890000236'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:26 UTC, "updated_at"=>2012-12-11 01:02:26 UTC, "password_salt"=>"$2a$10$Ggj6URk0i20cK3IGxNs1Hu", "password_hash"=>"$2a$10$Ggj6URk0i20cK3IGxNs1HuPylzevSAHzQMpV6qTNFAt24pLE3739K"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858c22c2281890000237'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:26 UTC, "updated_at"=>2012-12-11 01:02:26 UTC, "password_salt"=>"$2a$10$r1Qvz89Hm2zSne5YkalZ.e", "password_hash"=>"$2a$10$r1Qvz89Hm2zSne5YkalZ.eBuBE.kjlUa76nd0Gn3HfULHP3kyUC0O"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858d22c2281890000238'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:27 UTC, "updated_at"=>2012-12-11 01:02:27 UTC, "password_salt"=>"$2a$10$8O1t8raTLL0dM7jFE1tfYu", "password_hash"=>"$2a$10$8O1t8raTLL0dM7jFE1tfYukb0dkYwZYhoPNa4RohqKsfjx2S4HvCq"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:27 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:27 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6858c22c2281890000236
Completed 302 Found in 132ms


Started GET "/users/50c6858c22c2281890000236" for 127.0.0.1 at 2012-12-10 20:02:27 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858c22c2281890000236"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858c22c2281890000236')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6858c22c2281890000236')})
Completed 200 OK in 7ms (Views: 4.9ms)


Started GET "/users/0" for 127.0.0.1 at 2012-12-10 20:02:27 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"0"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858c22c2281890000236')})
Completed   in 1ms
Redirected to http://www.example.com/


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:27 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858c22c2281890000236')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858c22c2281890000237')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858d22c2281890000238')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858d22c2281890000239'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:27 UTC, "updated_at"=>2012-12-11 01:02:27 UTC, "password_salt"=>"$2a$10$RZP3v4KxsMNJRf7WdWbp3u", "password_hash"=>"$2a$10$RZP3v4KxsMNJRf7WdWbp3u3bYNVnE7pPWGcpmuBuLhECXfUWGRK/i"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858d22c228189000023a'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:27 UTC, "updated_at"=>2012-12-11 01:02:27 UTC, "password_salt"=>"$2a$10$.ID/6hkJusxYbX.pq2Yl6.", "password_hash"=>"$2a$10$.ID/6hkJusxYbX.pq2Yl6.sgTQtBvUqc3.VvNc0e6QNOPCdm111/e"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858d22c228189000023b'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:27 UTC, "updated_at"=>2012-12-11 01:02:27 UTC, "password_salt"=>"$2a$10$chsSvTu.RYyxj5RXeIL3Yu", "password_hash"=>"$2a$10$chsSvTu.RYyxj5RXeIL3YuNPaT0prHCLMmGrShed8NgNnHELE5u8."}])


Started GET "/sign_up" for 127.0.0.1 at 2012-12-10 20:02:27 -0500
  Processing by UsersController#new as HTML
MONGODB oauth_test['users'].find({:admin=>true})
Completed 200 OK in 14ms (Views: 12.7ms)


Started POST "/users" for 127.0.0.1 at 2012-12-10 20:02:27 -0500
  Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"new@example.com", "password"=>"[FILTERED]"}, "commit"=>"Create User"}
MONGODB oauth_test['users'].find({:admin=>true})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"new@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "email"=>"new@example.com", "_id"=>BSON::ObjectId('50c6858d22c228189000023d'), "uri"=>"http://www.example.com/users/50c6858d22c228189000023d", "created_at"=>2012-12-11 01:02:27 UTC, "updated_at"=>2012-12-11 01:02:27 UTC, "password_salt"=>"$2a$10$CjIYz/2NcqLG8hDvp.Lpxe", "password_hash"=>"$2a$10$CjIYz/2NcqLG8hDvp.LpxeQZeVWtxwwXqAchEK5t/9uTvZk5PxHuW"}])
Redirected to http://www.example.com/
Completed 302 Found in 105ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:27 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858d22c2281890000239')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858d22c228189000023a')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858d22c228189000023b')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858d22c228189000023d')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858d22c228189000023e'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:27 UTC, "updated_at"=>2012-12-11 01:02:27 UTC, "password_salt"=>"$2a$10$fJo9oLlEkzGZVzPLHd0iqe", "password_hash"=>"$2a$10$fJo9oLlEkzGZVzPLHd0iqep7tLhEWyHKw/eIEAZOdm5V3Dn5Bkbey"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858d22c228189000023f'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:27 UTC, "updated_at"=>2012-12-11 01:02:27 UTC, "password_salt"=>"$2a$10$Vz0xbSh2jz0ZT84QeYMB4u", "password_hash"=>"$2a$10$Vz0xbSh2jz0ZT84QeYMB4usm9Xz5K.tE6h1sH.4mIYLS/wxD8x/TG"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858e22c2281890000240'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:28 UTC, "updated_at"=>2012-12-11 01:02:28 UTC, "password_salt"=>"$2a$10$2AHuUYVYjwoasyArSxOA3u", "password_hash"=>"$2a$10$2AHuUYVYjwoasyArSxOA3u6ZsoAdoLjl.Pn9CWq5I2b4fjRgyNA0q"}])


Started GET "/sign_up" for 127.0.0.1 at 2012-12-10 20:02:28 -0500
  Processing by UsersController#new as HTML
MONGODB oauth_test['users'].find({:admin=>true})
Completed 200 OK in 7ms (Views: 6.8ms)


Started POST "/users" for 127.0.0.1 at 2012-12-10 20:02:28 -0500
  Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"new@example.com", "password"=>"[FILTERED]"}, "commit"=>"Create User"}
MONGODB oauth_test['users'].find({:admin=>true})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"new@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "email"=>"new@example.com", "_id"=>BSON::ObjectId('50c6858e22c2281890000242'), "uri"=>"http://www.example.com/users/50c6858e22c2281890000242", "created_at"=>2012-12-11 01:02:28 UTC, "updated_at"=>2012-12-11 01:02:28 UTC, "password_salt"=>"$2a$10$fUyFMR3MsK9yocZV5C11e.", "password_hash"=>"$2a$10$fUyFMR3MsK9yocZV5C11e.XKQ7om0brBNc6m98qkoNEfZIb0DcQuy"}])
Redirected to http://www.example.com/
Completed 302 Found in 89ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:28 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 60ms (Views: 59.6ms)
MONGODB oauth_test['users'].find({}).sort([[:_id, :desc]])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858d22c228189000023e')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858d22c228189000023f')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858e22c2281890000240')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858e22c2281890000242')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858e22c2281890000243'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:28 UTC, "updated_at"=>2012-12-11 01:02:28 UTC, "password_salt"=>"$2a$10$J1osqcSjjTcEPti5ExByF.", "password_hash"=>"$2a$10$J1osqcSjjTcEPti5ExByF.CC7u6Ra8EyQQ/lJDPWG/DqFiOHepUjm"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858e22c2281890000244'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:28 UTC, "updated_at"=>2012-12-11 01:02:28 UTC, "password_salt"=>"$2a$10$bYdtnvFnqifnTJ.FHXGmTO", "password_hash"=>"$2a$10$bYdtnvFnqifnTJ.FHXGmTOvJuLBWB3LlJefZf1GXigPdBGbE2WKji"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858e22c2281890000245'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:28 UTC, "updated_at"=>2012-12-11 01:02:28 UTC, "password_salt"=>"$2a$10$MIiOFKXRNDpGy6BM1fecIe", "password_hash"=>"$2a$10$MIiOFKXRNDpGy6BM1fecIef5w/o52SwwugJaby.AhH.Rehg1JTWuW"}])


Started GET "/sign_up" for 127.0.0.1 at 2012-12-10 20:02:28 -0500
  Processing by UsersController#new as HTML
MONGODB oauth_test['users'].find({:admin=>true})
Completed 200 OK in 7ms (Views: 6.8ms)


Started POST "/users" for 127.0.0.1 at 2012-12-10 20:02:28 -0500
  Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"", "password"=>"[FILTERED]"}, "commit"=>"Create User"}
MONGODB oauth_test['users'].find({:admin=>true})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>""}, "fields"=>nil})
MONGODB oauth_test['users'].find({:admin=>true})
Completed 200 OK in 14ms (Views: 9.8ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858e22c2281890000243')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858e22c2281890000244')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858e22c2281890000245')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858e22c2281890000248'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:28 UTC, "updated_at"=>2012-12-11 01:02:28 UTC, "password_salt"=>"$2a$10$yiUxIuZsUKXxD/qilD2Fh.", "password_hash"=>"$2a$10$yiUxIuZsUKXxD/qilD2Fh.Quzh7Nm14lfuA3vPRkHoULhWetpR7vS"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858e22c2281890000249'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:28 UTC, "updated_at"=>2012-12-11 01:02:28 UTC, "password_salt"=>"$2a$10$LgTDE8jWjwTp1qBwEYkHw.", "password_hash"=>"$2a$10$LgTDE8jWjwTp1qBwEYkHw.hzBRwojtLYb9r9cDmaZv42mZRLpta6."}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858e22c228189000024a'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:28 UTC, "updated_at"=>2012-12-11 01:02:28 UTC, "password_salt"=>"$2a$10$ijM9VPH4yNHfavn3DbrFyO", "password_hash"=>"$2a$10$ijM9VPH4yNHfavn3DbrFyOoatTaK6HFOfoRj0K.UU65OPVdZpcf2u"}])
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858e22c228189000024a')})


Started GET "/sign_up" for 127.0.0.1 at 2012-12-10 20:02:28 -0500
  Processing by UsersController#new as HTML
MONGODB oauth_test['users'].find({:admin=>true})
Completed 200 OK in 7ms (Views: 6.8ms)


Started POST "/users" for 127.0.0.1 at 2012-12-10 20:02:28 -0500
  Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"new@example.com", "password"=>"[FILTERED]"}, "commit"=>"Create User"}
MONGODB oauth_test['users'].find({:admin=>true})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"new@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "email"=>"new@example.com", "_id"=>BSON::ObjectId('50c6858e22c228189000024c'), "uri"=>"http://www.example.com/users/50c6858e22c228189000024c", "created_at"=>2012-12-11 01:02:28 UTC, "updated_at"=>2012-12-11 01:02:28 UTC, "password_salt"=>"$2a$10$1/6FRdUkRz7SSkeVnsWxcO", "password_hash"=>"$2a$10$1/6FRdUkRz7SSkeVnsWxcOLKaTMnnVXHwWd9hXdM41yZ/EDzezmiK"}])
Redirected to http://www.example.com/
Completed 302 Found in 85ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:28 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['users'].find({}).sort([[:_id, :desc]])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858e22c2281890000248')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858e22c2281890000249')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858e22c228189000024c')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858e22c228189000024d'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:28 UTC, "updated_at"=>2012-12-11 01:02:28 UTC, "password_salt"=>"$2a$10$tl32Ezw5jHJ9NS6802Rvx.", "password_hash"=>"$2a$10$tl32Ezw5jHJ9NS6802Rvx.GZKWZCWZN8TDLjxMVPmcQqM0HrbIPV."}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858f22c228189000024e'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:29 UTC, "updated_at"=>2012-12-11 01:02:29 UTC, "password_salt"=>"$2a$10$TdibKjKy03kr/QdxrvP5j.", "password_hash"=>"$2a$10$TdibKjKy03kr/QdxrvP5j.Qz5R7mmvC5.8eSBjdooAk7IZA3XUcvG"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858f22c228189000024f'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:29 UTC, "updated_at"=>2012-12-11 01:02:29 UTC, "password_salt"=>"$2a$10$Z6fJl28fWELmIumBwHRjI.", "password_hash"=>"$2a$10$Z6fJl28fWELmIumBwHRjI.S4wFiajJ2zoJi0K/Nmhehzs.sJn60ta"}])


Started GET "/users/50c6858e22c228189000024d/edit" for 127.0.0.1 at 2012-12-10 20:02:29 -0500
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"50c6858e22c228189000024d"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858c22c2281890000236')})
Redirected to http://www.example.com/log_in
Completed 302 Found in 2ms


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:29 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858e22c228189000024d')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858f22c228189000024e')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858f22c228189000024f')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858f22c2281890000250'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:29 UTC, "updated_at"=>2012-12-11 01:02:29 UTC, "password_salt"=>"$2a$10$4UbLMNuVjeO0jhEhInZQae", "password_hash"=>"$2a$10$4UbLMNuVjeO0jhEhInZQaeVVH9KET.3oiEgYGIonqg7nCXitx9/gy"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858f22c2281890000251'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:29 UTC, "updated_at"=>2012-12-11 01:02:29 UTC, "password_salt"=>"$2a$10$1HvESKYdEGckRjJvkEWJ4u", "password_hash"=>"$2a$10$1HvESKYdEGckRjJvkEWJ4uU3p1oIyOeEwmy9.0X.XZG6Q3pYHVi3O"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858f22c2281890000252'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:29 UTC, "updated_at"=>2012-12-11 01:02:29 UTC, "password_salt"=>"$2a$10$XV30yaN2dVuNwg1SLu0LrO", "password_hash"=>"$2a$10$XV30yaN2dVuNwg1SLu0LrOfXwIRQO8KF5bxLB438/1r9dflXiBxoq"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:29 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:29 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6858e22c228189000024d/edit
Completed 302 Found in 83ms


Started GET "/users/50c6858e22c228189000024d/edit" for 127.0.0.1 at 2012-12-10 20:02:29 -0500
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"50c6858e22c228189000024d"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858f22c2281890000250')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6858e22c228189000024d')})
Redirected to http://www.example.com/
Completed 302 Found in 2ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:29 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started GET "/users/50c6858f22c2281890000250/edit" for 127.0.0.1 at 2012-12-10 20:02:29 -0500
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"50c6858f22c2281890000250"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858f22c2281890000250')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6858f22c2281890000250')})
Rendered users/_form.html.erb (2.9ms)
Completed 200 OK in 20ms (Views: 17.6ms)


Started POST "/users/50c6858f22c2281890000250" for 127.0.0.1 at 2012-12-10 20:02:29 -0500
  Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"name"=>"Alice is my name", "password"=>"[FILTERED]"}, "commit"=>"Update User", "id"=>"50c6858f22c2281890000250"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858f22c2281890000250')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6858f22c2281890000250')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com", :_id=>{"$ne"=>BSON::ObjectId('50c6858f22c2281890000250')}}, "fields"=>nil})
MONGODB oauth_test['users'].update({"_id"=>BSON::ObjectId('50c6858f22c2281890000250')}, {"$set"=>{"name"=>"Alice is my name"}})
Completed 200 OK in 7ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858f22c2281890000251')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858f22c2281890000252')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858f22c2281890000250')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858f22c2281890000253'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:29 UTC, "updated_at"=>2012-12-11 01:02:29 UTC, "password_salt"=>"$2a$10$r3vyO0qUT3Ig.9uzDfjrj.", "password_hash"=>"$2a$10$r3vyO0qUT3Ig.9uzDfjrj.exxEgs8pX8Al2jx2F6KUmeExTlILhcq"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6858f22c2281890000254'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:29 UTC, "updated_at"=>2012-12-11 01:02:29 UTC, "password_salt"=>"$2a$10$2qrBd1MMMkdF10HDpxZUYO", "password_hash"=>"$2a$10$2qrBd1MMMkdF10HDpxZUYOCqufzIbR.T52mu5Bo2l.u7IpsR9OGgq"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6858f22c2281890000255'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:29 UTC, "updated_at"=>2012-12-11 01:02:29 UTC, "password_salt"=>"$2a$10$HUKBOEFiXX8B8aLSejEyOe", "password_hash"=>"$2a$10$HUKBOEFiXX8B8aLSejEyOe1LjuDSNzWPoJKr1bXXd2ctAPu0yscEK"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:29 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:29 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6858f22c2281890000253
Completed 302 Found in 107ms


Started GET "/users/50c6858f22c2281890000253" for 127.0.0.1 at 2012-12-10 20:02:30 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6858f22c2281890000253"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858f22c2281890000253')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6858f22c2281890000253')})
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858f22c2281890000253')})


Started GET "/users/50c6858f22c2281890000253/edit" for 127.0.0.1 at 2012-12-10 20:02:30 -0500
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"50c6858f22c2281890000253"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6858f22c2281890000253')})
Redirected to http://www.example.com/log_in
Completed 302 Found in 2ms


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:30 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858f22c2281890000254')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6858f22c2281890000255')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6859022c2281890000256'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:30 UTC, "updated_at"=>2012-12-11 01:02:30 UTC, "password_salt"=>"$2a$10$K4XozbDM4yDu/p8A29yNXO", "password_hash"=>"$2a$10$K4XozbDM4yDu/p8A29yNXOAhVhEmBR0H/g2PYsvowy2KnZhNOsti6"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6859022c2281890000257'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:30 UTC, "updated_at"=>2012-12-11 01:02:30 UTC, "password_salt"=>"$2a$10$5tabSHUz0qGNwHKhcpE2Wu", "password_hash"=>"$2a$10$5tabSHUz0qGNwHKhcpE2Wu6g.Vmtkcf1acGtdTtnxK9SlKo5XShjG"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6859022c2281890000258'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:30 UTC, "updated_at"=>2012-12-11 01:02:30 UTC, "password_salt"=>"$2a$10$z6yXFwRaefvJeGNw6QpEo.", "password_hash"=>"$2a$10$z6yXFwRaefvJeGNw6QpEo.ThyjrgZ3cGsTsXpkCo9i.ZgZyHcvOX6"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:30 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:30 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6858f22c2281890000253/edit
Completed 302 Found in 104ms


Started GET "/users/50c6858f22c2281890000253/edit" for 127.0.0.1 at 2012-12-10 20:02:30 -0500
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"50c6858f22c2281890000253"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6859022c2281890000256')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6858f22c2281890000253')})
Redirected to http://www.example.com/
Completed 302 Found in 2ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:30 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started GET "/users/0" for 127.0.0.1 at 2012-12-10 20:02:30 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"0"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6859022c2281890000256')})
Completed   in 1ms
Redirected to http://www.example.com/


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:30 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6859022c2281890000256')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6859022c2281890000257')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6859022c2281890000258')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6859022c2281890000259'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:30 UTC, "updated_at"=>2012-12-11 01:02:30 UTC, "password_salt"=>"$2a$10$BSUJg.pAUYPh/onHf9EuCe", "password_hash"=>"$2a$10$BSUJg.pAUYPh/onHf9EuCenf.qOXU8Cm9lRO3STjIqU4G.HZiYiB2"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6859022c228189000025a'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:30 UTC, "updated_at"=>2012-12-11 01:02:30 UTC, "password_salt"=>"$2a$10$8UzkWomRXprfU0OptG6yLu", "password_hash"=>"$2a$10$8UzkWomRXprfU0OptG6yLuibj58JtpN6e77wgmluf2KUa406zbL4m"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6859022c228189000025b'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:30 UTC, "updated_at"=>2012-12-11 01:02:30 UTC, "password_salt"=>"$2a$10$jMlMkDYRV4YHRor8qjkNK.", "password_hash"=>"$2a$10$jMlMkDYRV4YHRor8qjkNK.V4DtatCxqQOhTYt1JOYdLYPnhqnTYYG"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:30 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:30 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6859022c2281890000259
Completed 302 Found in 86ms


Started GET "/users/50c6859022c2281890000259" for 127.0.0.1 at 2012-12-10 20:02:30 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6859022c2281890000259"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6859022c2281890000259')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6859022c2281890000259')})
Completed 200 OK in 7ms (Views: 4.9ms)


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:31 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:31 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"bob@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"bob@example.com"})
Redirected to http://www.example.com/users/50c6859022c228189000025a
Completed 302 Found in 87ms


Started GET "/users/50c6859022c228189000025a" for 127.0.0.1 at 2012-12-10 20:02:31 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6859022c228189000025a"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6859022c228189000025a')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/another", :_id=>BSON::ObjectId('50c6859022c228189000025a')})
Completed 200 OK in 6ms (Views: 3.9ms)


Started GET "/users/50c6859022c2281890000259/edit" for 127.0.0.1 at 2012-12-10 20:02:31 -0500
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"50c6859022c2281890000259"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6859022c228189000025a')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/another", :_id=>BSON::ObjectId('50c6859022c2281890000259')})
Redirected to http://www.example.com/
Completed 302 Found in 1ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:31 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6859022c2281890000259')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6859022c228189000025a')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6859022c228189000025b')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6859122c228189000025c'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:31 UTC, "updated_at"=>2012-12-11 01:02:31 UTC, "password_salt"=>"$2a$10$v/AuRWH1ECLv2k0fwn72mu", "password_hash"=>"$2a$10$v/AuRWH1ECLv2k0fwn72muxVsMeLIIaGeSulqMgM3XgqyuLwFAD2y"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6859122c228189000025d'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:31 UTC, "updated_at"=>2012-12-11 01:02:31 UTC, "password_salt"=>"$2a$10$4J5G1Jua2WN2FRnA4le08u", "password_hash"=>"$2a$10$4J5G1Jua2WN2FRnA4le08uUURiOWD4D5TCG0KMC.2wLR.9vfxIRee"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6859122c228189000025e'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:31 UTC, "updated_at"=>2012-12-11 01:02:31 UTC, "password_salt"=>"$2a$10$0mK4e0th3.FArAixUyPTEu", "password_hash"=>"$2a$10$0mK4e0th3.FArAixUyPTEuLia4zXLccLs6sEy7E/6E5Tk.OrCiQzG"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:31 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:31 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6859122c228189000025c
Completed 302 Found in 84ms


Started GET "/users/50c6859122c228189000025c" for 127.0.0.1 at 2012-12-10 20:02:31 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6859122c228189000025c"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6859122c228189000025c')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6859122c228189000025c')})
Completed 200 OK in 5ms (Views: 3.9ms)


Started GET "/users/50c6859122c228189000025c/edit" for 127.0.0.1 at 2012-12-10 20:02:31 -0500
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"50c6859122c228189000025c"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6859122c228189000025c')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6859122c228189000025c')})
Rendered users/_form.html.erb (2.9ms)
Completed 200 OK in 8ms (Views: 6.8ms)


Started POST "/users/50c6859122c228189000025c" for 127.0.0.1 at 2012-12-10 20:02:31 -0500
  Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"name"=>"", "password"=>"[FILTERED]"}, "commit"=>"Update User", "id"=>"50c6859122c228189000025c"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6859122c228189000025c')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6859122c228189000025c')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com", :_id=>{"$ne"=>BSON::ObjectId('50c6859122c228189000025c')}}, "fields"=>nil})
MONGODB oauth_test['users'].update({"_id"=>BSON::ObjectId('50c6859122c228189000025c')}, {"$set"=>{"name"=>""}})
Completed 200 OK in 8ms (Views: 4.9ms)


Started GET "/log_out" for 127.0.0.1 at 2012-12-10 20:02:31 -0500
  Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:31 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 3.9ms)


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:31 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 2.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:31 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6859122c228189000025c
Completed 302 Found in 93ms


Started GET "/users/50c6859122c228189000025c" for 127.0.0.1 at 2012-12-10 20:02:31 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6859122c228189000025c"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6859122c228189000025c')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6859122c228189000025c')})
Completed 200 OK in 8ms (Views: 5.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6859122c228189000025d')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6859122c228189000025e')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6859122c228189000025c')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6859122c228189000025f'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:31 UTC, "updated_at"=>2012-12-11 01:02:31 UTC, "password_salt"=>"$2a$10$JgNCbWH2AWoHDYKxNhCdf.", "password_hash"=>"$2a$10$JgNCbWH2AWoHDYKxNhCdf.4EQJR7nq49WEsuCYPgFykxzl02t6z9u"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6859122c2281890000260'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:31 UTC, "updated_at"=>2012-12-11 01:02:31 UTC, "password_salt"=>"$2a$10$u3akGMfj9NVu0a4xeDnC.e", "password_hash"=>"$2a$10$u3akGMfj9NVu0a4xeDnC.eypv7AWN0owjg1/avyj6bYgQ94w66gX."}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6859122c2281890000261'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:31 UTC, "updated_at"=>2012-12-11 01:02:31 UTC, "password_salt"=>"$2a$10$INPhKby7c1qZmdCtIvyTjO", "password_hash"=>"$2a$10$INPhKby7c1qZmdCtIvyTjOkjAhfn7WISuw49BIy313hcgZgAfvyiu"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:31 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:31 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6859122c228189000025f
Completed 302 Found in 87ms


Started GET "/users/50c6859122c228189000025f" for 127.0.0.1 at 2012-12-10 20:02:32 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6859122c228189000025f"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6859122c228189000025f')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6859122c228189000025f')})
Completed 200 OK in 7ms (Views: 3.9ms)


Started GET "/users/50c6859122c228189000025f/edit" for 127.0.0.1 at 2012-12-10 20:02:32 -0500
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"50c6859122c228189000025f"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6859122c228189000025f')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6859122c228189000025f')})
Rendered users/_form.html.erb (2.9ms)
Completed 200 OK in 9ms (Views: 7.8ms)


Started POST "/users/50c6859122c228189000025f" for 127.0.0.1 at 2012-12-10 20:02:32 -0500
  Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"name"=>"", "password"=>"[FILTERED]"}, "commit"=>"Update User", "id"=>"50c6859122c228189000025f"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6859122c228189000025f')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6859122c228189000025f')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com", :_id=>{"$ne"=>BSON::ObjectId('50c6859122c228189000025f')}}, "fields"=>nil})
MONGODB oauth_test['users'].update({"_id"=>BSON::ObjectId('50c6859122c228189000025f')}, {"$set"=>{"name"=>"", "updated_at"=>2012-12-11 01:02:32 UTC, "password_salt"=>"$2a$10$ir8x08GRUNZb5zE7F.doC.", "password_hash"=>"$2a$10$ir8x08GRUNZb5zE7F.doC.HQWjiD6LrSv0Wsrleu0sE5xKi3mfaOe"}})
Completed 200 OK in 92ms (Views: 4.9ms)


Started GET "/log_out" for 127.0.0.1 at 2012-12-10 20:02:32 -0500
  Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:32 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 5ms (Views: 4.9ms)


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:32 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 2.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:32 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6859122c228189000025f
Completed 302 Found in 87ms


Started GET "/users/50c6859122c228189000025f" for 127.0.0.1 at 2012-12-10 20:02:32 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6859122c228189000025f"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6859122c228189000025f')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6859122c228189000025f')})
Completed 200 OK in 6ms (Views: 4.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6859122c2281890000260')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6859122c2281890000261')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6859122c228189000025f')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6859222c2281890000262'), "email"=>"alice@example.com", "uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC, "password_salt"=>"$2a$10$5ZQV.oFfDE52Nh3F5LC4cO", "password_hash"=>"$2a$10$5ZQV.oFfDE52Nh3F5LC4cO9HWxc0kvSNVCcpYQU7bfIMBt3LLYswO"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"bob@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>false, "_id"=>BSON::ObjectId('50c6859222c2281890000263'), "email"=>"bob@example.com", "uri"=>"http://www.iana.org/domains/example/users/another", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC, "password_salt"=>"$2a$10$W1FiYV1U09STcUJKVVn3mO", "password_hash"=>"$2a$10$W1FiYV1U09STcUJKVVn3mOObQTcnc95sJ/2hm7FeAoinn3AyJIGvS"}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"admin@example.com"}, "fields"=>nil})
MONGODB oauth_test['users'].insert([{"admin"=>true, "_id"=>BSON::ObjectId('50c6859222c2281890000264'), "email"=>"admin@example.com", "uri"=>"http://www.iana.org/domains/example/users/admin", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC, "password_salt"=>"$2a$10$jKBv5VXRvN9eC0mbkEvdB.", "password_hash"=>"$2a$10$jKBv5VXRvN9eC0mbkEvdB.yhsIFM.6.1eOXTNcqdta9BMW6Cd5ZIm"}])


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:32 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:32 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Redirected to http://www.example.com/users/50c6859222c2281890000262
Completed 302 Found in 87ms


Started GET "/users/50c6859222c2281890000262" for 127.0.0.1 at 2012-12-10 20:02:32 -0500
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"50c6859222c2281890000262"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6859222c2281890000262')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6859222c2281890000262')})
Completed 200 OK in 6ms (Views: 4.9ms)


Started GET "/users/50c6859222c2281890000262/edit" for 127.0.0.1 at 2012-12-10 20:02:32 -0500
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"50c6859222c2281890000262"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6859222c2281890000262')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6859222c2281890000262')})
Rendered users/_form.html.erb (2.9ms)
Completed 200 OK in 9ms (Views: 7.8ms)


Started POST "/users/50c6859222c2281890000262" for 127.0.0.1 at 2012-12-10 20:02:32 -0500
  Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"name"=>"", "password"=>"[FILTERED]"}, "commit"=>"Update User", "id"=>"50c6859222c2281890000262"}
MONGODB oauth_test['users'].find({:_id=>BSON::ObjectId('50c6859222c2281890000262')})
MONGODB oauth_test['users'].find({:uri=>"http://www.iana.org/domains/example/users/example", :_id=>BSON::ObjectId('50c6859222c2281890000262')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{:email=>"alice@example.com", :_id=>{"$ne"=>BSON::ObjectId('50c6859222c2281890000262')}}, "fields"=>nil})
MONGODB oauth_test['users'].update({"_id"=>BSON::ObjectId('50c6859222c2281890000262')}, {"$set"=>{"name"=>"", "password_salt"=>"$2a$10$.x9fW8mTHPcfXnV.VdJtMO", "password_hash"=>"$2a$10$.x9fW8mTHPcfXnV.VdJtMOEvIpzTPAkhfBCwJPitW2TdFuLVMAMmC"}})
Completed 200 OK in 93ms (Views: 4.9ms)


Started GET "/log_out" for 127.0.0.1 at 2012-12-10 20:02:32 -0500
  Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms


Started GET "/" for 127.0.0.1 at 2012-12-10 20:02:32 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 3.9ms)


Started GET "/log_in" for 127.0.0.1 at 2012-12-10 20:02:32 -0500
  Processing by SessionsController#new as HTML
Completed 200 OK in 4ms (Views: 2.9ms)


Started POST "/sessions" for 127.0.0.1 at 2012-12-10 20:02:32 -0500
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "email"=>"alice@example.com", "password"=>"[FILTERED]", "commit"=>"Log in"}
MONGODB oauth_test['users'].find({:email=>"alice@example.com"})
Completed 200 OK in 91ms (Views: 3.9ms)
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6859222c2281890000263')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6859222c2281890000264')})
MONGODB oauth_test['users'].remove({:_id=>BSON::ObjectId('50c6859222c2281890000262')})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858922c228189000021a')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858922c228189000021b')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6858a22c2281890000220')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859222c2281890000265'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859222c2281890000266'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859222c2281890000267'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859222c2281890000268'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859222c2281890000269'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859222c228189000026a'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c2281890000265')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c2281890000266')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c2281890000267')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c2281890000268')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c2281890000269')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c228189000026a')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859222c228189000026b'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859222c228189000026c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859222c228189000026d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859222c228189000026e'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859222c228189000026f'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859222c2281890000270'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c228189000026b')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c228189000026c')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c228189000026d')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c228189000026e')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c228189000026f')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c2281890000270')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859222c2281890000271'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859222c2281890000272'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859222c2281890000273'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859222c2281890000274'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859222c2281890000275'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859222c2281890000276'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:32 UTC, "updated_at"=>2012-12-11 01:02:32 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c2281890000271')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c2281890000272')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c2281890000273')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c2281890000274')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c2281890000275')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859222c2281890000276')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000277'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c2281890000278'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000279'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000027a'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000027b'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c228189000027c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000277')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000278')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000279')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000027a')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000027b')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000027c')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000027d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c228189000027e'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000027f'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000280'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000281'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c2281890000282'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000027d')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000027e')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000027f')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000280')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000281')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000282')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000283'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c2281890000284'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000285'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000286'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000287'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c2281890000288'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000283')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000284')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000285')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000286')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000287')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000288')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000289'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c228189000028a'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000028b'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000028c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000028d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c228189000028e'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000289')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000028a')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000028b')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000028c')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000028d')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000028e')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000028f'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c2281890000290'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000291'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000292'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000293'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c2281890000294'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000028f')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000290')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000291')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000292')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000293')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000294')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000295'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c2281890000296'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000297'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000298'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000299'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c228189000029a'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000295')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000296')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000297')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000298')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000299')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000029a')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000029b'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c228189000029c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000029d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000029e'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000029f'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c22818900002a0'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000029b')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000029c')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000029d')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000029e')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000029f')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002a0')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002a1'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c22818900002a2'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002a3'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002a4'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002a5'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c22818900002a6'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002a1')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002a2')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002a3')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002a4')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002a5')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002a6')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002a7'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c22818900002a8'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002a9'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002aa'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002ab'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c22818900002ac'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002a7')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002a8')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002a9')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002aa')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002ab')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002ac')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002ad'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c22818900002ae'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002af'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002b0'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002b1'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c22818900002b2'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002ad')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002ae')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002af')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002b0')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002b1')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002b2')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002b3'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c22818900002b4'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002b5'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002b6'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002b7'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c22818900002b8'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002b3')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002b4')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002b5')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002b6')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002b7')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002b8')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002b9'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c22818900002ba'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002bb'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002bc'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002bd'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c22818900002be'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pastas/index"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002b9')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002ba')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002bb')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002bc')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002bd')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002be')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002bf'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c22818900002c0'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002c1'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002c2'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002c3'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c22818900002c4'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pastas/index"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002bf')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002c0')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002c1')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002c2')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002c3')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002c4')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002c5'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c22818900002c6'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002c7'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002c8'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002c9'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c22818900002ca'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pastas/index"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002c5')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002c6')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002c7')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002c8')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002c9')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002ca')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002cb'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c22818900002cc'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002cd'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002ce'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002cf'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c22818900002d0'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pastas/index"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002cb')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002cc')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002cd')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002ce')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002cf')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002d0')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002d1'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c22818900002d2'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002d3'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002d4'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002d5'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c22818900002d6'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002d1')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002d2')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002d3')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002d4')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002d5')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002d6')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002d7'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c22818900002d8'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002d9'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002da'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002db'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c22818900002dc'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002d7')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002d8')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002d9')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002da')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002db')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002dc')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002dd'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c22818900002de'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002df'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002e0'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002e1'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c22818900002e2'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002dd')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002de')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002df')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002e0')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002e1')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002e2')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002e3'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c22818900002e4'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002e5'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002e6'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002e7'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c22818900002e8'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002e3')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002e4')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002e5')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002e6')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002e7')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002e8')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002e9'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c22818900002ea'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002eb'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002ec'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002ed'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c22818900002ee'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002e9')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002ea')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002eb')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002ec')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002ed')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002ee')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002ef'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c22818900002f0'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002f1'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002f2'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002f3'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c22818900002f4'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002ef')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002f0')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002f1')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002f2')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002f3')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002f4')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002f5'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c22818900002f6'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002f7'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002f8'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002f9'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c22818900002fa'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002f5')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002f6')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002f7')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002f8')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002f9')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002fa')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002fb'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c22818900002fc'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c22818900002fd'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002fe'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c22818900002ff'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c2281890000300'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002fb')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002fc')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002fd')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002fe')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c22818900002ff')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000300')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000301'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c2281890000302'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000303'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000304'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000305'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c2281890000306'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000301')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000302')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000303')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000304')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000305')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000306')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000307'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c2281890000308'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000309'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000030a'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000030b'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c228189000030c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["all"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas", "pastas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pastas/create", "pastas/update", "pastas/destroy", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000307')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000308')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000309')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000030a')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000030b')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000030c')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000030d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c228189000030e'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000030f'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000310'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000311'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c2281890000312'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["all"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas", "pastas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pastas/create", "pastas/update", "pastas/destroy", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000030d')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000030e')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000030f')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000310')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000311')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000312')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000313'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c2281890000314'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000315'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000316'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000317'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c2281890000318'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["all"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas", "pastas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pastas/create", "pastas/update", "pastas/destroy", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000313')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000314')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000315')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000316')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000317')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000318')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000319'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c228189000031a'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000031b'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000031c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000031d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c228189000031e'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["all"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas", "pastas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pastas/create", "pastas/update", "pastas/destroy", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000319')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000031a')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000031b')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000031c')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000031d')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000031e')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000031f'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c2281890000320'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000321'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000322'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000323'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c2281890000324'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["all"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas", "pastas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pastas/create", "pastas/update", "pastas/destroy", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000031f')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000320')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000321')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000322')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000323')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000324')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000325'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c2281890000326'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000327'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000328'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000329'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c228189000032a'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["all"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas", "pastas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pastas/create", "pastas/update", "pastas/destroy", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000325')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000326')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000327')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000328')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000329')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000032a')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000032b'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c228189000032c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000032d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000032e'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000032f'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c2281890000330'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["all"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas", "pastas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pastas/create", "pastas/update", "pastas/destroy", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000032b')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000032c')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000032d')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000032e')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000032f')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000330')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000331'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c2281890000332'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000333'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000334'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000335'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c2281890000336'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["all"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas", "pastas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pastas/create", "pastas/update", "pastas/destroy", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000331')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000332')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000333')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000334')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000335')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000336')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000337'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c2281890000338'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000339'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000033a'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000033b'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c228189000033c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["all"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas", "pastas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pastas/create", "pastas/update", "pastas/destroy", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000337')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000338')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000339')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000033a')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000033b')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000033c')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000033d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c228189000033e'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000033f'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000340'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000341'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c2281890000342'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["all"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas", "pastas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pastas/create", "pastas/update", "pastas/destroy", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000033d')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000033e')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000033f')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000340')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000341')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000342')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000343'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c2281890000344'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000345'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000346'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000347'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c2281890000348'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["all"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas", "pastas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pastas/create", "pastas/update", "pastas/destroy", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000343')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000344')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000345')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000346')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000347')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000348')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000349'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c228189000034a'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000034b'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000034c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000034d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c228189000034e'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["all"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas", "pastas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pastas/create", "pastas/update", "pastas/destroy", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000349')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000034a')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000034b')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000034c')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000034d')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000034e')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000034f'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c2281890000350'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000351'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000352'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000353'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c2281890000354'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["all"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas", "pastas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pastas/create", "pastas/update", "pastas/destroy", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000034f')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000350')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000351')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000352')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000353')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000354')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000355'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c2281890000356'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c2281890000357'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000358'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c2281890000359'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c228189000035a'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["all"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas", "pastas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pastas/create", "pastas/update", "pastas/destroy", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000355')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000356')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000357')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000358')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000359')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000035a')})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000035b'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859322c228189000035c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/index", "pastas/show"], "_id"=>BSON::ObjectId('50c6859322c228189000035d'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas/read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pastas/create", "pastas/update", "pastas/destroy", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000035e'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pastas", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pastas/read"], "_id"=>BSON::ObjectId('50c6859322c228189000035f'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"read", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas", "pastas"], "_id"=>BSON::ObjectId('50c6859322c2281890000360'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"all", "created_at"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["all"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas", "pastas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy", "pastas/create", "pastas/update", "pastas/destroy", "pastas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/index", "pizzas/show", "pastas/index", "pastas/show"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859322c2281890000361'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:33 UTC, "secret"=>"db441df643c851a75bcbf5f9c68ecb3974b9e32384701add583fa4d4d3e62aca", "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859322c2281890000362'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:33 UTC, "secret"=>"e31d6797ae91b2d3f739cdaa404823cd2af43de8f0eae08eb41c9be4af1f1195", "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859322c2281890000363'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:33 UTC, "secret"=>"184a4310d00044c0330b04ad999cf7bdb28c106ec58ad1611571ea5de7e7b05c", "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859322c2281890000364'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:33 UTC, "secret"=>"7e6fd87033d8679586ecd05b62b15894b01875f08dac6264be140853a4dc1152", "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859322c2281890000365'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:33 UTC, "secret"=>"2b1777ed32c08f39e5c71354e226f2fb6c787f6ede13ef506df71cff1c7cc47c", "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859322c2281890000366'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:33 UTC, "secret"=>"c64dd78bd8ea6abba93c7b0e9fe9cdf1b6b1b790566bcd99b712ba039b34af95", "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859322c2281890000367'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:33 UTC, "secret"=>"9e6bb8771bada3ffa18752574e4befacc4b60c103475c5fc123432fcc3123a63", "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859322c2281890000368'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:33 UTC, "secret"=>"88696745693882d9e2c308f9ba000eb0730ca16cf502b8fecec7aea0f9fec392", "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859322c2281890000368')}, {"$set"=>{"granted_times"=>1}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859322c2281890000369'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:33 UTC, "secret"=>"6dc6fd20925a1e6f84f851d32f2820a992076d59845d9c05d24336d8231e46d5", "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859322c2281890000369')}, {"$set"=>{"revoked_times"=>1}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859322c228189000036a'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:33 UTC, "secret"=>"3b47a9bf489874912f2a0c25e7481ec74789f17725e4a0b1e1379b8738076199", "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859322c228189000036b'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:33 UTC, "secret"=>"cc12adf2306a52f9c050060566365bf52a22dc193cdcc7056daccf079d33133d", "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859322c228189000036c'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:33 UTC, "secret"=>"5f123362534132e5f9534ff6fb760db7a73b04fcf9a92074b453a9956ca45594", "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859322c228189000036d'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:33 UTC, "code"=>"c59787ca59741f6a919acb6ba88bfc3632ffbc2e6d2d15884666b21a96f9c720", "expire_at"=>2012-12-11 01:05:03 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859322c228189000036e'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:33 UTC, "code"=>"4fbf3462f9477ee0c5faceeda988aed079610e3cddbe3c8241d8835379da766e", "expire_at"=>2012-12-11 01:05:03 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859322c228189000036f'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:33 UTC, "token"=>"e8833f3b24ef497bffebfd5d86e8dae9e5408592400c08c7d9c9b3ba46adc465", "refresh_token"=>"97905ae766c3d852c9c5dd501d115199b4c7ac5acd211920b86dc6f911fb6a4c", "expire_at"=>2012-12-11 01:32:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859322c2281890000370'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:33 UTC, "token"=>"384002cb4ed62fbe6caa10977e3721c7d8bd452c9de891258b3214c6f9f9ef98", "refresh_token"=>"d59c8dd10305dcdd212269fb2bcdb0ed0d97c92b45f02fc805e841981dfa9bf6", "expire_at"=>2012-12-11 01:32:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859322c228189000036c')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6857f22c2281890000190')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c228189000019b')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c228189000019d')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c228189000019e')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001a0')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001a2')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001a3')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001a4')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001a5')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001a7')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001a9')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001aa')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001ab')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001ac')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859322c228189000036f')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859322c228189000036d')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859322c2281890000371'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:33 UTC, "secret"=>"c058b1be70b6c2f267fb35171d6111c4e2606cc78e274dede8d5b73ac5c79699", "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859322c2281890000372'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:33 UTC, "code"=>"6c1868cf558af44b8b8c9f1480a82560cc581e979da1389480eb97234ecd4735", "expire_at"=>2012-12-11 01:05:03 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859322c2281890000373'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:33 UTC, "code"=>"8be7e23d5f254e158345d9314cfb67c486a78094d2916bd718b3074100efed26", "expire_at"=>2012-12-11 01:05:03 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859322c2281890000374'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:33 UTC, "token"=>"236ae81389acb556973f6a9d0cd4502b8e70df4f4e76401c754363f1253080cd", "refresh_token"=>"fceeb11aac57393316e5b15f6d7810b84a243a94ee8cc79a74cea56cc667f3f9", "expire_at"=>2012-12-11 01:32:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859322c2281890000375'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:33 UTC, "token"=>"dbb7eefb43b7efdab6de52cb7574efdfc1ecf87a6b1330c740edfb2abde05efc", "refresh_token"=>"09fef1fc51e3562399d25cbd9380b4cde24f2cd17633b0963c8f36c646388169", "expire_at"=>2012-12-11 01:32:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859322c2281890000371')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859322c2281890000374')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859322c2281890000372')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:_id=>BSON::ObjectId('50c6859322c2281890000372')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859322c2281890000376'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:33 UTC, "secret"=>"b1be0d42cdb0496fd8028dbce6f47ab1853af3291f2bdd9d26fb2a2de883220d", "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859322c2281890000377'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:33 UTC, "code"=>"f075ca32be03bd497970f6d9a3d227cc8cab0dea9f6640208b3f9ee277060d16", "expire_at"=>2012-12-11 01:05:03 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859322c2281890000378'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:33 UTC, "code"=>"fb418cd94c5be86889ae1a0a4a2a7fa0051a2344ee137c41dd3112b8b808e9ff", "expire_at"=>2012-12-11 01:05:03 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859322c2281890000379'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:33 UTC, "token"=>"d6da2ba883b63c13904b9b4e1e8fc15e007053a9751d5cb1837729c401b1f7a8", "refresh_token"=>"06e3c9f0443e66ff836a2d3719fa6e8ca4eda17b9c9c4ab57d1887d976d4417c", "expire_at"=>2012-12-11 01:32:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859322c228189000037a'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:33 UTC, "token"=>"f64f0f7f01f4798a4d924441422beb9c0d0b4b905c27686576236457798f5b8d", "refresh_token"=>"66db6bb1f5da303a5465cffbbb80b8d3566297b6d67584376bb305e205dfd590", "expire_at"=>2012-12-11 01:32:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859322c2281890000376')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859322c2281890000379')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859322c2281890000377')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:_id=>BSON::ObjectId('50c6859322c2281890000378')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859322c228189000037b'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:33 UTC, "secret"=>"38e37bb759b646399ca160515b94a36c6fa3017bfc00ce81340967a643f785e8", "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859322c228189000037c'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:33 UTC, "code"=>"77298f0ca049fdc8d761cfb0efc818c22e22e7a1c28d031afc488180c3a4d7dc", "expire_at"=>2012-12-11 01:05:03 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859322c228189000037d'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:33 UTC, "code"=>"cee27f6af79ab36bab563c94159d13235361f011502ae74971d78bb8449b5bae", "expire_at"=>2012-12-11 01:05:03 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859322c228189000037e'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:33 UTC, "token"=>"c044154f54c841c112d49f57bf2acd12565eb9de8996731f6eb274af2d181817", "refresh_token"=>"b153dbe152078320955fc9d53345a772f2ef21de00a24028e5ff02d2503ef7b4", "expire_at"=>2012-12-11 01:32:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859322c228189000037f'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:33 UTC, "token"=>"93373e7fee45c2ec704a8dd21a468b5085fdd083a7027d3b62d380b00807a959", "refresh_token"=>"8dde9dd91fc3f7f1da2c44312bb72191f5d0dd7bd0c8c09f7430a288f8a81762", "expire_at"=>2012-12-11 01:32:33 UTC, "updated_at"=>2012-12-11 01:02:33 UTC}])
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859322c228189000037b')}, {"$set"=>{"blocked"=>2012-12-11 01:02:33 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6857f22c2281890000190')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c228189000019b')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c228189000019d')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c228189000019e')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001a0')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001a2')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001a3')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001a4')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001a5')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001a7')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001a9')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001aa')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001ab')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6858022c22818900001ac')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859322c228189000036f')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859322c2281890000374')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859322c2281890000379')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859322c228189000037e')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859322c228189000036d')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859322c2281890000372')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859322c2281890000377')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859322c228189000037c')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:_id=>BSON::ObjectId('50c6859322c228189000037e')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c2281890000380'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"e1d49ee555024f506f22548df05927b133c5ef12f749a631aa4b029484d43df5", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c2281890000381'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"f48290da5a502273dd3418e19c1c05a1f6b6e653bde461d6102c305323d8a056", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c2281890000382'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"67b17828771b0b02b7f1339c88976ddc4f3d9fb0a9eecaecb8d39b6f1eda09d2", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c2281890000383'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"1b1bfe6b501433c10d5971a4bba578f41290264d4978cfa6e67dae9b6c147ba1", "refresh_token"=>"6d6ae96c47c82985f4f84c610c57b29f7d3612a1fd10c537e9cead52d619b5f6", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c2281890000384'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"93dd621c7a20cc0f7231de34e2df76ffbbe0fac8f6822e61e0aeb7f2d164e94b", "refresh_token"=>"a2cef5e8716a45118d9e57acbbedd81944aad117234762745559ff10b2a95f85", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c2281890000380')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859422c2281890000383')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859422c2281890000381')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:_id=>BSON::ObjectId('50c6859422c2281890000384')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c2281890000385'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"014e3710aba12a3016a23a363b4ea7b7a1da0f47338263f46692675bdf2933e6", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c2281890000386'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"d236756a233e56bb34c758f8006da0aecb5ad388eca17e091327bc20bd7ab108", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c2281890000387'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"535cfcde4ff2d63bd9b1c36a3c38c17e98368b9f0291554bfabf956c09c67de1", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c2281890000388'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"52e317c1714e8176de33f13c959f55dbfed8dc0a5be05840f1dbf24b25842927", "refresh_token"=>"67a592302b42373519ec43623288303ae09d13884af90e1062aca0c5cacdebf3", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c2281890000389'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"ad5d73c1e5b7eacfb61b0ae5b27d774777b6cbda29f5ef8e887b3a340b2a3676", "refresh_token"=>"8da193647ebd67c6fa18d81e178e0208820fa55b45cfa541d0c7adeb7470c397", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c2281890000385')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859422c2281890000388')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859422c2281890000386')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c2281890000385')}, {"$set"=>{"blocked"=>nil}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c228189000038a'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"adca2d97de2d881bc90559cb521ea7255596605b152a5145702755ab8db2e220", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c228189000038b'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"9fb16cad6a0cbcb6fa447a486aea5709c104552742554115d78a2b50f5583440", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c228189000038c'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"fff5ebd13d105a33523b153edae4b479ba21ede6ac255d46d6b9e18b420c2ff8", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c228189000038d'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"0d25eae1d466cecc51c23968110403d44a478517af30bce5d72533745611bc36", "refresh_token"=>"50dc6c3a5de20486f48c6557b05a15d8a352c1766f8d377527f7f35498916c64", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c228189000038e'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"09db0e5a1e76750e55704df664a5651a0f6bbf1762e822a0944d10febf8e5f60", "refresh_token"=>"f9e4f5e590a1fe8c8dd7f13dc223ea4628b2ab798a1fe8bedeb1c5aff48d0737", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c228189000038a')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859422c228189000038d')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859422c228189000038b')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c228189000038a')}, {"$set"=>{"blocked"=>nil}})
MONGODB oauth_test['oauth_authorizations'].find({:_id=>BSON::ObjectId('50c6859422c228189000038b')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c228189000038f'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"a4554146517967271d7826084b858163788d66d3ee900a18f92f6d9f0217f1e3", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c2281890000390'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"f1a5634d9f3aab8cd3c571e83d599bef2908f70399bd0ef25624475cf9e42e64", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c2281890000391'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"a1beba4eff688a4baa7f7543f38b3192b408605605f3778b6cda6495346f07a8", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c2281890000392'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"7bb997104dfdc281453b9d3f1103131f89574f4c938ea6406888c294ab908832", "refresh_token"=>"a7794092a9fce77fc04c28dac8bd4d708a1eda0751f0c28bb8fe22ee9f3236e3", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c2281890000393'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"35438fa7a28775fc4c73e7a74cacffe50e65892fb48094bb89576c568a0c68bf", "refresh_token"=>"8c77b4d7479a34f35ba35a1be2dcabc0620d8edc03c2185c38e46b0d74913bd7", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c228189000038f')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859422c2281890000392')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859422c2281890000390')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c228189000038f')}, {"$set"=>{"blocked"=>nil}})
MONGODB oauth_test['oauth_tokens'].find({:_id=>BSON::ObjectId('50c6859422c2281890000392')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c2281890000394'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"f63fc8677cce60e9e5cd7bf397c0df08a00a003a2fd64432d30dfeeeb5ac08a2", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].find({:uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c2281890000395'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"6fc8a51695f7a2d7440b8f436889c0e0cb246321fafe96d80541fe8ee6af3931", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].find({:scope_values=>{"$all"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"]}, :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c2281890000396'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"89a48c6cfcfbd7e858d18cbf57e4a0a5825fb355a0793eea9d436a303aabe157", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].find({:scope_values=>{"$all"=>["not.valid"]}, :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :redirect_uri=>"http://www.iana.org/domains/example/app/callback"})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c2281890000397'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"b8acf9f07422662d0f26e4c408e0b80d59c81d330e9bc8a39282d76e8b1ace3a", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].find({:secret=>"b8acf9f07422662d0f26e4c408e0b80d59c81d330e9bc8a39282d76e8b1ace3a", :uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c2281890000398'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"93df503a47993c4c15a5f8d99af4e8ee8508a5fde49850e7821a4ce012e2d216", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].find({:scope_values=>{"$all"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c2281890000399'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"d176f6f7d6df25a85c14af147bf0ffc8646dfcc2f576a8a534cb926f27c5ed40", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].find({:scope_values=>{"$all"=>["pizzas/show", "pizzas/create"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c228189000039a'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"0ac5d1c18e41cf1fd9a10fa70332bef7b1191d6b0e11b9d1a11d9f8d2fcd0abb", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].find({:scope_values=>{"$all"=>["type.write", "reresource.not_existingg"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c228189000039b'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"d2b409bd3f666454b8a6763878627c0b9303d3c315952d049bff90eda3d1dbda", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859322c228189000036e')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859322c228189000036d')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000373')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000372')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000378')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000377')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859322c228189000037d')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859322c228189000037c')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000382')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000381')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000387')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000386')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859422c228189000038c')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859422c228189000038b')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000391')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000390')})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c228189000039c'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"170fba0e10f4377715663cc36925059163b5192a5107db1ee77ade4b7c2e9ea6", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c228189000039d'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"de174547b91860da5eb0dc861987d71b84004a831a7402fc780a5adf73d32af9", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c228189000039e'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"f8d55c28c97ef756d0cf4060c45cb4583776c3155ebede1827dc7c51dc94c88b", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000370')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6857f22c2281890000190')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6858022c228189000019b')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6858022c228189000019d')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6858022c228189000019e')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001a0')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001a2')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001a3')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001a4')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001a5')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001a7')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001a9')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001aa')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001ab')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6858022c22818900001ac')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859322c228189000036f')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000375')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000374')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859322c228189000037a')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000379')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859322c228189000037f')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859322c228189000037e')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000384')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000383')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000389')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000388')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859422c228189000038e')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859422c228189000038d')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000393')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000392')})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c228189000039f'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"ccf93312c8b87cdd78aef99b389ba5b8003cd023e3231a4c2ada0b9a864e2d90", "refresh_token"=>"a173e5d01502a333b020211ec9d36c1bac1d66d448b51ec96663c31cc29df608", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003a0'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"bf3669ef837760838154d2853862e1527a1f2548727106ba249ffc6027dd74b3", "refresh_token"=>"5f165a00d8b2892f1c5c22f231b0528b1b03eab3008dd9855d9e5fe257c02978", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003a1'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"223633cd68ac3de1f4a629c5f0e086e7d3614547d27d1d989e212f908e3bee5a", "refresh_token"=>"a89e74e7e608e06c56294fe8436acd6a247f86333c20f388d68e03afa1ecb567", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003a2'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"1c6f4b4b959f4328eeb0b368671d0fe2f20d07b43141fc9adca591570bb83fa9", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859422c228189000039f')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003a0')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003a1')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859422c228189000039c')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859422c228189000039d')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859422c228189000039e')})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003a2')})
MONGODB oauth_test['oauth_authorizations'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003a3'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"fbe0fbb0e1d394f33e14bb6d08f82084703543e030cf4d767467df3aa5c4a4f4", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003a4'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"e1832c158a6a1770a4284f4ead38fd6368f31e20256bdfc71ff4ab3c2e4899a3", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003a5'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"70203f243b9e0890c677deb9a3b0f2a881455ed596381d4ba12a866afd4bcc27", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003a6'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"bfb37ba2c94612ff14aa67adca6475d51cc9d65a195d5aece272af92b45ffe66", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003a7'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"215612c69d82727b8e7b145721dc42ef230fbf4901176dd3b3cc9f11255573f0", "refresh_token"=>"e4ee2014e708879bdae402e73299cc099f26b2d85305441f8d3ae24bb5fadeb1", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003a8'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"40ef79bba81dd712c084d5d48204da126dc3a5a217b2e82955dbbea167283521", "refresh_token"=>"9b043884a363d4c1f9deafa36b68a5c569dfe24c13a3d082a613ae5e0f2821f7", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003a9'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"36001276201d18bfc26cb96b2236fb66a30da967e80369db71fe0e4f8bf0a794", "refresh_token"=>"3731682f3513598b1b95f6b04438d85ea51e5ba72ed684c60a5992cc005ad347", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003aa'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"cec9b638793f9d1dd433f72fc53552d87d870aecaceec1f09fb04060132e7beb", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003a7')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003a8')})
MONGODB oauth_test['oauth_tokens'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003a9')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003a4')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003a5')})
MONGODB oauth_test['oauth_authorizations'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003a6')})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003aa')})
MONGODB oauth_test['oauth_tokens'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003ab'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"a884d139f4c2e9716009a506199d6275085bac92ff4b4389a179b7d08b5fae89", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6858722c22818900001f2')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6858722c22818900001f3')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6858722c22818900001f9')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6858722c22818900001fa')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6858822c2281890000200')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6858822c2281890000201')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6858822c2281890000207')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6858822c2281890000208')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6858822c228189000020e')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6858822c228189000020f')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6858922c2281890000215')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6858922c2281890000216')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6858922c228189000021c')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6858922c228189000021d')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000361')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000362')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000363')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000364')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000365')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000366')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000367')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000368')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000369')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859322c228189000036a')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859322c228189000036b')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859322c228189000036c')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000371')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000376')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859322c228189000037b')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000380')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000385')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c228189000038a')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c228189000038f')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000394')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000395')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000396')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000397')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000398')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c2281890000399')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c228189000039a')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c228189000039b')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003a3')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003ab')})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000035b')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000035c')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000035d')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000035e')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c228189000035f')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859322c2281890000360')})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003ac'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"9336079a56e48ca0eb8f7ed9a8225d00ab181747177a76ddb647e52289beff47", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003ad'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"a7d1a39e7f1c1d540fe94028b737a3be6d9f07a53da7df4729a4f38cec3a266a", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859422c22818900003ae'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/show"], "_id"=>BSON::ObjectId('50c6859422c22818900003af'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003ac')}, {"$set"=>{"scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003ad')}, {"$set"=>{"scope_values"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6859422c22818900003ac')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003b0'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"8f9e27bbb63be7a98f54f6d8228ec12119cc29d97529c40e3aab6b20e2133c5b", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003ac')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003ad')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003b0')})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003ae')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003af')})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003b1'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"f3f1a1f0eb4f62ff7625eaf17f608a0bca92d75c595dc5f3e1558ae181c35a41", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003b2'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"16812d88a319cba84708c16ed46e1478170b29935c4fdbc7318bccc9713ac82c", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859422c22818900003b3'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/show"], "_id"=>BSON::ObjectId('50c6859422c22818900003b4'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003b1')}, {"$set"=>{"scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003b2')}, {"$set"=>{"scope_values"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6859422c22818900003b1')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003b5'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"242106880029f72fc3601b54cb9f0102ac79fd14b5d3ac74241dd77854334260", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003b1')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003b2')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003b5')})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003b3')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003b4')})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003b6'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"697e04f5006a14792cfbac149e99fe255bbd2665dac6e60010bfbefac0527a41", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003b7'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"16bc27c8014d2715a45f41e235f3f035f4d73265c700b757a7ac48e9e5d04caf", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859422c22818900003b8'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/show"], "_id"=>BSON::ObjectId('50c6859422c22818900003b9'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003b6')}, {"$set"=>{"scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003b7')}, {"$set"=>{"scope_values"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6859422c22818900003b6')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003ba'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"aaf69da29c189ef12b7dea0ef9148d5cb5d7a1db4f63fb2f3c2ffd3487d9b194", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003b6')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003b7')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003ba')})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003b8')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003b9')})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003bb'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"eaf5e285286bb833ef636441ef6204bcdb3636314d590de8c4b0bfce1fb2a0f1", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003bc'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"de55e2d16f88d7512c288ed598bd1b588102cb6be43e21b606b149bc70ee7bce", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859422c22818900003bd'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/show"], "_id"=>BSON::ObjectId('50c6859422c22818900003be'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003bb')}, {"$set"=>{"scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003bc')}, {"$set"=>{"scope_values"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6859422c22818900003bb')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003bf'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"7e32ffa1e3436fb6c197d7043c5381dd6ef0eb21b59384401c7f178fb08d2855", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003bb')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003bc')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003bf')})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003bd')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003be')})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003c0'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"f0407d5e090d288eda96a407c8235e7cdba17729479625219cdf7785cdcd0e28", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003c1'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"1ae8fd541119f49a529150b4e1b2c12dd5526c67b30c9aab88dc3406cb6ca8c9", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859422c22818900003c2'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/show"], "_id"=>BSON::ObjectId('50c6859422c22818900003c3'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003c0')}, {"$set"=>{"scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003c1')}, {"$set"=>{"scope_values"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6859422c22818900003c0')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003c4'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"b328d2cc239c68758d31d07998f9472248e62766fbe493b96a6a4d4b01241325", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003c0')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003c1')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003c4')})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003c2')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003c3')})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003c5'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"ac357fff6268da5528c0d97b5c1f29a5d59ab9753636aa2f5b3ae7bcf71802d6", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003c6'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"ee926da63dd3d70a1892c1db2a67bf8ddc26e8a0d5e25ce90bfbb05211db5af4", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859422c22818900003c7'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/show"], "_id"=>BSON::ObjectId('50c6859422c22818900003c8'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003c5')}, {"$set"=>{"scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003c6')}, {"$set"=>{"scope_values"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6859422c22818900003c6')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003c9'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"44a7c0cd311b6e1bbce6c7496540d8ff8c481ffe7ff652f14d89e1809bdbbe6a", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"clients", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003c5')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/riflect"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003c6')})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_tokens", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"oauth_authorizations", "query"=>{:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"}, "fields"=>nil})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['clients'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003c9')})
MONGODB oauth_test['$cmd'].find({"count"=>"scopes", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['scopes'].find({})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003c7')})
MONGODB oauth_test['scopes'].remove({:_id=>BSON::ObjectId('50c6859422c22818900003c8')})
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas"], "scope_values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003ca'), "uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"acc3689f873ccb84429ff56272296806c605c001c94587104808054e0732d86e", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].insert([{"scope"=>["pizzas/read"], "scope_values"=>["pizzas/index", "pizzas/show"], "granted_times"=>0, "revoked_times"=>0, "_id"=>BSON::ObjectId('50c6859422c22818900003cb'), "name"=>"the client", "created_from"=>"http://www.iana.org/domains/example/users/example", "redirect_uri"=>"http://www.iana.org/domains/example/app/callback", "uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "created_at"=>2012-12-11 01:02:34 UTC, "secret"=>"fb36be79208d3f27b530a7e62d60ed2ead4eb5a29768437ad16cb861885c2d8f", "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859422c22818900003cc'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/show"], "_id"=>BSON::ObjectId('50c6859422c22818900003cd'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas/read", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['clients'].find({})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003ca')}, {"$set"=>{"scope_values"=>["pizzas/create", "pizzas/update", "pizzas/destroy", "pizzas/show"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/read"]}})
MONGODB oauth_test['scopes'].find({:name=>{"$in"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003cb')}, {"$set"=>{"scope_values"=>["pizzas/show"]}})
MONGODB oauth_test['clients'].find({:_id=>BSON::ObjectId('50c6859422c22818900003cb')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003ce'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003cf'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003d0'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003d1'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003d2'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"955892077b1100e2d3e37ac63391bd44f65b49ca1d793447a46bc3909d1749dd", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003d3'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"a1eb934db4319562627be16ddcb6403b6126b84f2f84de0016210251f9633ed0", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003d4'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"fe62b7fbbc6d70373b3eeb78be255c18ad9ba456d22a0e66951cf911a46c645a", "refresh_token"=>"2ba4b1bad06947a32566c431784f2f885b5b681affeca126ab68e7d787015fc7", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003d5'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"3405b9dacd84607b90840ac5e003e4b2ab1ad472b2520519f8848c468f80a5eb", "refresh_token"=>"1ea123491c9d945804a25696c1696f135e2a49bdae24d75aa68b57c7d8c370cd", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003d1')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003d4')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003d2')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003d6'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003d7'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"4a0a95c2a9afad70302a76a7e4a19adec10a2b2712cc3134d8d81fa5a0373e52", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003d8'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"927f1c3542cd873eb075d0305f1dad21c49e3f48d629c28c94db143d957ca1e3", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003d9'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"be91d110a9a32d860307401b575929a004505653847a38c218fb061e99fc744b", "refresh_token"=>"90853814c5a928c6de135d1c0e37b4e5a9e92b5dc229711295e975480d6c083d", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003da'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "token"=>"6d2bd1f2880a263179430942d3c8124bbd2072be3d4bdcd4d9721d648a581d5c", "refresh_token"=>"2682ff311b981399f9e3a4b2d4069a1cd5841be6f3faedd9745f92fd728745cf", "expire_at"=>2012-12-11 01:32:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003d6')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003d9')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003d7')}, {"$set"=>{"blocked"=>2012-12-11 01:02:34 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:_id=>BSON::ObjectId('50c6859422c22818900003d7')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6859422c22818900003db'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:34 UTC, "updated_at"=>2012-12-11 01:02:34 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003dc'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:34 UTC, "code"=>"bd4d802e1cb88bc6df661b7641eaf4aa40d6a16096bdf840ebd9ef144b952999", "expire_at"=>2012-12-11 01:05:04 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003dd'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "code"=>"12f8fbbeaed51a2aff3a9066eb3f876b407f1cb6462b6e319040abb0dfe0e496", "expire_at"=>2012-12-11 01:05:05 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003de'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "token"=>"422e481e68d9b935320ece38b4c00cc71dc6847af501b3c67802414ed3f83282", "refresh_token"=>"cd05905500b8ec5f56b166f025691ca99734dc0a888d6d19660cc96cce4eb67e", "expire_at"=>2012-12-11 01:32:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003df'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "token"=>"51b5738de054d745ae1da4a255f91e8661f66af4325cda3ca7a5565d1bbccc9b", "refresh_token"=>"f27f0b1becdc586bac195fe4c90d72f649c70d117c535daf9f5bcb52511aca13", "expire_at"=>2012-12-11 01:32:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003db')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003d4')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003d9')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003de')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003d2')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003d7')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003dc')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:_id=>BSON::ObjectId('50c6859522c22818900003dd')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003e0'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003e1'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "code"=>"6d919ca7111ec4c03b83aca81821c5f6e8a3626e15acc8ab8975762dcc3b471b", "expire_at"=>2012-12-11 01:05:05 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003e2'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "code"=>"1ccc548bb2414d49c4c56253b71d5862dc4b9c2fcb07be53528360b2fa4f1c92", "expire_at"=>2012-12-11 01:05:05 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003e3'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "token"=>"2206e31ff99f99514fffaaff2857a4ee7782718993e2a9caaf3c5bc8438cf366", "refresh_token"=>"e84cfb05151c55c2d160feacbbad67208308a4d751cb86f710700f4bce9c023d", "expire_at"=>2012-12-11 01:32:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003e4'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "token"=>"635d62541c758f60e36adc886a99eb3ccd1200ba279404a6ffc6525a8fffca41", "refresh_token"=>"f2df51fa4b2415a07c8d9c277c50e37d039f9bf697eadf4c1ce611eaa447318c", "expire_at"=>2012-12-11 01:32:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003e0')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003e3')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003e1')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:_id=>BSON::ObjectId('50c6859522c22818900003e3')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003e5'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003e6'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "code"=>"3af1c49dbe59ddeb2c3a569b84ceddcf57b90bbd1ec03cf015ba55cbae59bde0", "expire_at"=>2012-12-11 01:05:05 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003e7'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "code"=>"bc14fa84d4eace48f6884fbd09488bf53fce03580a54d08adbcd06d8ff094d5f", "expire_at"=>2012-12-11 01:05:05 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003e8'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "token"=>"7e01cbd2809928ffe91f66d3996d5e2ff41c56b61bdc79d829814153f551d8ce", "refresh_token"=>"dec6349e61768a360123dfe9868b468afb076733dc4d1cec14d60ecd35ecc875", "expire_at"=>2012-12-11 01:32:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003e9'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "token"=>"96c686c502ceb70180a222556e1850338285e89ffe24d686aae6fb2cb8d76330", "refresh_token"=>"7058e938dfa047fcc03c1ed905e59ccc9cbe02a6a81cdb59406f7f86e34bddb2", "expire_at"=>2012-12-11 01:32:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003e5')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003e8')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003e6')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:_id=>BSON::ObjectId('50c6859522c22818900003e9')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003ea'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003eb'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "code"=>"33521361b9c1ddffd3184d7f62833429cee1b4447639d43129c490e3b2c18ee7", "expire_at"=>2012-12-11 01:05:05 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003ec'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "code"=>"fa603524787197e98cbad246c41d59ac43e73360a7a340107675999ee9819b43", "expire_at"=>2012-12-11 01:05:05 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003ed'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "token"=>"5204a0fa21d4e08dc4437b57878a932732dccc804f918a8bdaede7f46ca2402e", "refresh_token"=>"cff20badf2e828ec1fd09247b7331a650a8638d03f34551c594e61724d508fca", "expire_at"=>2012-12-11 01:32:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003ee'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "token"=>"bf2777682970480b51587994a54cb40483b21ba4a07a94088560c14793523003", "refresh_token"=>"ab38bad4ed823a5a9fdd5ce339d898e68aa26284dea6b671c9e781f0da96e459", "expire_at"=>2012-12-11 01:32:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003ea')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003ed')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003eb')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003ea')}, {"$set"=>{"blocked"=>nil}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003ef'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003f0'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "code"=>"5ca01d3b2ec4417a523f7954a1f000cbf2148907c0b4c60bc083ff22ea308e11", "expire_at"=>2012-12-11 01:05:05 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003f1'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "code"=>"76939b347b3df88b4ff853a1806eb942af8fbb2610485c34ccec9440d1d3fc1d", "expire_at"=>2012-12-11 01:05:05 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003f2'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "token"=>"168fa17c9b433e4b2f467715523dc0def53f6a15799d292f8ad98eae13ee3b5d", "refresh_token"=>"1b74cb0dc48948e05426ac1403a28989f1cfd3373259c17d9283bfcd71d91b4a", "expire_at"=>2012-12-11 01:32:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003f3'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "token"=>"0ec5e7d9fec16acf13d35698a333ca1f012824136eed032c9eca4e22157a4fab", "refresh_token"=>"60553b544ae2e1a5d13a2afca7a9fe29c57ddbff5b31c3ec9ccab59e26c472b9", "expire_at"=>2012-12-11 01:32:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003ef')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f2')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f0')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003ef')}, {"$set"=>{"blocked"=>nil}})
MONGODB oauth_test['oauth_authorizations'].find({:_id=>BSON::ObjectId('50c6859522c22818900003f0')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003f4'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003f5'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "code"=>"204c15036bb8e748206170de7c35cc2e0aba956d55a13596eef5c86b7a91951d", "expire_at"=>2012-12-11 01:05:05 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003f6'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "code"=>"5700737d4a774e2a2032a6d98c77f4546d5c0e261b36adee42f61b68ff24a65e", "expire_at"=>2012-12-11 01:05:05 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003f7'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "token"=>"e296ffd7ee26168a3f721d25a8dba9b074592329ed92a2d5b718aeb13c46c026", "refresh_token"=>"742c1b7746da6d7f8b6832a2529497f8a277c8a27202f00770d4ee81ef89d556", "expire_at"=>2012-12-11 01:32:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003f8'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 01:02:35 UTC, "token"=>"c312d1be1e1fb1eb6b3c60eeaaaf2b7fb9a2b34a15282cf474a3d2518551eb4f", "refresh_token"=>"2ef7612e50112bf3a98b7573daf303bf8b7b25f396bd0529cb892f6aa369ea5b", "expire_at"=>2012-12-11 01:32:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f4')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f7')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f5')}, {"$set"=>{"blocked"=>2012-12-11 01:02:35 UTC}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f4')}, {"$set"=>{"blocked"=>nil}})
MONGODB oauth_test['oauth_tokens'].find({:_id=>BSON::ObjectId('50c6859522c22818900003f7')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003f9'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 01:02:35 UTC, "updated_at"=>2012-12-11 01:02:35 UTC}])
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f9')}, {"$push"=>{"oauth_daily_requests"=>{"times"=>0, "_id"=>BSON::ObjectId('50c6859522c22818900003fa'), "created_at"=>2012-12-11 03:30:00 UTC}}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f9'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6859522c22818900003fa')}, {"$set"=>{"oauth_daily_requests.0.day"=>"10", "oauth_daily_requests.0.month"=>"12", "oauth_daily_requests.0.year"=>"2012", "oauth_daily_requests.0.time_id"=>"20121210"}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f9'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6859522c22818900003fa')}, {"$set"=>{"oauth_daily_requests.0.times"=>1}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f9'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6859522c22818900003fa')}, {"$set"=>{"oauth_daily_requests.0.times"=>2}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f9'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6859522c22818900003fa')}, {"$set"=>{"oauth_daily_requests.0.times"=>3}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f9')}, {"$push"=>{"oauth_daily_requests"=>{"times"=>0, "_id"=>BSON::ObjectId('50c6859522c22818900003fb'), "created_at"=>2012-12-11 16:59:59 UTC}}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f9'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6859522c22818900003fb')}, {"$set"=>{"oauth_daily_requests.1.day"=>"11", "oauth_daily_requests.1.month"=>"12", "oauth_daily_requests.1.year"=>"2012", "oauth_daily_requests.1.time_id"=>"20121211"}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f9'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6859522c22818900003fb')}, {"$set"=>{"oauth_daily_requests.1.times"=>1}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003fc'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:00:00 UTC, "code"=>"59b1c5d4316d1021f74cde0fc2a49f72594ebe1dfbf651c7a652ab70301129b6", "expire_at"=>2012-12-11 17:02:30 UTC, "updated_at"=>2012-12-11 17:00:00 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003fd'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:00:00 UTC, "code"=>"cb0198a718439dd1002e99fe26f80c0d8c2ab0a8095718ebe7474961662b5142", "expire_at"=>2012-12-11 17:02:30 UTC, "updated_at"=>2012-12-11 17:00:00 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003fe'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:00:00 UTC, "code"=>"49d2b9a241252a41e5124b566a6b19bbd72f87c7932d8fcdf96adee4756ae713", "expire_at"=>2012-12-11 17:02:30 UTC, "updated_at"=>2012-12-11 17:00:00 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c22818900003ff'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:00:00 UTC, "code"=>"b161c511494a0cc942ef925e75600b211d6e71c7fc22159b505e71ac10afe584", "expire_at"=>2012-12-11 17:02:30 UTC, "updated_at"=>2012-12-11 17:00:00 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000400'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:00:00 UTC, "code"=>"0c00319d6e14f37f5282c152cbdc7ea7b9accbba21363fceebd83ab206790532", "expire_at"=>2012-12-11 17:02:30 UTC, "updated_at"=>2012-12-11 17:00:00 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000401'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:00:00 UTC, "code"=>"b5efa86fc4556df98e6379866cf4a5dd12e55f3a1c0dacb403b3cd1b2bf92bec", "expire_at"=>2012-12-11 17:02:30 UTC, "updated_at"=>2012-12-11 17:00:00 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000402'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "code"=>"af0527fc0df9986a6f7a1d6b26e0d16857db4306833b3672bea8c43193aa860e", "expire_at"=>2012-12-11 17:05:01 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_authorizations'].find({:code=>"af0527fc0df9986a6f7a1d6b26e0d16857db4306833b3672bea8c43193aa860e", :client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000403'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "code"=>"9503894dc1158dced396c3bc1021fdee92e10b46b65562ab58f930033f20e63f", "expire_at"=>2012-12-11 17:05:01 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000404'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "code"=>"1ff7ec8520a51f9c5dc5c1b23d533f0761a881347a4b1828acaa746baceb3ca4", "expire_at"=>2012-12-11 17:05:01 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000405'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "code"=>"5c195cc5c3043b61827a96b5883e341fcca3611cad93b06ef2860dbbcf78cb06", "expire_at"=>2012-12-11 17:05:01 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000405')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000406'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "code"=>"5319fe54f940f69d9b8d260ca23df025402a796b7cf6fd53225aa4c907a5c682", "expire_at"=>2012-12-11 17:05:01 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000407'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "code"=>"bdaa2483675a9141bcce4e85e36360a681d068fe2fe8962dc393aeafa18b481b", "expire_at"=>2012-12-11 17:05:01 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003d2')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003d7')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003dc')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003e1')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003e6')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003eb')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f0')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f5')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003fc')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003fd')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003fe')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003ff')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000400')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000401')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000402')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000403')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000404')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000406')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:_id=>BSON::ObjectId('50c6859522c2281890000406')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000408'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "code"=>"b299e5160b8ecbd9a37df08d866bd53c4411149cee9914514bb4d092452d86b7", "expire_at"=>2012-12-11 17:05:01 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000409'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "code"=>"0b73d2c1a5a19e294455ed1cb3a11e87adda07a79b578aece050f7be3e321835", "expire_at"=>2012-12-11 17:05:01 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000408')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:_id=>BSON::ObjectId('50c6859522c2281890000409')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c228189000040a'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "code"=>"5e83699011629ff9d78cdab4356801383139608bace63ba8f49734d532947a05", "expire_at"=>2012-12-11 17:05:01 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c228189000040b'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "code"=>"d474f81cdf2a63663b6f7471d2bd7c002bbaafa57110fdc5151a9f402d98c3d5", "expire_at"=>2012-12-11 17:05:01 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c228189000040c'), "resource_owner_uri"=>"http://www.iana.org/domains/example/users/another", "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "code"=>"207ae450db38d575b71ddeea68d454c02455f98ba8f72a8eae385ea0d4c18317", "expire_at"=>2012-12-11 17:05:01 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c228189000040a')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:_id=>BSON::ObjectId('50c6859522c228189000040a')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c228189000040d'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "code"=>"e755521091176a17a184581e0e7cd2ea7f676bfff98b69e18fe8da15c9df2253", "expire_at"=>2012-12-11 17:05:01 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c228189000040e'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "code"=>"426e9980b6079c3883176abeb32496d86d5656b62dad0e943d03c503673965ad", "expire_at"=>2012-12-11 17:05:01 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c228189000040f'), "resource_owner_uri"=>"http://www.iana.org/domains/example/users/another", "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "code"=>"7f091f6fd244e14d6b44b32d6d69061532e745f11782bf034fbd558cdce7c76c", "expire_at"=>2012-12-11 17:05:01 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c228189000040d')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:_id=>BSON::ObjectId('50c6859522c228189000040e')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000410'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "code"=>"b2130e8e0948bc128c64ac5acca20720086fc34453665dc5359e2a8615789253", "expire_at"=>2012-12-11 17:05:01 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000411'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "code"=>"5b852c023f65b1c22db07d0be924f8d6d0e3e87d40bd78f3665df87a67c8b19b", "expire_at"=>2012-12-11 17:05:01 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_authorizations'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000412'), "resource_owner_uri"=>"http://www.iana.org/domains/example/users/another", "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "code"=>"6190ffb026c29b31ac8bf56d12ce41f61bbe3ca7aa05c2fde10c673f6b2c87aa", "expire_at"=>2012-12-11 17:05:01 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_authorizations'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_authorizations'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000410')}, {"$set"=>{"blocked"=>2012-12-11 17:02:31 UTC}})
MONGODB oauth_test['oauth_authorizations'].find({:_id=>BSON::ObjectId('50c6859522c2281890000412')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000413'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000413')}, {"$push"=>{"oauth_daily_requests"=>{"times"=>0, "_id"=>BSON::ObjectId('50c6859522c2281890000414'), "created_at"=>1982-08-17 17:00:00 UTC}}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000413'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6859522c2281890000414')}, {"$set"=>{"oauth_daily_requests.0.day"=>"17", "oauth_daily_requests.0.month"=>"08", "oauth_daily_requests.0.year"=>"1982", "oauth_daily_requests.0.time_id"=>"19820817"}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000415'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000415')}, {"$push"=>{"oauth_daily_requests"=>{"times"=>0, "_id"=>BSON::ObjectId('50c6859522c2281890000416'), "created_at"=>1982-08-17 17:00:00 UTC}}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000415'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6859522c2281890000416')}, {"$set"=>{"oauth_daily_requests.0.day"=>"17", "oauth_daily_requests.0.month"=>"08", "oauth_daily_requests.0.year"=>"1982", "oauth_daily_requests.0.time_id"=>"19820817"}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000417'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000417')}, {"$push"=>{"oauth_daily_requests"=>{"times"=>0, "_id"=>BSON::ObjectId('50c6859522c2281890000418'), "created_at"=>1982-08-17 17:00:00 UTC}}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000417'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6859522c2281890000418')}, {"$set"=>{"oauth_daily_requests.0.day"=>"17", "oauth_daily_requests.0.month"=>"08", "oauth_daily_requests.0.year"=>"1982", "oauth_daily_requests.0.time_id"=>"19820817"}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_accesses'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000419'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "created_at"=>2012-12-11 17:02:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000419')}, {"$push"=>{"oauth_daily_requests"=>{"times"=>0, "_id"=>BSON::ObjectId('50c6859522c228189000041a'), "created_at"=>1982-08-17 17:00:00 UTC}}})
MONGODB oauth_test['oauth_accesses'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000419'), "oauth_daily_requests._id"=>BSON::ObjectId('50c6859522c228189000041a')}, {"$set"=>{"oauth_daily_requests.0.day"=>"17", "oauth_daily_requests.0.month"=>"08", "oauth_daily_requests.0.year"=>"1982", "oauth_daily_requests.0.time_id"=>"19820817"}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c228189000041b'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "token"=>"5c1b988bf9eda7b1be5619555924b5979d561366cfafac9d6622004f5ecffaf1", "refresh_token"=>"c8a3136916e7054cb81d7f05260ffce5f28393e9da41788ffb90e65e1a972653", "expire_at"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_refresh_tokens'].insert([{"access_token"=>"5c1b988bf9eda7b1be5619555924b5979d561366cfafac9d6622004f5ecffaf1", "_id"=>BSON::ObjectId('50c6859522c228189000041c'), "created_at"=>2012-12-11 17:02:31 UTC, "refresh_token"=>"9c27968561276011655aaaa2a0b756686446c35aa2a890d509c86937eff184ac", "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c228189000041d'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "token"=>"f036f7abd9f88eae9aba3ed17fd7988c7592da3d6054d5017ca5608656c93ba2", "refresh_token"=>"0a776aaa579035753d61c2294c4ace20b776ed81f99c904e0ffa50d75c4705d6", "expire_at"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['oauth_refresh_tokens'].insert([{"access_token"=>"f036f7abd9f88eae9aba3ed17fd7988c7592da3d6054d5017ca5608656c93ba2", "_id"=>BSON::ObjectId('50c6859522c228189000041e'), "created_at"=>2012-12-11 17:02:31 UTC, "refresh_token"=>"bd2c4ac2bb88df57041ac44ac2737ccd0c0b689137a821c7f875f1db056da344", "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c228189000041f'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "token"=>"30fe1b5de8a11f4e2a464244f2f5a60bd861e500c6281347c75a33b90863831a", "refresh_token"=>"707ab10d3e6f1f03ec3ab5b93a0d15a6a820f654ec7bbd8a6f5024b8298ed550", "expire_at"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000420'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "token"=>"d3e9a4c3fd9e3335d67be0a0b16835957999e9053b9ca1205cfa062d9efacbff", "refresh_token"=>"0963d435588e53065718becfa5897e3f546420d31f340780a50098e613879eb7", "expire_at"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000421'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "token"=>"c12b394559482bbd160777d4a249efa6cd40dd5b5eaeee9b30018d70b4257876", "refresh_token"=>"07cb12ed8809caae1f047a0b6176d436f67e250dd3274a0a0407078f2e5bf430", "expire_at"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000422'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "token"=>"485b8246a1c8315a45e5c00360cc78a8aa5219134f3129d327c18d3966193813", "refresh_token"=>"1935ce2b8c65d56bb1d033390e48c17cc041e64832f7b659ed00d3a7c6666e51", "expire_at"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000423'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "token"=>"14aec5c3387b5e4e2fe49fc284d59dc2d3821727b5cd16e04215975c1f82daaf", "refresh_token"=>"06651f19d15d64131792da9e65d94f3b5cfe631a321691ffcabdbb2c9589cb07", "expire_at"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000424'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:02:31 UTC, "token"=>"99d0b5ae7512112fa2f7d1eaa70a9e68f6fae86b908a50f7cb5fa42f6ef21adc", "refresh_token"=>"aa2b64932e54079044109617bcc137826332c30428ada49c55deaf624eebbc79", "expire_at"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:02:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000425'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:32:31 UTC, "token"=>"ae97914714d19bc7a3205468babbb0b36c8d0016e75124b7f1073c7bd8fcce1c", "refresh_token"=>"757e3640e8b2130c220306d93b467137321ad9acc46970718ad0c4a30ccd34f5", "expire_at"=>2012-12-11 18:02:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000426'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:32:31 UTC, "token"=>"78167032e373f44bcd4e48906c11bbeaefbe840a2782fe6060a75706dd56cce9", "refresh_token"=>"2d5734aea60beb16ba4cc868102dbdcfeb79a7caac9112b9ed826e34617a6abe", "expire_at"=>2012-12-11 18:02:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000427'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:32:31 UTC, "token"=>"caef8e2f19cf455cd69ef7319b3c955a65869f023c4a8b6c00a2dfdd27cd7123", "refresh_token"=>"87a30e8689c1cc4dcef0c63fdb9ffae215f8a7bc018abd41a349c1624ae9e83c", "expire_at"=>2012-12-11 18:02:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000427')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000428'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:32:31 UTC, "token"=>"36ec2b41397ed188bca259ee98c3ff7c5cc6579e9da0bdb73e8bdd31924f2550", "refresh_token"=>"1af94973e5a5af886516b732e2ddb34d44487a0a95c02816005561c7ed325ab6", "expire_at"=>2012-12-11 18:02:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c2281890000429'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:32:31 UTC, "token"=>"61c9d1f868f8538a049b065ab462d4a4a7a8cb5fce11f76c6ddc4fe18d99d08f", "refresh_token"=>"de81aeb218b0d44275ff75a5f4f3acddf669598858723160c38cc53a8aaa1eaa", "expire_at"=>2012-12-11 18:02:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003d4')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859422c22818900003d9')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003de')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003e3')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003e8')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003ed')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f2')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c22818900003f7')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c228189000041b')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c228189000041d')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c228189000041f')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000420')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000421')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000422')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000423')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000424')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000425')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000426')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c2281890000428')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:_id=>BSON::ObjectId('50c6859522c2281890000428')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c228189000042a'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:32:31 UTC, "token"=>"b4052cf3504ba307b49368a9492b31af26d90cd52e82844c3f126c93e1f2f759", "refresh_token"=>"cb0408ca7b84318dba5fb722a1fa9781a4d3def217edd8bb202db18654672a63", "expire_at"=>2012-12-11 18:02:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859522c228189000042b'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:32:31 UTC, "token"=>"26941489820393bb896d849637b9276c225eee05bce04b85991611b364935d5e", "refresh_token"=>"aa7b71adec7dd54069d8f94955156b75921a992797604e2649ffc77c416bc323", "expire_at"=>2012-12-11 18:02:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859522c228189000042a')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859622c228189000042c'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:32:31 UTC, "token"=>"c7be58d01149296aaad4dba34a63577701ba57eb6dcaf06d9baca8073c229bc3", "refresh_token"=>"34d837fec1e2e4a103e1b47dde5c262b0ecfd7673f784bf1c495bff98ffca779", "expire_at"=>2012-12-11 18:02:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859622c228189000042d'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:32:31 UTC, "token"=>"4653988a5451c35223c6b7eabdb096705d93873f293276133f72fc09c22941fa", "refresh_token"=>"01cfbedebece700378288c683c8f53d9a98a298c1b499e585e4c55080e313340", "expire_at"=>2012-12-11 18:02:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859622c228189000042e'), "resource_owner_uri"=>"http://www.iana.org/domains/example/users/another", "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:32:31 UTC, "token"=>"de845b512cea9fa62a98f59f953cc275318e3ce6e9f501ad436678e386a321f6", "refresh_token"=>"8cb3bf7102c0f51b7b59ff75648bdd196afc309b8c5104f79641e82bdaa0c895", "expire_at"=>2012-12-11 18:02:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859622c228189000042c')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['oauth_tokens'].find({:_id=>BSON::ObjectId('50c6859622c228189000042c')})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859622c228189000042f'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:32:31 UTC, "token"=>"a459a196768058f4a16220924fc7aba3f24bfdd884d07eef899c840a048469b3", "refresh_token"=>"74b3552c920c4f661ef464cbf1371f5a327b9d58bf395b07729b4008b30e7606", "expire_at"=>2012-12-11 18:02:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859622c2281890000430'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:32:31 UTC, "token"=>"f4f37e8814d2258adf87b92f3d7b25677b0d8be1dcd58982c4a0a69e51a5190c", "refresh_token"=>"259c4b37c989216b23c847bf76537b1f8839bcf528382324d82231cff2a96c23", "expire_at"=>2012-12-11 18:02:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859622c2281890000431'), "resource_owner_uri"=>"http://www.iana.org/domains/example/users/another", "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:32:31 UTC, "token"=>"3f10bab9f343c774a7ee299ac64b4166146ea3019b8f5dc5cbab084a95387755", "refresh_token"=>"ca48ae33bfd390a1f43651f7f6d55fd069cae055e5960c04655f2f2bedada12a", "expire_at"=>2012-12-11 18:02:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859622c228189000042f')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859622c2281890000432'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:32:31 UTC, "token"=>"bc60dae8f0c50e746f41e10566dd843373cedeab5b715eb0afd2c7befdcb575f", "refresh_token"=>"8d0732803a58944123c6f5fc7dcc1635d919f97f9ac295134ae9d87fb61b4384", "expire_at"=>2012-12-11 18:02:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859622c2281890000433'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/riflect", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:32:31 UTC, "token"=>"9b5db8f5b9036ebbc6db306886744980c978864654a45bc6efcad6b9b70a3534", "refresh_token"=>"f0a0aa95f29b896e322c837f14274c03da62da27fda7da38d7560dcc8af5cf8c", "expire_at"=>2012-12-11 18:02:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859622c2281890000434'), "resource_owner_uri"=>"http://www.iana.org/domains/example/users/another", "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:32:31 UTC, "token"=>"22eaa9506ab4b8fba352e582e73006b467361fa2133e2dbe595c0692944188da", "refresh_token"=>"9098759a84d5dde558b10f820dde1a95b8feb1ec53b98f27ac02caa332a7ef47", "expire_at"=>2012-12-11 18:02:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example"})
MONGODB oauth_test['oauth_tokens'].update({"_id"=>BSON::ObjectId('50c6859622c2281890000432')}, {"$set"=>{"blocked"=>2012-12-11 17:32:31 UTC}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['oauth_tokens'].insert([{"_id"=>BSON::ObjectId('50c6859622c2281890000435'), "client_uri"=>"http://www.iana.org/domains/example/users/alice/client/lelylan", "resource_owner_uri"=>"http://www.iana.org/domains/example/users/example", "scope"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "created_at"=>2012-12-11 17:32:31 UTC, "token"=>"e653802943f53f16e451140ae28f5883d4ed7aefd7c6427bec8edfd3e55ecca0", "refresh_token"=>"dd73931b807fe572b035198ac04676fcba9861a058781175b8318ac0c79e84a4", "expire_at"=>2012-12-11 18:02:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['oauth_tokens'].find({:client_uri=>"http://www.iana.org/domains/example/users/alice/client/lelylan", :resource_owner_uri=>"http://www.iana.org/domains/example/users/example", :scope=>{"$all"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"]}})
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859622c2281890000436'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859622c2281890000437'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859622c2281890000438'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859622c2281890000439'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859622c228189000043a'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859622c228189000043b'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['$cmd'].find({"count"=>"users", "query"=>{}, "fields"=>nil})
MONGODB oauth_test['users'].find({})
MONGODB oauth_test['scopes'].insert([{"values"=>["pizzas/index", "pizzas/show", "pizzas/create", "pizzas/update", "pizzas/destroy"], "_id"=>BSON::ObjectId('50c6859622c228189000043c'), "uri"=>"http://www.iana.org/domains/example/scopes/pizzas", "name"=>"pizzas", "created_at"=>2012-12-11 17:32:31 UTC, "updated_at"=>2012-12-11 17:32:31 UTC}])
MONGODB oauth_test['system.namespaces'].find({})
MONGODB oauth_test['system.namespaces'].find({})
MONGODB oauth_test['$cmd'].find({:drop=>"users"})
MONGODB oauth_test['system.namespaces'].find({})
MONGODB oauth_test['$cmd'].find({:drop=>"clients"})
MONGODB oauth_test['system.namespaces'].find({})
MONGODB oauth_test['$cmd'].find({:drop=>"oauth_tokens"})
MONGODB oauth_test['system.namespaces'].find({})
MONGODB oauth_test['$cmd'].find({:drop=>"oauth_accesses"})
MONGODB oauth_test['system.namespaces'].find({})
MONGODB oauth_test['$cmd'].find({:drop=>"scopes"})
MONGODB oauth_test['system.namespaces'].find({})
MONGODB oauth_test['$cmd'].find({:drop=>"oauth_authorizations"})
MONGODB oauth_test['system.namespaces'].find({})
MONGODB oauth_test['$cmd'].find({:drop=>"oauth_refresh_tokens"})
